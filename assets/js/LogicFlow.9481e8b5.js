(self["webpackChunkscenes"]=self["webpackChunkscenes"]||[]).push([[624],{9782:function(e,t){(function(t,n){e.exports=n()})(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=215)}([function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return Ln})),n.d(t,"c",(function(){return pt})),n.d(t,"d",(function(){return He})),n.d(t,"e",(function(){return De})),n.d(t,"f",(function(){return Me})),n.d(t,"g",(function(){return Ve})),n.d(t,"h",(function(){return Qn})),n.d(t,"i",(function(){return Oe})),n.d(t,"j",(function(){return ze})),n.d(t,"k",(function(){return jt})),n.d(t,"l",(function(){return Nt})),n.d(t,"m",(function(){return ge})),n.d(t,"n",(function(){return Bt})),n.d(t,"o",(function(){return M})),n.d(t,"p",(function(){return tn})),n.d(t,"q",(function(){return zt})),n.d(t,"r",(function(){return Yt})),n.d(t,"s",(function(){return Jn})),n.d(t,"t",(function(){return Ft})),n.d(t,"u",(function(){return kt})),n.d(t,"v",(function(){return Zt})),n.d(t,"w",(function(){return qt})),n.d(t,"x",(function(){return Qt})),n.d(t,"y",(function(){return Cn})),n.d(t,"z",(function(){return Bn})),n.d(t,"A",(function(){return qn})),n.d(t,"B",(function(){return $t})),n.d(t,"C",(function(){return fe})),n.d(t,"D",(function(){return rn})),n.d(t,"E",(function(){return Rt})),n.d(t,"F",(function(){return Tt})),n.d(t,"G",(function(){return Pt})),n.d(t,"H",(function(){return Ot})),n.d(t,"I",(function(){return sn})),n.d(t,"J",(function(){return dn})),n.d(t,"K",(function(){return ke})),n.d(t,"L",(function(){return en})),n.d(t,"M",(function(){return hn}));var o="An invariant failed, however the error is obfuscated because this is a production build.",i=[];Object.freeze(i);var a={};function u(){return++$e.mobxGuid}function c(e){throw l(!1,e),"X"}function l(e,t){if(!e)throw new Error("[mobx] "+(t||o))}Object.freeze(a);function s(e,t){return!1}function f(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var p=function(){};function d(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t}function h(e){return null!==e&&"object"===typeof e}function y(e){if(null===e||"object"!==typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function v(e){if(_(e)||Bn(e))return e;if(Array.isArray(e))return new Map(e);if(y(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return c("Cannot convert to map from '"+e+"'")}function g(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function b(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function m(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}function w(e,t){0}function O(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return h(e)&&!0===e[n]}}function _(e){return e instanceof Map}function x(e){return e instanceof Set}function E(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach((function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)})),Array.from(t)}function S(e){return e&&e.toString?e.toString():new String(e).toString()}function j(e){return null===e?null:"object"===typeof e?""+e:e}var P="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,k=Symbol("mobx administration"),A=function(){function e(e){void 0===e&&(e="Atom@"+u()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=de.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return at(this)},e.prototype.reportChanged=function(){ot(),ut(this),it()},e.prototype.toString=function(){return this.name},e}(),N=O("Atom",A);function M(e,t,n){void 0===t&&(t=p),void 0===n&&(n=p);var r=new A(e);return t!==p&&It(r,t),n!==p&&Rt(r,n),r}function D(e,t){return e===t}function T(e,t){return tr(e,t)}function C(e,t){return tr(e,t,1)}function I(e,t){return Object.is(e,t)}var R={identity:D,structural:T,default:I,shallow:C},L=function(e,t){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},L(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function B(e,t){function n(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},z.apply(this,arguments)};function V(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function H(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}function F(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(H(arguments[t]));return e}var G=Symbol("mobx did run lazy initializers"),U=Symbol("mobx pending decorators"),X={},Y={};function W(e,t){var n=t?X:Y;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return K(this),this[e]},set:function(t){K(this),this[e]=t}})}function K(e){var t,n;if(!0!==e[G]){var r=e[U];if(r){g(e,G,!0);var o=F(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=V(o),a=i.next();!a.done;a=i.next()){var u=a.value,c=r[u];c.propertyCreator(e,c.prop,c.descriptor,c.decoratorTarget,c.decoratorArguments)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}}}function Z(e,t){return function(){var n,r=function(r,o,i,a){if(!0===a)return t(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,U)){var u=r[U];g(r,U,z({},u))}return r[U][o]={prop:o,propertyCreator:t,descriptor:i,decoratorTarget:r,decoratorArguments:n},W(o,e)};return q(arguments)?(n=i,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function q(e){return(2===e.length||3===e.length)&&("string"===typeof e[1]||"symbol"===typeof e[1])||4===e.length&&!0===e[3]}function J(e,t,n){return Qt(e)?e:Array.isArray(e)?fe.array(e,{name:n}):y(e)?fe.object(e,void 0,{name:n}):_(e)?fe.map(e,{name:n}):x(e)?fe.set(e,{name:n}):e}function Q(e,t,n){return void 0===e||null===e||qn(e)||Cn(e)||Bn(e)||Hn(e)?e:Array.isArray(e)?fe.array(e,{name:n,deep:!1}):y(e)?fe.object(e,void 0,{name:n,deep:!1}):_(e)?fe.map(e,{name:n,deep:!1}):x(e)?fe.set(e,{name:n,deep:!1}):c(!1)}function $(e){return e}function ee(e,t,n){return tr(e,t)?t:e}function te(t){l(t);var n=Z(!0,(function(e,n,r,o,i){var a=r?r.initializer?r.initializer.call(e):r.value:void 0;Gn(e).addObservableProp(n,a,t)})),r=("undefined"!==typeof e&&e.env,n);return r.enhancer=t,r}var ne={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function re(e){return null===e||void 0===e?ne:"string"===typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(ne);var oe=te(J),ie=te(Q),ae=te($),ue=te(ee);function ce(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?$:J}function le(e,t,n){if("string"===typeof arguments[1]||"symbol"===typeof arguments[1])return oe.apply(null,arguments);if(Qt(e))return e;var r=y(e)?fe.object(e,t,n):Array.isArray(e)?fe.array(e,t):_(e)?fe.map(e,t):x(e)?fe.set(e,t):e;if(r!==e)return r;c(!1)}var se={box:function(e,t){arguments.length>2&&pe("box");var n=re(t);return new Ue(e,ce(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&pe("array");var n=re(t);return An(e,ce(n),n.name)},map:function(e,t){arguments.length>2&&pe("map");var n=re(t);return new Ln(e,ce(n),n.name)},set:function(e,t){arguments.length>2&&pe("set");var n=re(t);return new Vn(e,ce(n),n.name)},object:function(e,t,n){"string"===typeof arguments[1]&&pe("object");var r=re(n);if(!1===r.proxy)return zt({},e,t,r);var o=Vt(r),i=zt({},void 0,void 0,r),a=wn(i);return Ht(a,e,t,o),a},ref:ae,shallow:ie,deep:oe,struct:ue},fe=le;function pe(e){c("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(se).forEach((function(e){return fe[e]=se[e]}));var de,he,ye=Z(!1,(function(e,t,n,r,o){var i=n.get,a=n.set,u=o[0]||{};Gn(e).addComputedProp(e,t,z({get:i,set:a,context:e},u))})),ve=ye({equals:R.structural}),ge=function(e,t,n){if("string"===typeof t)return ye.apply(null,arguments);if(null!==e&&"object"===typeof e&&1===arguments.length)return ye.apply(null,arguments);var r="object"===typeof t?t:{};return r.get=e,r.set="function"===typeof t?t:r.set,r.name=r.name||e.name||"",new Ye(r)};ge.struct=ve,function(e){e[e["NOT_TRACKING"]=-1]="NOT_TRACKING",e[e["UP_TO_DATE"]=0]="UP_TO_DATE",e[e["POSSIBLY_STALE"]=1]="POSSIBLY_STALE",e[e["STALE"]=2]="STALE"}(de||(de={})),function(e){e[e["NONE"]=0]="NONE",e[e["LOG"]=1]="LOG",e[e["BREAK"]=2]="BREAK"}(he||(he={}));var be=function(){function e(e){this.cause=e}return e}();function me(e){return e instanceof be}function we(e){switch(e.dependenciesState){case de.UP_TO_DATE:return!1;case de.NOT_TRACKING:case de.STALE:return!0;case de.POSSIBLY_STALE:for(var t=Me(!0),n=Ae(),r=e.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(We(a)){if($e.disableErrorBoundaries)a.get();else try{a.get()}catch(u){return Ne(n),De(t),!0}if(e.dependenciesState===de.STALE)return Ne(n),De(t),!0}}return Te(e),Ne(n),De(t),!1}}function Oe(){return null!==$e.trackingDerivation}function _e(e){var t=e.observers.size>0;$e.computationDepth>0&&t&&c(!1),$e.allowStateChanges||!t&&"strict"!==$e.enforceActions||c(!1)}function xe(e){0}function Ee(e,t,n){var r=Me(!0);Te(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++$e.runId;var o,i=$e.trackingDerivation;if($e.trackingDerivation=e,!0===$e.disableErrorBoundaries)o=t.call(n);else try{o=t.call(n)}catch(a){o=new be(a)}return $e.trackingDerivation=i,je(e),Se(e),De(r),o}function Se(e){}function je(e){for(var t=e.observing,n=e.observing=e.newObserving,r=de.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++){var u=n[a];0===u.diffValue&&(u.diffValue=1,o!==a&&(n[o]=u),o++),u.dependenciesState>r&&(r=u.dependenciesState)}n.length=o,e.newObserving=null,i=t.length;while(i--){u=t[i];0===u.diffValue&&nt(u,e),u.diffValue=0}while(o--){u=n[o];1===u.diffValue&&(u.diffValue=0,tt(u,e))}r!==de.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}function Pe(e){var t=e.observing;e.observing=[];var n=t.length;while(n--)nt(t[n],e);e.dependenciesState=de.NOT_TRACKING}function ke(e){var t=Ae();try{return e()}finally{Ne(t)}}function Ae(){var e=$e.trackingDerivation;return $e.trackingDerivation=null,e}function Ne(e){$e.trackingDerivation=e}function Me(e){var t=$e.allowStateReads;return $e.allowStateReads=e,t}function De(e){$e.allowStateReads=e}function Te(e){if(e.dependenciesState!==de.UP_TO_DATE){e.dependenciesState=de.UP_TO_DATE;var t=e.observing,n=t.length;while(n--)t[n].lowestObserverState=de.UP_TO_DATE}}var Ce=0,Ie=1,Re=Object.getOwnPropertyDescriptor((function(){}),"name");Re&&Re.configurable;function Le(e,t,n){var r=function(){return Be(e,t,n||this,arguments)};return r.isMobxAction=!0,r}function Be(e,t,n,r){var o=ze(e,n,r);try{return t.apply(n,r)}catch(i){throw o.error=i,i}finally{Ve(o)}}function ze(e,t,n){var r=mt()&&!!e,o=0,i=Ae();ot();var a=Fe(!0),u=Me(!0),c={prevDerivation:i,prevAllowStateChanges:a,prevAllowStateReads:u,notifySpy:r,startTime:o,actionId:Ie++,parentActionId:Ce};return Ce=c.actionId,c}function Ve(e){Ce!==e.actionId&&c("invalid action stack. did you forget to finish an action?"),Ce=e.parentActionId,void 0!==e.error&&($e.suppressReactionErrors=!0),Ge(e.prevAllowStateChanges),De(e.prevAllowStateReads),it(),Ne(e.prevDerivation),e.notifySpy,$e.suppressReactionErrors=!1}function He(e,t){var n,r=Fe(e);try{n=t()}finally{Ge(r)}return n}function Fe(e){var t=$e.allowStateChanges;return $e.allowStateChanges=e,t}function Ge(e){$e.allowStateChanges=e}var Ue=function(e){function t(t,n,r,o,i){void 0===r&&(r="ObservableValue@"+u()),void 0===o&&(o=!0),void 0===i&&(i=R.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=i,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),o&&mt(),a}return B(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value;if(e=this.prepareNewValue(e),e!==$e.UNCHANGED){mt();0,this.setNewValue(e)}},t.prototype.prepareNewValue=function(e){if(_e(this),On(this)){var t=xn(this,{object:this,type:"update",newValue:e});if(!t)return $e.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?$e.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),En(this)&&jn(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return _n(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Sn(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return j(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(A),Xe=O("ObservableValue",Ue),Ye=function(){function e(e){this.dependenciesState=de.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=de.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+u(),this.value=new be(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=he.NONE,l(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+u(),e.set&&(this.setter=Le(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?R.structural:R.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){lt(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&c("Cycle detected in computation "+this.name+": "+this.derivation),0!==$e.inBatch||0!==this.observers.size||this.keepAlive?(at(this),we(this)&&this.trackAndCompute()&&ct(this)):we(this)&&(this.warnAboutUntrackedRead(),ot(),this.value=this.computeValue(!1),it());var e=this.value;if(me(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(me(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){l(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else l(!1,!1)},e.prototype.trackAndCompute=function(){mt();var e=this.value,t=this.dependenciesState===de.NOT_TRACKING,n=this.computeValue(!0),r=t||me(e)||me(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,$e.computationDepth++,e)t=Ee(this,this.derivation,this.scope);else if(!0===$e.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(n){t=new be(n)}return $e.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(Pe(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return Nt((function(){var i=n.get();if(!r||t){var a=Ae();e({type:"update",object:n,newValue:i,oldValue:o}),Ne(a)}r=!1,o=i}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return j(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),We=O("ComputedValue",Ye),Ke=function(){function e(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return e}(),Ze={};function qe(){return"undefined"!==typeof window?window:"undefined"!==typeof r?r:"undefined"!==typeof self?self:Ze}var Je=!0,Qe=!1,$e=function(){var e=qe();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Je=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Ke).version&&(Je=!1),Je?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Ke):(setTimeout((function(){Qe||c("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Ke)}();function et(){($e.pendingReactions.length||$e.inBatch||$e.isRunningReactions)&&c("isolateGlobalState should be called before MobX is running any reactions"),Qe=!0,Je&&(0===--qe().__mobxInstanceCount&&(qe().__mobxGlobals=void 0),$e=new Ke)}function tt(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function nt(e,t){e.observers.delete(t),0===e.observers.size&&rt(e)}function rt(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,$e.pendingUnobservations.push(e))}function ot(){$e.inBatch++}function it(){if(0===--$e.inBatch){yt();for(var e=$e.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Ye&&n.suspend())}$e.pendingUnobservations=[]}}function at(e){xe(e);var t=$e.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&$e.inBatch>0&&rt(e),!1)}function ut(e){e.lowestObserverState!==de.STALE&&(e.lowestObserverState=de.STALE,e.observers.forEach((function(t){t.dependenciesState===de.UP_TO_DATE&&(t.isTracing!==he.NONE&&st(t,e),t.onBecomeStale()),t.dependenciesState=de.STALE})))}function ct(e){e.lowestObserverState!==de.STALE&&(e.lowestObserverState=de.STALE,e.observers.forEach((function(t){t.dependenciesState===de.POSSIBLY_STALE?t.dependenciesState=de.STALE:t.dependenciesState===de.UP_TO_DATE&&(e.lowestObserverState=de.UP_TO_DATE)})))}function lt(e){e.lowestObserverState===de.UP_TO_DATE&&(e.lowestObserverState=de.POSSIBLY_STALE,e.observers.forEach((function(t){t.dependenciesState===de.UP_TO_DATE&&(t.dependenciesState=de.POSSIBLY_STALE,t.isTracing!==he.NONE&&st(t,e),t.onBecomeStale())})))}function st(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===he.BREAK){var n=[];ft(Ft(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Ye?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function ft(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return ft(e,t,n+1)})))}var pt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+u()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=de.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+u(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=he.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,$e.pendingReactions.push(this),yt())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(ot(),this._isScheduled=!1,we(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&mt()}catch(e){this.reportExceptionInDerivation(e)}}it()}},e.prototype.track=function(e){if(!this.isDisposed){ot();mt();0,this._isRunning=!0;var t=Ee(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Pe(this),me(t)&&this.reportExceptionInDerivation(t.cause),it()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if($e.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";$e.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),mt()&&wt({type:"error",name:this.name,message:n,error:""+e}),$e.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(ot(),Pe(this),it()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[k]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),fn(this,e)},e}();var dt=100,ht=function(e){return e()};function yt(){$e.inBatch>0||$e.isRunningReactions||ht(vt)}function vt(){$e.isRunningReactions=!0;var e=$e.pendingReactions,t=0;while(e.length>0){++t===dt&&(console.error("Reaction doesn't converge to a stable state after "+dt+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}$e.isRunningReactions=!1}var gt=O("Reaction",pt);function bt(e){var t=ht;ht=function(n){return e((function(){return t(n)}))}}function mt(){return!1}function wt(e){}function Ot(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function _t(){c(!1)}function xt(e){return function(t,n,r){if(r){if(r.value)return{value:Le(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Le(e,o.call(this))}}}return Et(e).apply(this,arguments)}}function Et(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){g(this,n,jt(e,t))}})}}function St(e,t,n,r){return!0===r?(At(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return At(this,t,n.value||n.initializer.call(this)),this[t]},set:_t}:{enumerable:!1,configurable:!0,set:function(e){At(this,t,e)},get:function(){}}}var jt=function(e,t,n,r){return 1===arguments.length&&"function"===typeof e?Le(e.name||"<unnamed action>",e):2===arguments.length&&"function"===typeof t?Le(e,t):1===arguments.length&&"string"===typeof e?xt(e):!0!==r?xt(t).apply(null,arguments):void g(e,t,Le(e.name||t,n.value,this))};function Pt(e,t){var n="string"===typeof e?e:e.name||"<unnamed action>",r="function"===typeof e?e:t;return Be(n,r,this,void 0)}function kt(e){return"function"===typeof e&&!0===e.isMobxAction}function At(e,t,n){g(e,t,Le(t,n.bind(e)))}function Nt(e,t){void 0===t&&(t=a);var n,r=t&&t.name||e.name||"Autorun@"+u(),o=!t.scheduler&&!t.delay;if(o)n=new pt(r,(function(){this.track(l)}),t.onError,t.requiresObservable);else{var i=Dt(t),c=!1;n=new pt(r,(function(){c||(c=!0,i((function(){c=!1,n.isDisposed||n.track(l)})))}),t.onError,t.requiresObservable)}function l(){e(n)}return n.schedule(),n.getDisposer()}jt.bound=St;var Mt=function(e){return e()};function Dt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Mt}function Tt(e,t,n){void 0===n&&(n=a);var r,o=n.name||"Reaction@"+u(),i=jt(o,n.onError?Ct(n.onError,t):t),c=!n.scheduler&&!n.delay,l=Dt(n),s=!0,f=!1,p=n.compareStructural?R.structural:n.equals||R.default,d=new pt(o,(function(){s||c?h():f||(f=!0,l(h))}),n.onError,n.requiresObservable);function h(){if(f=!1,!d.isDisposed){var t=!1;d.track((function(){var n=e(d);t=s||!p(r,n),r=n})),s&&n.fireImmediately&&i(r,d),s||!0!==t||i(r,d),s&&(s=!1)}}return d.schedule(),d.getDisposer()}function Ct(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}function It(e,t,n){return Lt("onBecomeObserved",e,t,n)}function Rt(e,t,n){return Lt("onBecomeUnobserved",e,t,n)}function Lt(e,t,n,r){var o="function"===typeof r?Jn(t,n):Jn(t),i="function"===typeof r?r:n,a=e+"Listeners";o[a]?o[a].add(i):o[a]=new Set([i]);var u=o[e];return"function"!==typeof u?c(!1):function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}function Bt(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,o=e.disableErrorBoundaries,i=e.reactionScheduler,a=e.reactionRequiresObservable,u=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&et(),void 0!==t){"boolean"!==typeof t&&"strict"!==t||s("Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead");var l=void 0;switch(t){case!0:case"observed":l=!0;break;case!1:case"never":l=!1;break;case"strict":case"always":l="strict";break;default:c("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}$e.enforceActions=l,$e.allowStateChanges=!0!==l&&"strict"!==l}void 0!==n&&($e.computedRequiresReaction=!!n),void 0!==a&&($e.reactionRequiresObservable=!!a),void 0!==u&&($e.observableRequiresReaction=!!u,$e.allowStateReads=!$e.observableRequiresReaction),void 0!==r&&($e.computedConfigurable=!!r),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),$e.disableErrorBoundaries=!!o),i&&bt(i)}function zt(e,t,n,r){r=re(r);var o=Vt(r);return K(e),Gn(e,r.name,o.enhancer),t&&Ht(e,t,n,o),e}function Vt(e){return e.defaultDecorator||(!1===e.deep?ae:oe)}function Ht(e,t,n,r){var o,i;ot();try{var a=P(t);try{for(var u=V(a),c=u.next();!c.done;c=u.next()){var l=c.value,s=Object.getOwnPropertyDescriptor(t,l);0;var f=n&&l in n?n[l]:s.get?ye:r;0;var p=f(e,l,s,!0);p&&Object.defineProperty(e,l,p)}}catch(d){o={error:d}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}finally{it()}}function Ft(e,t){return Gt(Jn(e,t))}function Gt(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=d(e.observing).map(Gt)),t}var Ut=0;function Xt(){this.message="FLOW_CANCELLED"}function Yt(e){1!==arguments.length&&c("Flow expects 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=this,o=arguments,i=++Ut,a=jt(t+" - runid: "+i+" - init",e).apply(r,o),u=void 0,c=new Promise((function(e,r){var o=0;function c(e){var n;u=void 0;try{n=jt(t+" - runid: "+i+" - yield "+o++,a.next).call(a,e)}catch(c){return r(c)}s(n)}function l(e){var n;u=void 0;try{n=jt(t+" - runid: "+i+" - yield "+o++,a.throw).call(a,e)}catch(c){return r(c)}s(n)}function s(t){if(!t||"function"!==typeof t.then)return t.done?e(t.value):(u=Promise.resolve(t.value),u.then(c,l));t.then(s,r)}n=r,c(void 0)}));return c.cancel=jt(t+" - runid: "+i+" - cancel",(function(){try{u&&Wt(u);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(p,p),Wt(t),n(new Xt)}catch(r){n(r)}})),c}}function Wt(e){"function"===typeof e.cancel&&e.cancel()}function Kt(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(!1===qn(e))return!1;if(!e[k].values.has(t))return!1;var n=Jn(e,t);return We(n)}return We(e)}function Zt(e){return arguments.length>1?c(!1):Kt(e)}function qt(e,t){return"string"!==typeof t?c(!1):Kt(e,t)}function Jt(e,t){return null!==e&&void 0!==e&&(void 0!==t?!!qn(e)&&e[k].values.has(t):qn(e)||!!e[k]||N(e)||gt(e)||We(e))}function Qt(e){return 1!==arguments.length&&c(!1),Jt(e)}function $t(e){return qn(e)?e[k].getKeys():Bn(e)||Hn(e)?Array.from(e.keys()):Cn(e)?e.map((function(e,t){return t})):c(!1)}function en(e){return qn(e)?$t(e).map((function(t){return e[t]})):Bn(e)?$t(e).map((function(t){return e.get(t)})):Hn(e)?Array.from(e.values()):Cn(e)?e.slice():c(!1)}function tn(e){return qn(e)?$t(e).map((function(t){return[t,e[t]]})):Bn(e)?$t(e).map((function(t){return[t,e.get(t)]})):Hn(e)?Array.from(e.entries()):Cn(e)?e.map((function(e,t){return[t,e]})):c(!1)}function nn(e,t,n){if(2!==arguments.length||Hn(e))if(qn(e)){var r=e[k],o=r.values.get(t);o?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(Bn(e))e.set(t,n);else if(Hn(e))e.add(t);else{if(!Cn(e))return c(!1);"number"!==typeof t&&(t=parseInt(t,10)),l(t>=0,"Not a valid index: '"+t+"'"),ot(),t>=e.length&&(e.length=t+1),e[t]=n,it()}else{ot();var i=t;try{for(var a in i)nn(e,a,i[a])}finally{it()}}}function rn(e,t,n,r){return"function"===typeof n?an(e,t,n,r):on(e,t,n)}function on(e,t,n){return Qn(e).observe(t,n)}function an(e,t,n,r){return Qn(e,t).observe(n,r)}Xt.prototype=Object.create(Error.prototype);var un={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function cn(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function ln(e,t,n){if(!t.recurseEverything&&!Qt(e))return e;if("object"!==typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Xe(e))return ln(e.get(),t,n);Qt(e)&&$t(e);var r=!0===t.detectCycles;if(r&&null!==e&&n.has(e))return n.get(e);if(Cn(e)||Array.isArray(e)){var o=cn(n,e,[],t),i=e.map((function(e){return ln(e,t,n)}));o.length=i.length;for(var a=0,u=i.length;a<u;a++)o[a]=i[a];return o}if(Hn(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===t.exportMapsAsObjects){var c=cn(n,e,new Set,t);return e.forEach((function(e){c.add(ln(e,t,n))})),c}var l=cn(n,e,[],t);return e.forEach((function(e){l.push(ln(e,t,n))})),l}if(Bn(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===t.exportMapsAsObjects){var s=cn(n,e,new Map,t);return e.forEach((function(e,r){s.set(r,ln(e,t,n))})),s}var f=cn(n,e,{},t);return e.forEach((function(e,r){f[r]=ln(e,t,n)})),f}var p=cn(n,e,{},t);return E(e).forEach((function(r){p[r]=ln(e[r],t,n)})),p}function sn(e,t){var n;return"boolean"===typeof t&&(t={detectCycles:t}),t||(t=un),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),ln(e,t,n)}function fn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"===typeof e[e.length-1]&&(n=e.pop());var r=pn(e);if(!r)return c(!1);r.isTracing===he.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?he.BREAK:he.LOG}function pn(e){switch(e.length){case 0:return $e.trackingDerivation;case 1:return Jn(e[0]);case 2:return Jn(e[0],e[1])}}function dn(e,t){void 0===t&&(t=void 0),ot();try{return e.apply(t)}finally{it()}}function hn(e,t,n){return 1===arguments.length||t&&"object"===typeof t?vn(e,t):yn(e,t,n||{})}function yn(e,t,n){var r;"number"===typeof n.timeout&&(r=setTimeout((function(){if(!i[k].isDisposed){i();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}}),n.timeout)),n.name=n.name||"When@"+u();var o=Le(n.name+"-effect",t),i=Nt((function(t){e()&&(t.dispose(),r&&clearTimeout(r),o())}),n);return i}function vn(e,t){var n;var r=new Promise((function(r,o){var i=yn(e,r,z(z({},t),{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}}));return r.cancel=n,r}function gn(e){return e[k]}function bn(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e}var mn={has:function(e,t){if(t===k||"constructor"===t||t===G)return!0;var n=gn(e);return bn(t)?n.has(t):t in e},get:function(e,t){if(t===k||"constructor"===t||t===G)return e[t];var n=gn(e),r=n.values.get(t);if(r instanceof A){var o=r.get();return void 0===o&&n.has(t),o}return bn(t)&&n.has(t),e[t]},set:function(e,t,n){return!!bn(t)&&(nn(e,t,n),!0)},deleteProperty:function(e,t){if(!bn(t))return!1;var n=gn(e);return n.remove(t),!0},ownKeys:function(e){var t=gn(e);return t.keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return c("Dynamic observable objects cannot be frozen"),!1}};function wn(e){var t=new Proxy(e,mn);return e[k].proxy=t,t}function On(e){return void 0!==e.interceptors&&e.interceptors.length>0}function _n(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),f((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function xn(e,t){var n=Ae();try{for(var r=F(e.interceptors||[]),o=0,i=r.length;o<i;o++)if(t=r[o](t),l(!t||t.type,"Intercept handlers should return nothing or a change object"),!t)break;return t}finally{Ne(n)}}function En(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Sn(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),f((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function jn(e,t){var n=Ae(),r=e.changeListeners;if(r){r=r.slice();for(var o=0,i=r.length;o<i;o++)r[o](t);Ne(n)}}var Pn=1e4,kn={get:function(e,t){return t===k?e[k]:"length"===t?e[k].getArrayLength():"number"===typeof t?Mn.get.call(e,t):"string"!==typeof t||isNaN(t)?Mn.hasOwnProperty(t)?Mn[t]:e[t]:Mn.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[k].setArrayLength(n),"number"===typeof t&&Mn.set.call(e,t,n),"symbol"===typeof t||isNaN(t)?e[t]=n:Mn.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return c("Observable arrays cannot be frozen"),!1}};function An(e,t,n,r){void 0===n&&(n="ObservableArray@"+u()),void 0===r&&(r=!1);var o=new Nn(n,t,r);b(o.values,k,o);var i=new Proxy(o.values,kn);if(o.proxy=i,e&&e.length){var a=Fe(!0);o.spliceWithArray(0,0,e),Ge(a)}return i}var Nn=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new A(e||"ObservableArray@"+u()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return _n(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Sn(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!==typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;_e(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:void 0===t||null===t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=i),On(this)){var a=xn(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!a)return i;t=a.removedCount,n=a.added}n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}));var u=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,u),this.dehanceValues(u)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<Pn)return(r=this.values).splice.apply(r,F([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&mt(),o=En(this),i=o||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),o&&jn(this,i)},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&mt(),o=En(this),i=o||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),o&&jn(this,i)},e}(),Mn={intercept:function(e){return this[k].intercept(e)},observe:function(e,t){void 0===t&&(t=!1);var n=this[k];return n.observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[k];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[k];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){var r=this[k];return r.spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[k];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[k].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[k];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[k],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[k];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[k],r=n.values;if(e<r.length){_e(n.atom);var o=r[e];if(On(n)){var i=xn(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!i)return;t=i.newValue}t=n.enhancer(t,o);var a=t!==o;a&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){"function"===typeof Array.prototype[e]&&(Mn[e]=function(){var t=this[k];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(e){"function"===typeof Array.prototype[e]&&(Mn[e]=function(t,n){var r=this,o=this[k];o.atom.reportObserved();var i=o.dehanceValues(o.values);return i[e]((function(e,o){return t.call(n,e,o,r)}),n)})})),["reduce","reduceRight"].forEach((function(e){Mn[e]=function(){var t=this,n=this[k];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,o,i){return o=n.dehanceValue(o),r(e,o,i,t)},n.values[e].apply(n.values,arguments)}}));var Dn,Tn=O("ObservableArrayAdministration",Nn);function Cn(e){return h(e)&&Tn(e[k])}var In,Rn={},Ln=function(){function e(e,t,n){if(void 0===t&&(t=J),void 0===n&&(n="ObservableMap@"+u()),this.enhancer=t,this.name=n,this[Dn]=Rn,this._keysAtom=M(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!==typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!$e.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Ue(this._has(e),$,this.name+"."+S(e)+"?",!1);this._hasMap.set(e,r),Rt(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(On(this)){var r=xn(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(_e(this._keysAtom),On(this)){var n=xn(this,{type:"delete",object:this,name:e});if(!n)return!1}if(this._has(e)){var r=mt(),o=En(this);n=o||r?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return dn((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1);var n=t._data.get(e);n.setNewValue(void 0),t._data.delete(e)})),o&&jn(this,n),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if(t=n.prepareNewValue(t),t!==$e.UNCHANGED){var r=mt(),o=En(this),i=o||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;0,n.setNewValue(t),o&&jn(this,i)}},e.prototype._addValue=function(e,t){var n=this;_e(this._keysAtom),dn((function(){var r=new Ue(t,n.enhancer,n.name+"."+S(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=mt(),o=En(this),i=o||r?{type:"add",object:this,name:e,newValue:t}:null;o&&jn(this,i)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return ir({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:e.get(o)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return ir({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,e.get(o)]}}})},e.prototype[(Dn=k,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var o=V(this),i=o.next();!i.done;i=o.next()){var a=H(i.value,2),u=a[0],c=a[1];e.call(t,c,u,this)}}catch(l){n={error:l}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return Bn(e)&&(e=e.toJS()),dn((function(){var n=Fe(!0);try{y(e)?E(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=H(e,2),r=n[0],o=n[1];return t.set(r,o)})):_(e)?(e.constructor!==Map&&c("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,n){return t.set(n,e)}))):null!==e&&void 0!==e&&c("Cannot initialize map from "+e)}finally{Ge(n)}})),this},e.prototype.clear=function(){var e=this;dn((function(){ke((function(){var t,n;try{for(var r=V(e.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return dn((function(){var n,r,o,i,a=v(e),u=new Map,c=!1;try{for(var l=V(t._data.keys()),s=l.next();!s.done;s=l.next()){var f=s.value;if(!a.has(f)){var p=t.delete(f);if(p)c=!0;else{var d=t._data.get(f);u.set(f,d)}}}}catch(E){n={error:E}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var h=V(a.entries()),y=h.next();!y.done;y=h.next()){var g=H(y.value,2),b=(f=g[0],d=g[1],t._data.has(f));if(t.set(f,d),t._data.has(f)){var m=t._data.get(f);u.set(f,m),b||(c=!0)}}}catch(S){o={error:S}}finally{try{y&&!y.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}if(!c)if(t._data.size!==u.size)t._keysAtom.reportChanged();else{var w=t._data.keys(),O=u.keys(),_=w.next(),x=O.next();while(!_.done){if(_.value!==x.value){t._keysAtom.reportChanged();break}_=w.next(),x=O.next()}}t._data=u})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=V(this),o=r.next();!o.done;o=r.next()){var i=H(o.value,2),a=i[0],u=i[1];n["symbol"===typeof a?a:S(a)]=u}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return S(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return Sn(this,e)},e.prototype.intercept=function(e){return _n(this,e)},e}(),Bn=O("ObservableMap",Ln),zn={},Vn=function(){function e(e,t,n){if(void 0===t&&(t=J),void 0===n&&(n="ObservableSet@"+u()),this.name=n,this[In]=zn,this._data=new Set,this._atom=M(this.name),this[Symbol.toStringTag]="Set","function"!==typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;dn((function(){ke((function(){var t,n;try{for(var r=V(e._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var n,r;try{for(var o=V(this),i=o.next();!i.done;i=o.next()){var a=i.value;e.call(t,a,a,this)}}catch(u){n={error:u}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(_e(this._atom),On(this)){var n=xn(this,{type:"add",object:this,newValue:e});if(!n)return this}if(!this.has(e)){dn((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var r=mt(),o=En(this);n=o||r?{type:"add",object:this,newValue:e}:null;0,o&&jn(this,n)}return this},e.prototype.delete=function(e){var t=this;if(On(this)){var n=xn(this,{type:"delete",object:this,oldValue:e});if(!n)return!1}if(this.has(e)){var r=mt(),o=En(this);n=o||r?{type:"delete",object:this,oldValue:e}:null;return dn((function(){t._atom.reportChanged(),t._data.delete(e)})),o&&jn(this,n),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return ir({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return ir({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return Hn(e)&&(e=e.toJS()),dn((function(){var n=Fe(!0);try{Array.isArray(e)||x(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&c("Cannot initialize set from "+e)}finally{Ge(n)}})),this},e.prototype.observe=function(e,t){return Sn(this,e)},e.prototype.intercept=function(e){return _n(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(In=k,Symbol.iterator)]=function(){return this.values()},e}(),Hn=O("ObservableSet",Vn),Fn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new A(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof Ye)r.set(t);else{if(On(this)){var o=xn(this,{type:"update",object:this.proxy||n,name:e,newValue:t});if(!o)return;t=o.newValue}if(t=r.prepareNewValue(t),t!==$e.UNCHANGED){var i=En(this),a=mt();o=i||a?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;0,r.setNewValue(t),i&&jn(this,o)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new Ue(r,$,this.name+"."+S(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(w(r,e),On(this)){var o=xn(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!o)return;t=o.newValue}var i=new Ue(t,n,this.name+"."+S(e),!1);this.values.set(e,i),t=i.value,Object.defineProperty(r,e,Yn(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r=this.target;n.name=n.name||this.name+"."+S(t),this.values.set(t,new Ye(n)),(e===r||m(e,t))&&Object.defineProperty(e,t,Kn(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(On(this)){var n=xn(this,{object:this.proxy||t,name:e,type:"remove"});if(!n)return}try{ot();var r=En(this),o=mt(),i=this.values.get(e),a=i&&i.get();if(i&&i.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var u=this.pendingKeys.get(e);u&&u.set(!1)}delete this.target[e];n=r||o?{type:"remove",object:this.proxy||t,oldValue:a,name:e}:null;0,r&&jn(this,n)}finally{it()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return Sn(this,e)},e.prototype.intercept=function(e){return _n(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=En(this),r=mt(),o=n||r?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&jn(this,o),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=V(this.values),o=r.next();!o.done;o=r.next()){var i=H(o.value,2),a=i[0],u=i[1];u instanceof Ue&&n.push(a)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function Gn(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=J),Object.prototype.hasOwnProperty.call(e,k))return e[k];y(e)||(t=(e.constructor.name||"ObservableObject")+"@"+u()),t||(t="ObservableObject@"+u());var r=new Fn(e,new Map,S(t),n);return g(e,k,r),r}var Un=Object.create(null),Xn=Object.create(null);function Yn(e){return Un[e]||(Un[e]={configurable:!0,enumerable:!0,get:function(){return this[k].read(e)},set:function(t){this[k].write(e,t)}})}function Wn(e){var t=e[k];return t||(K(e),e[k])}function Kn(e){return Xn[e]||(Xn[e]={configurable:$e.computedConfigurable,enumerable:!1,get:function(){return Wn(this).read(e)},set:function(t){Wn(this).write(e,t)}})}var Zn=O("ObservableObjectAdministration",Fn);function qn(e){return!!h(e)&&(K(e),Zn(e[k]))}function Jn(e,t){if("object"===typeof e&&null!==e){if(Cn(e))return void 0!==t&&c(!1),e[k].atom;if(Hn(e))return e[k];if(Bn(e)){var n=e;if(void 0===t)return n._keysAtom;var r=n._data.get(t)||n._hasMap.get(t);return r||c(!1),r}if(K(e),t&&!e[k]&&e[t],qn(e)){if(!t)return c(!1);r=e[k].values.get(t);return r||c(!1),r}if(N(e)||We(e)||gt(e))return e}else if("function"===typeof e&&gt(e[k]))return e[k];return c(!1)}function Qn(e,t){return e||c("Expecting some object"),void 0!==t?Qn(Jn(e,t)):N(e)||We(e)||gt(e)||Bn(e)||Hn(e)?e:(K(e),e[k]?e[k]:void c(!1))}function $n(e,t){var n;return n=void 0!==t?Jn(e,t):qn(e)||Bn(e)||Hn(e)?Qn(e):Jn(e),n.name}var er=Object.prototype.toString;function tr(e,t,n){return void 0===n&&(n=-1),nr(e,t,n)}function nr(e,t,n,r,o){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var a=er.call(e);if(a!==er.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=rr(e),t=rr(t);var u="[object Array]"===a;if(!u){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,l=t.constructor;if(c!==l&&!("function"===typeof c&&c instanceof c&&"function"===typeof l&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),r=r||[],o=o||[];var s=r.length;while(s--)if(r[s]===e)return o[s]===t;if(r.push(e),o.push(t),u){if(s=e.length,s!==t.length)return!1;while(s--)if(!nr(e[s],t[s],n-1,r,o))return!1}else{var f=Object.keys(e),p=void 0;if(s=f.length,Object.keys(t).length!==s)return!1;while(s--)if(p=f[s],!or(t,p)||!nr(e[p],t[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function rr(e){return Cn(e)?e.slice():_(e)||Bn(e)||x(e)||Hn(e)?Array.from(e.entries()):e}function or(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ir(e){return e[Symbol.iterator]=ar,e}function ar(){return this}if("undefined"===typeof Proxy||"undefined"===typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");(function(){function e(){}e.name})(),"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ot,extras:{getDebugName:$n},$mobx:k})}).call(this,n(155),n(82))},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return H})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return V})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return z})),n.d(t,"k",(function(){return j}));var r,o,i,a,u,c,l,s={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n){var o,i,a,u={};for(a in t)"key"==a?o=t[a]:"ref"==a?i=t[a]:u[a]=t[a];if(arguments.length>2&&(u.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===u[a]&&(u[a]=e.defaultProps[a]);return v(e,u,o,i,null)}function v(e,t,n,r,a){var u={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++i:a};return null==a&&null!=o.vnode&&o.vnode(u),u}function g(){return{current:null}}function b(e){return e.children}function m(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?w(e):null}function O(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return O(e)}}function _(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!x.__r++||c!==o.debounceRendering)&&((c=o.debounceRendering)||u)(x)}function x(){for(var e;x.__r=a.length;)e=a.sort((function(e,t){return e.__v.__b-t.__v.__b})),a=[],e.some((function(e){var t,n,r,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=d({},o)).__v=o.__v+1,T(a,o,r,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?w(o):i,o.__h),C(n,o),o.__e!=i&&O(o)))}))}function E(e,t,n,r,o,i,a,u,c,l){var p,d,h,y,g,m,O,_=r&&r.__k||f,x=_.length;for(n.__k=[],p=0;p<t.length;p++)if(null!=(y=n.__k[p]=null==(y=t[p])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?v(null,y,null,null,y):Array.isArray(y)?v(b,{children:y},null,null,null):y.__b>0?v(y.type,y.props,y.key,null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(h=_[p])||h&&y.key==h.key&&y.type===h.type)_[p]=void 0;else for(d=0;d<x;d++){if((h=_[d])&&y.key==h.key&&y.type===h.type){_[d]=void 0;break}h=null}T(e,y,h=h||s,o,i,a,u,c,l),g=y.__e,(d=y.ref)&&h.ref!=d&&(O||(O=[]),h.ref&&O.push(h.ref,null,y),O.push(d,y.__c||g,y)),null!=g?(null==m&&(m=g),"function"==typeof y.type&&y.__k===h.__k?y.__d=c=S(y,c,e):c=P(e,y,h,_,g,c),"function"==typeof n.type&&(n.__d=c)):c&&h.__e==c&&c.parentNode!=e&&(c=w(h))}for(n.__e=m,p=x;p--;)null!=_[p]&&("function"==typeof n.type&&null!=_[p].__e&&_[p].__e==n.__d&&(n.__d=w(r,p+1)),L(_[p],_[p]));if(O)for(p=0;p<O.length;p++)R(O[p],O[++p],O[++p])}function S(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t="function"==typeof r.type?S(r,t,n):P(n,r,r,o,r.__e,t));return t}function j(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){j(e,t)})):t.push(e)),t}function P(e,t,n,r,o,i){var a,u,c;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),a=null;else{for(u=i,c=0;(u=u.nextSibling)&&c<r.length;c+=2)if(u==o)break e;e.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function k(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||N(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||N(e,i,t[i],n[i],r)}function A(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function N(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||A(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||A(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?D:M,i):e.removeEventListener(t,i?D:M,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function M(e){this.l[e.type+!1](o.event?o.event(e):e)}function D(e){this.l[e.type+!0](o.event?o.event(e):e)}function T(e,t,n,r,i,a,u,c,l){var s,f,p,h,y,v,g,w,O,_,x,S=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,c=t.__e=n.__e,t.__h=null,a=[c]),(s=o.__b)&&s(t);try{e:if("function"==typeof S){if(w=t.props,O=(s=S.contextType)&&r[s.__c],_=s?O?O.props.value:s.__:r,n.__c?g=(f=t.__c=n.__c).__=f.__E:("prototype"in S&&S.prototype.render?t.__c=f=new S(w,_):(t.__c=f=new m(w,_),f.constructor=S,f.render=B),O&&O.sub(f),f.props=w,f.state||(f.state={}),f.context=_,f.__n=r,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=S.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=d({},f.__s)),d(f.__s,S.getDerivedStateFromProps(w,f.__s))),h=f.props,y=f.state,p)null==S.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==S.getDerivedStateFromProps&&w!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(w,_),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(w,f.__s,_)||t.__v===n.__v){f.props=w,f.state=f.__s,t.__v!==n.__v&&(f.__d=!1),f.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),f.__h.length&&u.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(w,f.__s,_),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(h,y,v)}))}f.context=_,f.props=w,f.state=f.__s,(s=o.__r)&&s(t),f.__d=!1,f.__v=t,f.__P=e,s=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(r=d(d({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(h,y)),x=null!=s&&s.type===b&&null==s.key?s.props.children:s,E(e,Array.isArray(x)?x:[x],t,n,r,i,a,u,c,l),f.base=t.__e,t.__h=null,f.__h.length&&u.push(f),g&&(f.__E=f.__=null),f.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=I(n.__e,t,n,r,i,a,u,l);(s=o.diffed)&&s(t)}catch(e){t.__v=null,(l||null!=a)&&(t.__e=c,t.__h=!!l,a[a.indexOf(c)]=null),o.__e(e,t,n)}}function C(e,t){o.__c&&o.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){o.__e(e,t.__v)}}))}function I(e,t,n,o,i,a,u,c){var l,f,p,d=n.props,y=t.props,v=t.type,g=0;if("svg"===v&&(i=!0),null!=a)for(;g<a.length;g++)if((l=a[g])&&"setAttribute"in l==!!v&&(v?l.localName===v:3===l.nodeType)){e=l,a[g]=null;break}if(null==e){if(null===v)return document.createTextNode(y);e=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),a=null,c=!1}if(null===v)d===y||c&&e.data===y||(e.data=y);else{if(a=a&&r.call(e.childNodes),f=(d=n.props||s).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!c){if(null!=a)for(d={},g=0;g<e.attributes.length;g++)d[e.attributes[g].name]=e.attributes[g].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(k(e,y,d,i,c),p)t.__k=[];else if(g=t.props.children,E(e,Array.isArray(g)?g:[g],t,n,o,i&&"foreignObject"!==v,a,u,a?a[0]:n.__k&&w(n,0),c),null!=a)for(g=a.length;g--;)null!=a[g]&&h(a[g]);c||("value"in y&&void 0!==(g=y.value)&&(g!==d.value||g!==e.value||"progress"===v&&!g)&&N(e,"value",g,d.value,!1),"checked"in y&&void 0!==(g=y.checked)&&g!==e.checked&&N(e,"checked",g,d.checked,!1))}return e}function R(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){o.__e(e,n)}}function L(e,t,n){var r,i;if(o.unmount&&o.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||R(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){o.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&L(r[i],t,"function"!=typeof e.type);n||null==e.__e||h(e.__e),e.__e=e.__d=void 0}function B(e,t,n){return this.constructor(e,n)}function z(e,t,n){var i,a,u;o.__&&o.__(e,t),a=(i="function"==typeof n)?null:n&&n.__k||t.__k,u=[],T(t,e=(!i&&n||t).__k=y(b,null,[e]),a||s,s,void 0!==t.ownerSVGElement,!i&&n?[n]:a?null:t.firstChild?r.call(t.childNodes):null,u,!i&&n?n:a?a.__e:t.firstChild,i),C(u,e)}function V(e,t){z(e,t,V)}function H(e,t,n){var o,i,a,u=d({},e.props);for(a in t)"key"==a?o=t[a]:"ref"==a?i=t[a]:u[a]=t[a];return arguments.length>2&&(u.children=arguments.length>3?r.call(arguments,2):n),v(e.type,u,o||e.key,i||e.ref,null)}function F(e,t){var n={__c:t="__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(_)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=f.slice,o={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},i=0,m.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof e&&(e=e(d({},n),this.props)),e&&d(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),_(this))},m.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_(this))},m.prototype.render=b,a=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,x.__r=0,l=0},function(e,t,n){var r=n(116),o=n(44),i=n(178);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,n){"use strict";var r=n(39),o=n(83),i=n(70),a=n(56),u=n(111),c="Array Iterator",l=a.set,s=a.getterFor(c);e.exports=u(Array,"Array",(function(e,t){l(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=s(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,n){var r=n(7),o=n(147),i=n(148),a=n(3),u=n(57),c=n(27),l=c("iterator"),s=c("toStringTag"),f=a.values,p=function(e,t){if(e){if(e[l]!==f)try{u(e,l,f)}catch(r){e[l]=f}if(e[s]||u(e,s,t),o[t])for(var n in a)if(e[n]!==a[n])try{u(e,n,a[n])}catch(r){e[n]=a[n]}}};for(var d in o)p(r[d]&&r[d].prototype,d);p(i,"DOMTokenList")},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(46),a=n(76),u=n(35),c=n(15),l=n(64),s=n(36),f=n(109),p=n(18),d=n(34),h=n(99),y=n(28),v=n(33),g=n(58),b=n(88),m=n(32),w=n(38),O=n(39),_=n(87),x=n(40),E=n(71),S=n(54),j=n(66),P=n(72),k=n(139),A=n(112),N=n(51),M=n(37),D=n(93),T=n(101),C=n(44),I=n(84),R=n(91),L=n(69),B=n(85),z=n(27),V=n(149),H=n(150),F=n(73),G=n(56),U=n(74).forEach,X=R("hidden"),Y="Symbol",W="prototype",K=z("toPrimitive"),Z=G.set,q=G.getterFor(Y),J=Object[W],Q=o.Symbol,$=Q&&Q[W],ee=o.TypeError,te=o.QObject,ne=i("JSON","stringify"),re=N.f,oe=M.f,ie=k.f,ae=D.f,ue=c([].push),ce=I("symbols"),le=I("op-symbols"),se=I("string-to-symbol-registry"),fe=I("symbol-to-string-registry"),pe=I("wks"),de=!te||!te[W]||!te[W].findChild,he=s&&p((function(){return 7!=S(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=re(J,t);r&&delete J[t],oe(e,t,n),r&&e!==J&&oe(J,t,r)}:oe,ye=function(e,t){var n=ce[e]=S($);return Z(n,{type:Y,tag:e,description:t}),s||(n.description=t),n},ve=function(e,t,n){e===J&&ve(le,t,n),m(e);var r=_(t);return m(n),d(ce,r)?(n.enumerable?(d(e,X)&&e[X][r]&&(e[X][r]=!1),n=S(n,{enumerable:E(0,!1)})):(d(e,X)||oe(e,X,E(1,{})),e[X][r]=!0),he(e,r,n)):oe(e,r,n)},ge=function(e,t){m(e);var n=O(t),r=j(n).concat(_e(n));return U(r,(function(t){s&&!u(me,n,t)||ve(e,t,n[t])})),e},be=function(e,t){return void 0===t?S(e):ge(S(e),t)},me=function(e){var t=_(e),n=u(ae,this,t);return!(this===J&&d(ce,t)&&!d(le,t))&&(!(n||!d(this,t)||!d(ce,t)||d(this,X)&&this[X][t])||n)},we=function(e,t){var n=O(e),r=_(t);if(n!==J||!d(ce,r)||d(le,r)){var o=re(n,r);return!o||!d(ce,r)||d(n,X)&&n[X][r]||(o.enumerable=!0),o}},Oe=function(e){var t=ie(O(e)),n=[];return U(t,(function(e){d(ce,e)||d(L,e)||ue(n,e)})),n},_e=function(e){var t=e===J,n=ie(t?le:O(e)),r=[];return U(n,(function(e){!d(ce,e)||t&&!d(J,e)||ue(r,ce[e])})),r};if(f||(Q=function(){if(g($,this))throw ee("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?x(arguments[0]):void 0,t=B(e),n=function(e){this===J&&u(n,le,e),d(this,X)&&d(this[X],t)&&(this[X][t]=!1),he(this,t,E(1,e))};return s&&de&&he(J,t,{configurable:!0,set:n}),ye(t,e)},$=Q[W],C($,"toString",(function(){return q(this).tag})),C(Q,"withoutSetter",(function(e){return ye(B(e),e)})),D.f=me,M.f=ve,N.f=we,P.f=k.f=Oe,A.f=_e,V.f=function(e){return ye(z(e),e)},s&&(oe($,"description",{configurable:!0,get:function(){return q(this).description}}),l||C(J,"propertyIsEnumerable",me,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Q}),U(j(pe),(function(e){H(e)})),r({target:Y,stat:!0,forced:!f},{for:function(e){var t=x(e);if(d(se,t))return se[t];var n=Q(t);return se[t]=n,fe[n]=t,n},keyFor:function(e){if(!b(e))throw ee(e+" is not a symbol");if(d(fe,e))return fe[e]},useSetter:function(){de=!0},useSimple:function(){de=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!s},{create:be,defineProperty:ve,defineProperties:ge,getOwnPropertyDescriptor:we}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Oe,getOwnPropertySymbols:_e}),r({target:"Object",stat:!0,forced:p((function(){A.f(1)}))},{getOwnPropertySymbols:function(e){return A.f(w(e))}}),ne){var xe=!f||p((function(){var e=Q();return"[null]"!=ne([e])||"{}"!=ne({a:e})||"{}"!=ne(Object(e))}));r({target:"JSON",stat:!0,forced:xe},{stringify:function(e,t,n){var r=T(arguments),o=t;if((v(t)||void 0!==e)&&!b(e))return h(t)||(t=function(e,t){if(y(o)&&(t=u(o,this,e,t)),!b(t))return t}),r[1]=t,a(ne,null,r)}})}if(!$[K]){var Ee=$.valueOf;C($,K,(function(e){return u(Ee,this)}))}F(Q,Y),L[X]=!0},function(e,t,n){"use strict";var r=n(146).charAt,o=n(40),i=n(56),a=n(111),u="String Iterator",c=i.set,l=i.getterFor(u);a(String,"String",(function(e){c(this,{type:u,string:o(e),index:0})}),(function(){var e,t=l(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(82))},function(e,t,n){"use strict";var r=n(16),o=n(36),i=n(7),a=n(15),u=n(34),c=n(28),l=n(58),s=n(40),f=n(37).f,p=n(134),d=i.Symbol,h=d&&d.prototype;if(o&&c(d)&&(!("description"in h)||void 0!==d().description)){var y={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),t=l(h,this)?new d(e):void 0===e?d():d(e);return""===e&&(y[t]=!0),t};p(v,d),v.prototype=h,h.constructor=v;var g="Symbol(test)"==String(d("test")),b=a(h.toString),m=a(h.valueOf),w=/^Symbol\((.*)\)[^)]+$/,O=a("".replace),_=a("".slice);f(h,"description",{configurable:!0,get:function(){var e=m(this),t=b(e);if(u(y,e))return"";var n=g?_(t,7,-1):O(t,w,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:v})}},function(e,t,n){var r=n(150);r("iterator")},function(e,t,n){"use strict";n.d(t,"a",(function(){return a["a"]})),n.d(t,"c",(function(){return a["e"]})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"b",(function(){return C})),n.d(t,"e",(function(){return B})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return me}));var r,o,i,a=n(1),u=0,c=[],l=a["i"].__b,s=a["i"].__r,f=a["i"].diffed,p=a["i"].__c,d=a["i"].unmount;function h(e,t){a["i"].__h&&a["i"].__h(o,e,u||t),u=0;var n=o.__H||(o.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function y(e){return u=1,v(M,e)}function v(e,t,n){var i=h(r++,2);return i.t=e,i.__c||(i.__=[n?n(t):M(void 0,t),function(e){var t=i.t(i.__[0],e);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function g(e,t){var n=h(r++,3);!a["i"].__s&&N(n.__H,t)&&(n.__=e,n.__H=t,o.__H.__h.push(n))}function b(e,t){var n=h(r++,4);!a["i"].__s&&N(n.__H,t)&&(n.__=e,n.__H=t,o.__h.push(n))}function m(e){return u=5,O((function(){return{current:e}}),[])}function w(e,t,n){u=6,b((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))}function O(e,t){var n=h(r++,7);return N(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function _(e,t){return u=8,O((function(){return e}),t)}function x(e){var t=o.context[e.__c],n=h(r++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(o)),t.props.value):e.__}function E(e,t){a["i"].useDebugValue&&a["i"].useDebugValue(t?t(e):e)}function S(){var e;for(c.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=c.pop();)if(e.__P)try{e.__H.__h.forEach(k),e.__H.__h.forEach(A),e.__H.__h=[]}catch(t){e.__H.__h=[],a["i"].__e(t,e.__v)}}a["i"].__b=function(e){o=null,l&&l(e)},a["i"].__r=function(e){s&&s(e),r=0;var t=(o=e.__c).__H;t&&(t.__h.forEach(k),t.__h.forEach(A),t.__h=[])},a["i"].diffed=function(e){f&&f(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==c.push(t)&&i===a["i"].requestAnimationFrame||((i=a["i"].requestAnimationFrame)||P)(S)),o=null},a["i"].__c=function(e,t){t.some((function(e){try{e.__h.forEach(k),e.__h=e.__h.filter((function(e){return!e.__||A(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a["i"].__e(n,e.__v)}})),p&&p(e,t)},a["i"].unmount=function(e){d&&d(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{k(e)}catch(e){t=e}})),t&&a["i"].__e(t,n.__v))};var j="function"==typeof requestAnimationFrame;function P(e){var t,n=function(){clearTimeout(r),j&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);j&&(t=requestAnimationFrame(n))}function k(e){var t=o,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),o=t}function A(e){var t=o;e.__c=e.__(),o=t}function N(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function M(e,t){return"function"==typeof t?t(e):t}function D(e,t){for(var n in t)e[n]=t[n];return e}function T(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function C(e){this.props=e}function I(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:T(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Object(a["e"])(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(C.prototype=new a["a"]).isPureReactComponent=!0,C.prototype.shouldComponentUpdate=function(e,t){return T(this.props,e)||T(this.state,t)};var R=a["i"].__b;a["i"].__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),R&&R(e)};var L="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function B(e){function t(t,n){var r=D({},t);return delete r.ref,e(r,!(n=t.ref||n)||"object"==typeof n&&!("current"in n)?null:n)}return t.$$typeof=L,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var z=function(e,t){return null==e?null:Object(a["k"])(Object(a["k"])(e).map(t))},V={map:z,forEach:z,count:function(e){return e?Object(a["k"])(e).length:0},only:function(e){var t=Object(a["k"])(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:a["k"]},H=a["i"].__e;a["i"].__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);H(e,t,n)};var F=a["i"].unmount;function G(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=D({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return G(e,t,n)}))),e}function U(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return U(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function X(){this.__u=0,this.t=null,this.__b=null}function Y(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function W(e){var t,n,r;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return Object(a["e"])(n,o)}return o.displayName="Lazy",o.__f=!0,o}function K(){this.u=null,this.o=null}a["i"].unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),F&&F(e)},(X.prototype=new a["a"]).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=Y(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(u):u())};n.__R=a;var u=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=U(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(a,a)},X.prototype.componentWillUnmount=function(){this.t=[]},X.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=G(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__e&&Object(a["e"])(a["b"],null,e.fallback);return o&&(o.__h=null),[Object(a["e"])(a["b"],null,t.__e?null:e.children),o]};var Z=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function q(e){return this.getChildContext=function(){return e.context},e.children}function J(e){var t=this,n=e.i;t.componentWillUnmount=function(){Object(a["j"])(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Object(a["j"])(Object(a["e"])(q,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function Q(e,t){return Object(a["e"])(J,{__v:e,i:t})}(K.prototype=new a["a"]).__e=function(e){var t=this,n=Y(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),Z(t,e,r)):o()};n?n(i):i()}},K.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(a["k"])(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},K.prototype.componentDidUpdate=K.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){Z(e,n,t)}))};var $="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ee=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,te="undefined"!=typeof document,ne=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};function re(e,t,n){return null==t.__k&&(t.textContent=""),Object(a["j"])(e,t),"function"==typeof n&&n(),e?e.__c:null}function oe(e,t,n){return Object(a["h"])(e,t),"function"==typeof n&&n(),e?e.__c:null}a["a"].prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(a["a"].prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var ie=a["i"].event;function ae(){}function ue(){return this.cancelBubble}function ce(){return this.defaultPrevented}a["i"].event=function(e){return ie&&(e=ie(e)),e.persist=ae,e.isPropagationStopped=ue,e.isDefaultPrevented=ce,e.nativeEvent=e};var le,se={configurable:!0,get:function(){return this.class}},fe=a["i"].vnode;a["i"].vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var o=-1===t.indexOf("-");for(var i in r={},n){var u=n[i];te&&"children"===i&&"noscript"===t||"value"===i&&"defaultValue"in n&&null==u||("defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===u?u="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!ne(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():o&&ee.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===u&&(u=void 0),r[i]=u)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(a["k"])(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=Object(a["k"])(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r,n.class!=n.className&&(se.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",se))}e.$$typeof=$,fe&&fe(e)};var pe=a["i"].__r;a["i"].__r=function(e){pe&&pe(e),le=e.__c};var de={ReactCurrentDispatcher:{current:{readContext:function(e){return le.__n[e.__c].props.value}}}};function he(e){return a["e"].bind(null,e)}function ye(e){return!!e&&e.$$typeof===$}function ve(e){return ye(e)?a["c"].apply(null,arguments):e}function ge(e){return!!e.__k&&(Object(a["j"])(null,e),!0)}function be(e){return e&&(e.base||1===e.nodeType&&e)||null}var me=function(e,t){return e(t)},we=function(e,t){return e(t)},Oe=a["b"],_e={useState:y,useReducer:v,useEffect:g,useLayoutEffect:b,useRef:m,useImperativeHandle:w,useMemo:O,useCallback:_,useContext:x,useDebugValue:E,version:"17.0.2",Children:V,render:re,hydrate:oe,unmountComponentAtNode:ge,createPortal:Q,createElement:a["e"],createContext:a["d"],createFactory:he,cloneElement:ve,createRef:a["f"],Fragment:a["b"],isValidElement:ye,findDOMNode:be,Component:a["a"],PureComponent:C,memo:I,forwardRef:B,flushSync:we,unstable_batchedUpdates:me,StrictMode:Oe,Suspense:X,SuspenseList:K,lazy:W,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:de};t["d"]=_e},function(e,t,n){var r=n(7),o=n(147),i=n(148),a=n(179),u=n(57),c=function(e){if(e&&e.forEach!==a)try{u(e,"forEach",a)}catch(t){e.forEach=a}};for(var l in o)o[l]&&c(r[l]&&r[l].prototype);c(i)},function(e,t,n){var r=n(16),o=n(97);r({target:"Object",stat:!0},{setPrototypeOf:o})},function(e,t,n){var r=n(16),o=n(18),i=n(38),a=n(96),u=n(137),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:c,sham:!u},{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,n){var r=n(16),o=n(46),i=n(76),a=n(199),u=n(157),c=n(32),l=n(33),s=n(54),f=n(18),p=o("Reflect","construct"),d=Object.prototype,h=[].push,y=f((function(){function e(){}return!(p((function(){}),[],e)instanceof e)})),v=!f((function(){p((function(){}))})),g=y||v;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){u(e),c(t);var n=arguments.length<3?e:u(arguments[2]);if(v&&!y)return p(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return i(h,r,t),new(i(a,e,r))}var o=n.prototype,f=s(l(o)?o:d),g=i(e,f,t);return l(g)?g:f}})},function(e,t){var n=Function.prototype,r=n.bind,o=n.call,i=r&&r.bind(o);e.exports=r?function(e){return e&&i(o,e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},function(e,t,n){var r=n(7),o=n(51).f,i=n(57),a=n(44),u=n(108),c=n(134),l=n(95);e.exports=function(e,t){var n,s,f,p,d,h,y=e.target,v=e.global,g=e.stat;if(s=v?r:g?r[y]||u(y,{}):(r[y]||{}).prototype,s)for(f in t){if(d=t[f],e.noTargetGet?(h=o(s,f),p=h&&h.value):p=s[f],n=l(v?f:y+(g?".":"#")+f,e.forced),!n&&void 0!==p){if(typeof d==typeof p)continue;c(d,p)}(e.sham||p&&p.sham)&&i(d,"sham",!0),a(s,f,d,e)}}},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(99),a=n(100),u=n(33),c=n(67),l=n(43),s=n(39),f=n(61),p=n(27),d=n(75),h=n(101),y=d("slice"),v=p("species"),g=o.Array,b=Math.max;r({target:"Array",proto:!0,forced:!y},{slice:function(e,t){var n,r,o,p=s(this),d=l(p),y=c(e,d),m=c(void 0===t?d:t,d);if(i(p)&&(n=p.constructor,a(n)&&(n===g||i(n.prototype))?n=void 0:u(n)&&(n=n[v],null===n&&(n=void 0)),n===g||void 0===n))return h(p,y,m);for(r=new(void 0===n?g:n)(b(m-y,0)),o=0;y<m;y++,o++)y in p&&f(r,o,p[y]);return r.length=o,r}})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){"use strict";var r=n(16),o=n(102);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,n){var r=n(16),o=n(38),i=n(66),a=n(18),u=a((function(){i(1)}));r({target:"Object",stat:!0,forced:u},{keys:function(e){return i(o(e))}})},function(e,t,n){var r=n(16),o=n(18),i=n(39),a=n(51).f,u=n(36),c=o((function(){a(1)})),l=!u||c;r({target:"Object",stat:!0,forced:l,sham:!u},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},function(e,t,n){"use strict";var r=n(16),o=n(74).filter,i=n(75),a=i("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(16),o=n(36),i=n(135),a=n(39),u=n(51),c=n(61);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){var t,n,r=a(e),o=u.f,l=i(r),s={},f=0;while(l.length>f)n=o(r,t=l[f++]),void 0!==n&&c(s,t,n);return s}})},function(e,t,n){var r=n(36),o=n(94).EXISTS,i=n(15),a=n(37).f,u=Function.prototype,c=i(u.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s=i(l.exec),f="name";r&&!o&&a(u,f,{configurable:!0,get:function(){try{return s(l,c(this))[1]}catch(e){return""}}})},function(e,t,n){var r=n(16),o=n(182),i=n(118),a=!i((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:o})},,function(e,t,n){var r=n(7),o=n(84),i=n(34),a=n(85),u=n(109),c=n(128),l=o("wks"),s=r.Symbol,f=s&&s["for"],p=c?s:s&&s.withoutSetter||a;e.exports=function(e){if(!i(l,e)||!u&&"string"!=typeof l[e]){var t="Symbol."+e;u&&i(s,e)?l[e]=s[e]:l[e]=c&&f?f(t):p(t)}return l[e]}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(18),a=n(99),u=n(33),c=n(38),l=n(43),s=n(61),f=n(119),p=n(75),d=n(27),h=n(65),y=d("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",b=o.TypeError,m=h>=51||!i((function(){var e=[];return e[y]=!1,e.concat()[0]!==e})),w=p("concat"),O=function(e){if(!u(e))return!1;var t=e[y];return void 0!==t?!!t:a(e)},_=!m||!w;r({target:"Array",proto:!0,forced:_},{concat:function(e){var t,n,r,o,i,a=c(this),u=f(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?a:arguments[t],O(i)){if(o=l(i),p+o>v)throw b(g);for(n=0;n<o;n++,p++)n in i&&s(u,p,i[n])}else{if(p>=v)throw b(g);s(u,p++,i)}return u.length=p,u}})},function(e,t,n){var r=n(16),o=n(198);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,n){"use strict";var r=n(105),o="object"==typeof self&&self&&self.Object===Object&&self,i=r["a"]||o||Function("return this")();t["a"]=i},function(e,t,n){var r=n(7),o=n(33),i=r.String,a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not an object")}},function(e,t,n){var r=n(28);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},function(e,t,n){var r=n(15),o=n(38),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},function(e,t){var n=Function.prototype.call;e.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(e,t,n){var r=n(18);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(7),o=n(36),i=n(129),a=n(32),u=n(87),c=r.TypeError,l=Object.defineProperty;t.f=o?l:function(e,t,n){if(a(e),t=u(t),a(n),i)try{return l(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(7),o=n(45),i=r.Object;e.exports=function(e){return i(o(e))}},function(e,t,n){var r=n(81),o=n(45);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(7),o=n(98),i=r.String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},function(e,t,n){"use strict";var r=n(16),o=n(74).map,i=n(75),a=i("map");r({target:"Array",proto:!0,forced:!a},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(10),o=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a};function i(){var e=o(Object(r["j"])(0),2),t=e[1],n=Object(r["h"])((function(){t((function(e){return e+1}))}),[]);return n}function a(e){if(!e||"object"!==typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}function u(e){return"function"===typeof Symbol?Symbol.for(e):"__$mobx-react "+e+"__"}var c={};function l(){return"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:c}}).call(this,n(82))},function(e,t,n){var r=n(90);e.exports=function(e){return r(e.length)}},function(e,t,n){var r=n(7),o=n(28),i=n(34),a=n(57),u=n(108),c=n(92),l=n(56),s=n(94).CONFIGURABLE,f=l.get,p=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,c){var l,f=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,y=!!c&&!!c.noTargetGet,v=c&&void 0!==c.name?c.name:t;o(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||s&&n.name!==v)&&a(n,"name",v),l=p(n),l.source||(l.source=d.join("string"==typeof v?v:""))),e!==r?(f?!y&&e[t]&&(h=!0):delete e[t],h?e[t]=n:a(e,t,n)):h?e[t]=n:u(t,n)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||c(this)}))},function(e,t,n){var r=n(7),o=r.TypeError;e.exports=function(e){if(void 0==e)throw o("Can't call method on "+e);return e}},function(e,t,n){var r=n(7),o=n(28),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},function(e,t,n){var r=n(16),o=n(35),i=n(33),a=n(32),u=n(200),c=n(51),l=n(96);function s(e,t){var n,r,f=arguments.length<3?e:arguments[2];return a(e)===f?e[t]:(n=c.f(e,t),n?u(n)?n.value:void 0===n.get?void 0:o(n.get,f):i(r=l(e))?s(r,t,f):void 0)}r({target:"Reflect",stat:!0},{get:s})},function(e,n,r){"use strict";(function(e){var o=r(31),i=r(165),a=t&&!t.nodeType&&t,u=a&&"object"==typeof e&&e&&!e.nodeType&&e,c=u&&u.exports===a,l=c?o["a"].Buffer:void 0,s=l?l.isBuffer:void 0,f=s||i["a"];n["a"]=f}).call(this,r(121)(e))},function(e,n,r){"use strict";(function(e){var o=r(105),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=a&&a.exports===i,c=u&&o["a"].process,l=function(){try{var e=a&&a.require&&a.require("util").types;return e||c&&c.binding&&c.binding("util")}catch(t){}}();n["a"]=l}).call(this,r(121)(e))},function(e,t,n){var r=n(15),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},function(e,t,n){var r=n(36),o=n(35),i=n(93),a=n(71),u=n(39),c=n(87),l=n(34),s=n(129),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=u(e),t=c(t),s)try{return f(e,t)}catch(n){}if(l(e,t))return a(!o(i.f,e,t),e[t])}},function(e,t,n){var r=n(16),o=n(213).entries;r({target:"Object",stat:!0},{entries:function(e){return o(e)}})},function(e,t,n){var r=n(46);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r,o=n(32),i=n(168),a=n(110),u=n(69),c=n(133),l=n(86),s=n(91),f=">",p="<",d="prototype",h="script",y=s("IE_PROTO"),v=function(){},g=function(e){return p+h+f+e+p+"/"+h+f},b=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){var e,t=l("iframe"),n="java"+h+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&r?b(r):m():b(r);var e=a.length;while(e--)delete w[d][a[e]];return w()};u[y]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[d]=o(e),n=new v,v[d]=null,n[y]=e):n=w(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(7),o=n(28),i=n(89),a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a function")}},function(e,t,n){var r,o,i,a=n(170),u=n(7),c=n(15),l=n(33),s=n(57),f=n(34),p=n(107),d=n(91),h=n(69),y="Object already initialized",v=u.TypeError,g=u.WeakMap,b=function(e){return i(e)?o(e):r(e,{})},m=function(e){return function(t){var n;if(!l(t)||(n=o(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}};if(a||p.state){var w=p.state||(p.state=new g),O=c(w.get),_=c(w.has),x=c(w.set);r=function(e,t){if(_(w,e))throw new v(y);return t.facade=e,x(w,e,t),t},o=function(e){return O(w,e)||{}},i=function(e){return _(w,e)}}else{var E=d("state");h[E]=!0,r=function(e,t){if(f(e,E))throw new v(y);return t.facade=e,s(e,E,t),t},o=function(e){return f(e,E)?e[E]:{}},i=function(e){return f(e,E)}}e.exports={set:r,get:o,has:i,enforce:b,getterFor:m}},function(e,t,n){var r=n(36),o=n(37),i=n(71);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(15);e.exports=r({}.isPrototypeOf)},function(e,t,n){var r=n(55);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},function(e,t,n){"use strict";var r=n(173),o=n(177);r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,n){"use strict";var r=n(87),o=n(37),i=n(71);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},function(e,t,n){var r=n(15),o=n(55),i=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?i(e,t):function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(16),o=n(214),i=n(83);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(e,t){e.exports=!1},function(e,t,n){var r,o,i=n(7),a=n(53),u=i.process,c=i.Deno,l=u&&u.versions||c&&c.version,s=l&&l.v8;s&&(r=s.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),e.exports=o},function(e,t,n){var r=n(131),o=n(110);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(68),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){var t=+e;return t!==t||0===t?0:(t>0?r:n)(t)}},function(e,t){e.exports={}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(131),o=n(110),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(37).f,o=n(34),i=n(27),a=i("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(62),o=n(15),i=n(81),a=n(38),u=n(43),c=n(119),l=o([].push),s=function(e){var t=1==e,n=2==e,o=3==e,s=4==e,f=6==e,p=7==e,d=5==e||f;return function(h,y,v,g){for(var b,m,w=a(h),O=i(w),_=r(y,v),x=u(O),E=0,S=g||c,j=t?S(h,x):n||p?S(h,0):void 0;x>E;E++)if((d||E in O)&&(b=O[E],m=_(b,E,w),e))if(t)j[E]=m;else if(m)switch(e){case 3:return!0;case 5:return b;case 6:return E;case 2:l(j,b)}else switch(e){case 4:return!1;case 7:l(j,b)}return f?-1:o||s?s:j}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}},function(e,t,n){var r=n(18),o=n(27),i=n(65),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t){var n=Function.prototype,r=n.apply,o=n.bind,i=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(o?i.bind(r):function(){return i.apply(r,arguments)})},function(e,t,n){"use strict";var r=n(16),o=n(15),i=n(81),a=n(39),u=n(120),c=o([].join),l=i!=Object,s=u("join",",");r({target:"Array",proto:!0,forced:l||!s},{join:function(e){return c(a(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(76),o=n(35),i=n(15),a=n(122),u=n(154),c=n(32),l=n(45),s=n(156),f=n(123),p=n(90),d=n(40),h=n(59),y=n(113),v=n(124),g=n(102),b=n(151),m=n(18),w=b.UNSUPPORTED_Y,O=4294967295,_=Math.min,x=[].push,E=i(/./.exec),S=i(x),j=i("".slice),P=!m((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=d(l(this)),a=void 0===n?O:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!u(e))return o(t,i,e,a);var c,s,f,p=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,b=new RegExp(e.source,h+"g");while(c=o(g,b,i)){if(s=b.lastIndex,s>v&&(S(p,j(i,v,c.index)),c.length>1&&c.index<i.length&&r(x,p,y(c,1)),f=c[0].length,v=s,p.length>=a))break;b.lastIndex===c.index&&b.lastIndex++}return v===i.length?!f&&E(b,"")||S(p,""):S(p,j(i,v)),p.length>a?y(p,0,a):p}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:o(t,this,e,n)}:t,[function(t,n){var r=l(this),a=void 0==t?void 0:h(t,e);return a?o(a,t,r,n):o(i,d(r),t,n)},function(e,r){var o=c(this),a=d(e),u=n(i,o,a,r,i!==t);if(u.done)return u.value;var l=s(o,RegExp),h=o.unicode,y=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(w?"g":"y"),g=new l(w?"^(?:"+o.source+")":o,y),b=void 0===r?O:r>>>0;if(0===b)return[];if(0===a.length)return null===v(g,a)?[a]:[];var m=0,x=0,E=[];while(x<a.length){g.lastIndex=w?0:x;var P,k=v(g,w?j(a,x):a);if(null===k||(P=_(p(g.lastIndex+(w?x:0)),a.length))===m)x=f(a,x,h);else{if(S(E,j(a,m,x)),E.length===b)return E;for(var A=1;A<=k.length-1;A++)if(S(E,k[A]),E.length===b)return E;x=m=P}}return S(E,j(a,m)),E}]}),!P,w)},function(e,t,n){"use strict";var r=n(36),o=n(7),i=n(15),a=n(95),u=n(44),c=n(34),l=n(143),s=n(58),f=n(88),p=n(130),d=n(18),h=n(72).f,y=n(51).f,v=n(37).f,g=n(196),b=n(159).trim,m="Number",w=o[m],O=w.prototype,_=o.TypeError,x=i("".slice),E=i("".charCodeAt),S=function(e){var t=p(e,"number");return"bigint"==typeof t?t:j(t)},j=function(e){var t,n,r,o,i,a,u,c,l=p(e,"number");if(f(l))throw _("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=b(l),t=E(l,0),43===t||45===t){if(n=E(l,2),88===n||120===n)return NaN}else if(48===t){switch(E(l,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(i=x(l,2),a=i.length,u=0;u<a;u++)if(c=E(i,u),c<48||c>o)return NaN;return parseInt(i,r)}return+l};if(a(m,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var P,k=function(e){var t=arguments.length<1?0:w(S(e)),n=this;return s(O,n)&&d((function(){g(n)}))?l(Object(t),n,k):t},A=r?h(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),N=0;A.length>N;N++)c(w,P=A[N])&&!c(k,P)&&v(k,P,y(w,P));k.prototype=O,O.constructor=k,u(o,m,k)}},function(e,t,n){var r=n(16);r({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(7),o=n(15),i=n(18),a=n(50),u=r.Object,c=o("".split);e.exports=i((function(){return!u("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?c(e,""):u(e)}:u},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(27),o=n(54),i=n(37),a=r("unscopables"),u=Array.prototype;void 0==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),e.exports=function(e){u[a][e]=!0}},function(e,t,n){var r=n(64),o=n(107);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.3",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(15),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},function(e,t,n){var r=n(7),o=n(33),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(130),o=n(88);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},function(e,t,n){var r=n(7),o=n(46),i=n(28),a=n(58),u=n(128),c=r.Object;e.exports=u?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&a(t.prototype,c(e))}},function(e,t,n){var r=n(7),o=r.String;e.exports=function(e){try{return o(e)}catch(t){return"Object"}}},function(e,t,n){var r=n(68),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(84),o=n(85),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,n){var r=n(15),o=n(28),i=n(107),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(36),o=n(34),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,u=o(i,"name"),c=u&&"something"===function(){}.name,l=u&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:u,PROPER:c,CONFIGURABLE:l}},function(e,t,n){var r=n(18),o=n(28),i=/#|\.prototype\./,a=function(e,t){var n=c[u(e)];return n==s||n!=l&&(o(t)?r(t):!!t)},u=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",s=a.POLYFILL="P";e.exports=a},function(e,t,n){var r=n(7),o=n(34),i=n(28),a=n(38),u=n(91),c=n(137),l=u("IE_PROTO"),s=r.Object,f=s.prototype;e.exports=c?s.getPrototypeOf:function(e){var t=a(e);if(o(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof s?f:null}},function(e,t,n){var r=n(15),o=n(32),i=n(172);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},function(e,t,n){var r=n(7),o=n(116),i=n(28),a=n(50),u=n(27),c=u("toStringTag"),l=r.Object,s="Arguments"==a(function(){return arguments}()),f=function(e,t){try{return e[t]}catch(n){}};e.exports=o?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=f(t=l(e),c))?n:s?a(t):"Object"==(r=a(t))&&i(t.callee)?"Arguments":r}},function(e,t,n){var r=n(50);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(15),o=n(18),i=n(28),a=n(98),u=n(46),c=n(92),l=function(){},s=[],f=u("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=r(p.exec),h=!p.exec(l),y=function(e){if(!i(e))return!1;try{return f(l,s,e),!0}catch(t){return!1}},v=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!d(p,c(e))};e.exports=!f||o((function(){var e;return y(y.call)||!y(Object)||!y((function(){e=!0}))||e}))?v:y},function(e,t,n){var r=n(15);e.exports=r([].slice)},function(e,t,n){"use strict";var r=n(35),o=n(15),i=n(40),a=n(184),u=n(151),c=n(84),l=n(54),s=n(56).get,f=n(185),p=n(186),d=c("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,y=h,v=o("".charAt),g=o("".indexOf),b=o("".replace),m=o("".slice),w=function(){var e=/a/,t=/b*/g;return r(h,e,"a"),r(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),O=u.BROKEN_CARET,_=void 0!==/()??/.exec("")[1],x=w||_||O||f||p;x&&(y=function(e){var t,n,o,u,c,f,p,x=this,E=s(x),S=i(e),j=E.raw;if(j)return j.lastIndex=x.lastIndex,t=r(y,j,S),x.lastIndex=j.lastIndex,t;var P=E.groups,k=O&&x.sticky,A=r(a,x),N=x.source,M=0,D=S;if(k&&(A=b(A,"y",""),-1===g(A,"g")&&(A+="g"),D=m(S,x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&"\n"!==v(S,x.lastIndex-1))&&(N="(?: "+N+")",D=" "+D,M++),n=new RegExp("^(?:"+N+")",A)),_&&(n=new RegExp("^"+N+"$(?!\\s)",A)),w&&(o=x.lastIndex),u=r(h,k?n:x,D),k?u?(u.input=m(u.input,M),u[0]=m(u[0],M),u.index=x.lastIndex,x.lastIndex+=u[0].length):x.lastIndex=0:w&&u&&(x.lastIndex=x.global?u.index+u[0].length:o),_&&u&&u.length>1&&r(d,u[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(u[c]=void 0)})),u&&P)for(u.groups=f=l(null),c=0;c<P.length;c++)p=P[c],f[p[0]]=u[p[1]];return u}),e.exports=y},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(67),a=n(68),u=n(43),c=n(38),l=n(119),s=n(61),f=n(75),p=f("splice"),d=o.TypeError,h=Math.max,y=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,r,o,f,p,b,m=c(this),w=u(m),O=i(e,w),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=w-O):(n=_-2,r=y(h(a(t),0),w-O)),w+n-r>v)throw d(g);for(o=l(m,r),f=0;f<r;f++)p=O+f,p in m&&s(o,f,m[p]);if(o.length=r,n<r){for(f=O;f<w-r;f++)p=f+r,b=f+n,p in m?m[b]=m[p]:delete m[b];for(f=w;f>w-r+n;f--)delete m[f-1]}else if(n>r)for(f=w-r;f>O;f--)p=f+r-1,b=f+n-1,p in m?m[b]=m[p]:delete m[b];for(f=0;f<n;f++)m[f+O]=arguments[f+2];return m.length=w-r+n,o}})},function(e,t,n){"use strict";var r=n(16),o=n(201),i=n(202);r({target:"String",proto:!0,forced:i("anchor")},{anchor:function(e){return o(this,"a","name",e)}})},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t["a"]=n}).call(this,n(82))},function(e,n,r){"use strict";(function(e){var o=r(31),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=a&&a.exports===i,c=u?o["a"].Buffer:void 0,l=c?c.allocUnsafe:void 0;function s(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}n["a"]=s}).call(this,r(121)(e))},function(e,t,n){var r=n(7),o=n(108),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},function(e,t,n){var r=n(7),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(65),o=n(18);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){"use strict";var r=n(16),o=n(35),i=n(64),a=n(94),u=n(28),c=n(171),l=n(96),s=n(97),f=n(73),p=n(57),d=n(44),h=n(27),y=n(70),v=n(136),g=a.PROPER,b=a.CONFIGURABLE,m=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,O=h("iterator"),_="keys",x="values",E="entries",S=function(){return this};e.exports=function(e,t,n,a,h,v,j){c(n,t,a);var P,k,A,N=function(e){if(e===h&&I)return I;if(!w&&e in T)return T[e];switch(e){case _:return function(){return new n(this,e)};case x:return function(){return new n(this,e)};case E:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",D=!1,T=e.prototype,C=T[O]||T["@@iterator"]||h&&T[h],I=!w&&C||N(h),R="Array"==t&&T.entries||C;if(R&&(P=l(R.call(new e)),P!==Object.prototype&&P.next&&(i||l(P)===m||(s?s(P,m):u(P[O])||d(P,O,S)),f(P,M,!0,!0),i&&(y[M]=S))),g&&h==x&&C&&C.name!==x&&(!i&&b?p(T,"name",x):(D=!0,I=function(){return o(C,this)})),h)if(k={values:N(x),keys:v?I:N(_),entries:N(E)},j)for(A in k)(w||D||!(A in T))&&d(T,A,k[A]);else r({target:t,proto:!0,forced:w||D},k);return i&&!j||T[O]===I||d(T,O,I,{name:h}),y[t]=I,k}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(7),o=n(67),i=n(43),a=n(61),u=r.Array,c=Math.max;e.exports=function(e,t,n){for(var r=i(e),l=o(t,r),s=o(void 0===n?r:n,r),f=u(c(s-l,0)),p=0;l<s;l++,p++)a(f,p,e[l]);return f.length=p,f}},function(e,t,n){var r=n(7),o=n(62),i=n(35),a=n(32),u=n(89),c=n(140),l=n(43),s=n(58),f=n(141),p=n(115),d=n(142),h=r.TypeError,y=function(e,t){this.stopped=e,this.result=t},v=y.prototype;e.exports=function(e,t,n){var r,g,b,m,w,O,_,x=n&&n.that,E=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_ITERATOR),j=!(!n||!n.INTERRUPTED),P=o(t,x),k=function(e){return r&&d(r,"normal",e),new y(!0,e)},A=function(e){return E?(a(e),j?P(e[0],e[1],k):P(e[0],e[1])):j?P(e,k):P(e)};if(S)r=e;else{if(g=p(e),!g)throw h(u(e)+" is not iterable");if(c(g)){for(b=0,m=l(e);m>b;b++)if(w=A(e[b]),w&&s(v,w))return w;return new y(!1)}r=f(e,g)}O=r.next;while(!(_=i(O,r)).done){try{w=A(_.value)}catch(N){d(r,"throw",N)}if("object"==typeof w&&w&&s(v,w))return w}return new y(!1)}},function(e,t,n){var r=n(98),o=n(59),i=n(70),a=n(27),u=a("iterator");e.exports=function(e){if(void 0!=e)return o(e,u)||o(e,"@@iterator")||i[r(e)]}},function(e,t,n){var r=n(27),o=r("toStringTag"),i={};i[o]="z",e.exports="[object z]"===String(i)},function(e,t,n){var r=n(7),o=n(58),i=r.TypeError;e.exports=function(e,t){if(o(t,e))return e;throw i("Incorrect invocation")}},function(e,t,n){var r=n(27),o=r("iterator"),i=!1;try{var a=0,u={next:function(){return{done:!!a++}},return:function(){i=!0}};u[o]=function(){return this},Array.from(u,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},function(e,t,n){var r=n(180);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n(19);var r=n(15),o=n(44),i=n(102),a=n(18),u=n(27),c=n(57),l=u("species"),s=RegExp.prototype;e.exports=function(e,t,n,f){var p=u(e),d=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=d&&!a((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!d||!h||n){var y=r(/./[p]),v=t(p,""[e],(function(e,t,n,o,a){var u=r(e),c=t.exec;return c===i||c===s.exec?d&&!a?{done:!0,value:y(t,n,o)}:{done:!0,value:u(n,t,o)}:{done:!1}}));o(String.prototype,e,v[0]),o(s,p,v[1])}f&&c(s[p],"sham",!0)}},function(e,t,n){"use strict";var r=n(146).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(7),o=n(35),i=n(32),a=n(28),u=n(50),c=n(102),l=r.TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var r=o(n,e,t);return null!==r&&i(r),r}if("RegExp"===u(e))return o(c,e,t);throw l("RegExp#exec called on incompatible receiver")}},function(e,t,n){"use strict";var r=n(76),o=n(35),i=n(15),a=n(122),u=n(18),c=n(32),l=n(28),s=n(68),f=n(90),p=n(40),d=n(45),h=n(123),y=n(59),v=n(197),g=n(124),b=n(27),m=b("replace"),w=Math.max,O=Math.min,_=i([].concat),x=i([].push),E=i("".indexOf),S=i("".slice),j=function(e){return void 0===e?e:String(e)},P=function(){return"$0"==="a".replace(/./,"$0")}(),k=function(){return!!/./[m]&&""===/./[m]("a","$0")}(),A=!u((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));a("replace",(function(e,t,n){var i=k?"$":"$0";return[function(e,n){var r=d(this),i=void 0==e?void 0:y(e,m);return i?o(i,e,r,n):o(t,p(r),e,n)},function(e,o){var a=c(this),u=p(e);if("string"==typeof o&&-1===E(o,i)&&-1===E(o,"$<")){var d=n(t,a,u,o);if(d.done)return d.value}var y=l(o);y||(o=p(o));var b=a.global;if(b){var m=a.unicode;a.lastIndex=0}var P=[];while(1){var k=g(a,u);if(null===k)break;if(x(P,k),!b)break;var A=p(k[0]);""===A&&(a.lastIndex=h(u,f(a.lastIndex),m))}for(var N="",M=0,D=0;D<P.length;D++){k=P[D];for(var T=p(k[0]),C=w(O(s(k.index),u.length),0),I=[],R=1;R<k.length;R++)x(I,j(k[R]));var L=k.groups;if(y){var B=_([T],I,C,u);void 0!==L&&x(B,L);var z=p(r(o,void 0,B))}else z=v(T,u,C,I,L,o);C>=M&&(N+=S(u,M,C)+z,M=C+T.length)}return N+S(u,M)}]}),!A||!P||k)},function(e,t,n){var r=n(50),o=n(7);e.exports="process"==r(o.process)},function(e,t,n){var r=n(16);r({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(109);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(36),o=n(18),i=n(86);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(7),o=n(35),i=n(33),a=n(88),u=n(59),c=n(169),l=n(27),s=r.TypeError,f=l("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,r=u(e,f);if(r){if(void 0===t&&(t="default"),n=o(r,e,t),!i(n)||a(n))return n;throw s("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},function(e,t,n){var r=n(15),o=n(34),i=n(39),a=n(132).indexOf,u=n(69),c=r([].push);e.exports=function(e,t){var n,r=i(e),l=0,s=[];for(n in r)!o(u,n)&&o(r,n)&&c(s,n);while(t.length>l)o(r,n=t[l++])&&(~a(s,n)||c(s,n));return s}},function(e,t,n){var r=n(39),o=n(67),i=n(43),a=function(e){return function(t,n,a){var u,c=r(t),l=i(c),s=o(a,l);if(e&&n!=n){while(l>s)if(u=c[s++],u!=u)return!0}else for(;l>s;s++)if((e||s in c)&&c[s]===n)return e||s||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(46);e.exports=r("document","documentElement")},function(e,t,n){var r=n(34),o=n(135),i=n(51),a=n(37);e.exports=function(e,t){for(var n=o(t),u=a.f,c=i.f,l=0;l<n.length;l++){var s=n[l];r(e,s)||u(e,s,c(t,s))}}},function(e,t,n){var r=n(46),o=n(15),i=n(72),a=n(112),u=n(32),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(u(e)),n=a.f;return n?c(t,n(e)):t}},function(e,t,n){"use strict";var r,o,i,a=n(18),u=n(28),c=n(54),l=n(96),s=n(44),f=n(27),p=n(64),d=f("iterator"),h=!1;[].keys&&(i=[].keys(),"next"in i?(o=l(l(i)),o!==Object.prototype&&(r=o)):h=!0);var y=void 0==r||a((function(){var e={};return r[d].call(e)!==e}));y?r={}:p&&(r=c(r)),u(r[d])||s(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(e,t,n){var r=n(18);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(16),o=n(15),i=n(69),a=n(33),u=n(34),c=n(37).f,l=n(72),s=n(139),f=n(174),p=n(85),d=n(176),h=!1,y=p("meta"),v=0,g=function(e){c(e,y,{value:{objectID:"O"+v++,weakData:{}}})},b=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!u(e,y)){if(!f(e))return"F";if(!t)return"E";g(e)}return e[y].objectID},m=function(e,t){if(!u(e,y)){if(!f(e))return!0;if(!t)return!1;g(e)}return e[y].weakData},w=function(e){return d&&h&&f(e)&&!u(e,y)&&g(e),e},O=function(){_.enable=function(){},h=!0;var e=l.f,t=o([].splice),n={};n[y]=1,e(n).length&&(l.f=function(n){for(var r=e(n),o=0,i=r.length;o<i;o++)if(r[o]===y){t(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}))},_=e.exports={enable:O,fastKey:b,getWeakData:m,onFreeze:w};i[y]=!0},function(e,t,n){var r=n(50),o=n(39),i=n(72).f,a=n(113),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return i(e)}catch(t){return a(u)}};e.exports.f=function(e){return u&&"Window"==r(e)?c(e):i(o(e))}},function(e,t,n){var r=n(27),o=n(70),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,n){var r=n(7),o=n(35),i=n(55),a=n(32),u=n(89),c=n(115),l=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?c(e):t;if(i(n))return a(o(n,e));throw l(u(e)+" is not iterable")}},function(e,t,n){var r=n(35),o=n(32),i=n(59);e.exports=function(e,t,n){var a,u;o(e);try{if(a=i(e,"return"),!a){if("throw"===t)throw n;return n}a=r(a,e)}catch(c){u=!0,a=c}if("throw"===t)throw n;if(u)throw a;return o(a),n}},function(e,t,n){var r=n(28),o=n(33),i=n(97);e.exports=function(e,t,n){var a,u;return i&&r(a=t.constructor)&&a!==n&&o(u=a.prototype)&&u!==n.prototype&&i(e,u),e}},function(e,t,n){var r=n(44);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(46),o=n(37),i=n(27),a=n(36),u=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[u]&&n(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(15),o=n(68),i=n(40),a=n(45),u=r("".charAt),c=r("".charCodeAt),l=r("".slice),s=function(e){return function(t,n){var r,s,f=i(a(t)),p=o(n),d=f.length;return p<0||p>=d?e?"":void 0:(r=c(f,p),r<55296||r>56319||p+1===d||(s=c(f,p+1))<56320||s>57343?e?u(f,p):r:e?l(f,p,p+2):s-56320+(r-55296<<10)+65536)}};e.exports={codeAt:s(!1),charAt:s(!0)}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(86),o=r("span").classList,i=o&&o.constructor&&o.constructor.prototype;e.exports=i===Object.prototype?void 0:i},function(e,t,n){var r=n(27);t.f=r},function(e,t,n){var r=n(181),o=n(34),i=n(149),a=n(37).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},function(e,t,n){var r=n(18),o=n(7),i=o.RegExp,a=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),u=a||r((function(){return!i("a","y").sticky})),c=a||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:u,UNSUPPORTED_Y:a}},function(e,t,n){"use strict";var r=n(16),o=n(132).includes,i=n(83);r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t,n){"use strict";var r=n(16),o=n(15),i=n(193),a=n(45),u=n(40),c=n(194),l=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~l(u(a(this)),u(i(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(33),o=n(50),i=n(27),a=i("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function c(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}})();var l,s=[],f=!1,p=-1;function d(){f&&l&&(f=!1,l.length?s=l.concat(s):p=-1,s.length&&h())}function h(){if(!f){var e=u(d);f=!0;var t=s.length;while(t){l=s,s=[];while(++p<t)l&&l[p].run();p=-1,t=s.length}l=null,f=!1,c(e)}}function y(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new y(e,t)),1!==s.length||f||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(32),o=n(157),i=n(27),a=i("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||void 0==(n=r(i)[a])?t:o(n)}},function(e,t,n){var r=n(7),o=n(100),i=n(89),a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a constructor")}},function(e,t,n){"use strict";var r=n(16),o=n(159).trim,i=n(195);r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return o(this)}})},function(e,t,n){var r=n(15),o=n(45),i=n(40),a=n(160),u=r("".replace),c="["+a+"]",l=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),f=function(e){return function(t){var n=i(o(t));return 1&e&&(n=u(n,l,"")),2&e&&(n=u(n,s,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(35),o=n(122),i=n(32),a=n(90),u=n(40),c=n(45),l=n(59),s=n(123),f=n(124);o("match",(function(e,t,n){return[function(t){var n=c(this),o=void 0==t?void 0:l(t,e);return o?r(o,t,n):new RegExp(t)[e](u(n))},function(e){var r=i(this),o=u(e),c=n(t,r,o);if(c.done)return c.value;if(!r.global)return f(r,o);var l=r.unicode;r.lastIndex=0;var p,d=[],h=0;while(null!==(p=f(r,o))){var y=u(p[0]);d[h]=y,""===y&&(r.lastIndex=s(o,a(r.lastIndex),l)),h++}return 0===h?null:d}]}))},function(e,t,n){var r,o,i,a,u=n(7),c=n(76),l=n(62),s=n(28),f=n(34),p=n(18),d=n(133),h=n(101),y=n(86),v=n(163),g=n(126),b=u.setImmediate,m=u.clearImmediate,w=u.process,O=u.Dispatch,_=u.Function,x=u.MessageChannel,E=u.String,S=0,j={},P="onreadystatechange";try{r=u.location}catch(D){}var k=function(e){if(f(j,e)){var t=j[e];delete j[e],t()}},A=function(e){return function(){k(e)}},N=function(e){k(e.data)},M=function(e){u.postMessage(E(e),r.protocol+"//"+r.host)};b&&m||(b=function(e){var t=h(arguments,1);return j[++S]=function(){c(s(e)?e:_(e),void 0,t)},o(S),S},m=function(e){delete j[e]},g?o=function(e){w.nextTick(A(e))}:O&&O.now?o=function(e){O.now(A(e))}:x&&!v?(i=new x,a=i.port2,i.port1.onmessage=N,o=l(a.postMessage,a)):u.addEventListener&&s(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!p(M)?(o=M,u.addEventListener("message",N,!1)):o=P in y("script")?function(e){d.appendChild(y("script"))[P]=function(){d.removeChild(this),k(e)}}:function(e){setTimeout(A(e),0)}),e.exports={set:b,clear:m}},function(e,t,n){var r=n(53);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r=n(55),o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},function(e,t,n){"use strict";function r(){return!1}t["a"]=r},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(0);function o(e){throw new Error("[mobx-utils] "+e)}function i(e,t){void 0===t&&(t="Illegal state"),e||o(t)}var a=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(a(Object.getPrototypeOf(e))||[])},u=function(e){var t=a(e),n=t.filter((function(e,n){return t.indexOf(e)===n}));return n},c=function(e){return u(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))},l="pending",s="fulfilled",f="rejected";function p(e){switch(this.state){case l:return e.pending&&e.pending(this.value);case f:return e.rejected&&e.rejected(this.value);case s:return e.fulfilled?e.fulfilled(this.value):this.value}}function d(e,t){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"===typeof e||"object"===typeof e&&e&&"function"===typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"===typeof e&&(e=new Promise(e));var n=e;e.then(Object(r["k"])("observableFromPromise-resolve",(function(e){n.value=e,n.state=s})),Object(r["k"])("observableFromPromise-reject",(function(e){n.value=e,n.state=f}))),n.isPromiseBasedObservable=!0,n.case=p;var o=t&&t.state===s?t.value:void 0;return Object(r["q"])(n,{value:o,state:l},{},{deep:!1}),n}(function(e){function t(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state=s,n.value=t,n}e.reject=Object(r["k"])("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state=f,n.value=t,n})),e.resolve=Object(r["k"])("fromPromise.resolve",t)})(d||(d={}));var h=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};(function(){function e(e,t){var n=this;Object(r["G"])((function(){n.current=t,n.subscription=e.subscribe(n)}))}e.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.next=function(e){this.current=e},e.prototype.complete=function(){this.dispose()},e.prototype.error=function(e){this.current=e,this.dispose()},h([r["C"].ref],e.prototype,"current",void 0),h([r["k"].bound],e.prototype,"next",null),h([r["k"].bound],e.prototype,"complete",null),h([r["k"].bound],e.prototype,"error",null)})();var y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},v=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function e(e){var t=this;this.model=e,this.localValues=r["C"].map({}),this.localComputedValues=r["C"].map({}),this.isPropertyDirty=function(e){return t.localValues.has(e)},i(Object(r["A"])(e),"createViewModel expects an observable object"),c(e).forEach((function(n){if(n!==r["a"]&&"__mobxDidRunLazyInitializers"!==n){if(i(-1===g.indexOf(n),"The propertyname "+n+" is reserved and cannot be used with viewModels"),Object(r["w"])(e,n)){var o=Object(r["h"])(e,n).derivation;t.localComputedValues.set(n,Object(r["m"])(o.bind(t)))}var a=Object.getOwnPropertyDescriptor(e,n),u=a?{enumerable:a.enumerable}:{};Object.defineProperty(t,n,y(y({},u),{configurable:!0,get:function(){return Object(r["w"])(e,n)?t.localComputedValues.get(n).get():t.isPropertyDirty(n)?t.localValues.get(n):t.model[n]},set:Object(r["k"])((function(e){e!==t.model[n]?t.localValues.set(n,e):t.localValues.delete(n)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var e=this;Object(r["B"])(this.localValues).forEach((function(t){var n=e.localValues.get(t),o=e.model[t];Object(r["y"])(o)?o.replace(n):Object(r["z"])(o)?(o.clear(),o.merge(n)):Object(r["v"])(n)||(e.model[t]=n)})),this.localValues.clear()},e.prototype.reset=function(){this.localValues.clear()},e.prototype.resetProperty=function(e){this.localValues.delete(e)},v([r["m"]],e.prototype,"isDirty",null),v([r["m"]],e.prototype,"changedValues",null),v([r["k"].bound],e.prototype,"submit",null),v([r["k"].bound],e.prototype,"reset",null),v([r["k"].bound],e.prototype,"resetProperty",null)})();function b(e){if(!e)return"ROOT";var t=[];while(e.parent)t.push(e.path),e=e.parent;return t.reverse().join("/")}function m(e){return Object(r["A"])(e)||Object(r["y"])(e)||Object(r["z"])(e)}function w(e,t){var n=new WeakMap;function o(r){var o=n.get(r.object);i(r,o),t(r,b(o),e)}function i(e,t){switch(e.type){case"add":a(e.newValue,t,e.name);break;case"update":u(e.oldValue),a(e.newValue,t,e.name||""+e.index);break;case"remove":case"delete":u(e.oldValue);break;case"splice":e.removed.map(u),e.added.forEach((function(n,r){return a(n,t,""+(e.index+r))}));for(var r=e.index+e.addedCount;r<e.object.length;r++)if(m(e.object[r])){var o=n.get(e.object[r]);o&&(o.path=""+r)}break}}function a(e,t,i){if(m(e)){var u=n.get(e);if(u){if(u.parent!==t||u.path!==i)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+b(t)+"/"+i+"', but it already exists at '"+b(u.parent)+"/"+u.path+"'")}else{var c={parent:t,path:i,dispose:Object(r["D"])(e,o)};n.set(e,c),Object(r["p"])(e).forEach((function(e){var t=e[0],n=e[1];return a(n,c,t)}))}}}function u(e){if(m(e)){var t=n.get(e);if(!t)return;n.delete(e),t.dispose(),Object(r["L"])(e).forEach(u)}}return a(e,void 0,""),function(){u(e)}}var O=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=(function(e){function t(t,n,o){var i=void 0===o?{}:o,a=i.name,u=void 0===a?"ogm"+(1e3*Math.random()|0):a,c=i.keyToName,l=void 0===c?function(e){return""+e}:c,s=e.call(this)||this;s._keyToName=l,s._groupBy=n,s._ogmInfoKey=Symbol("ogmInfo"+u),s._base=t;for(var f=0;f<t.length;f++)s._addItem(t[f]);return s._disposeBaseObserver=Object(r["D"])(s._base,(function(e){if("splice"===e.type)Object(r["J"])((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];s._removeItem(r)}for(var o=0,i=e.added;o<i.length;o++){var a=i[o];s._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");Object(r["J"])((function(){s._removeItem(e.oldValue),s._addItem(e.newValue)}))}})),s}O(t,e),t.prototype.clear=function(){throw new Error("not supported")},t.prototype.delete=function(e){throw new Error("not supported")},t.prototype.set=function(e,t){throw new Error("not supported")},t.prototype.dispose=function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e],n=t[this._ogmInfoKey];n.reaction(),delete t[this._ogmInfoKey]}},t.prototype._getGroupArr=function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=Object(r["C"])([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n},t.prototype._removeFromGroupArr=function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)},t.prototype._addItem=function(e){var t=this,n=this._groupBy(e),o=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:o.length,reaction:Object(r["F"])((function(){return t._groupBy(e)}),(function(n,r){var o=e[t._ogmInfoKey];t._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=t._getGroupArr(n),a=i.length;i.push(e),o.groupByValue=n,o.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(e)},t.prototype._removeItem=function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}}(r["b"]),function(){function e(e,t){this.base=e,this.args=t,this.closestIdx=0,this.isDisposed=!1;for(var n=this.closest=this.root=e,r=0;r<this.args.length-1;r++){if(n=n.get(t[r]),!n)break;this.closest=n}this.closestIdx=r}return e.prototype.exists=function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])},e.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},e.prototype.set=function(e){this.assertNotDisposed();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var o=new Map;n.set(this.args[r],o),n=o}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)},e.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0},e.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},e}());(function(){function e(){this.store=new Map,this.argsLength=-1}e.prototype.entry=function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new _(this.store,e)}})();new Set,new Set;var x,E=Promise.resolve();x="undefined"!==typeof queueMicrotask?queueMicrotask:"undefined"!==typeof e&&e.nextTick?function(t){e.nextTick(t)}:function(e){setTimeout(e,0)};var S=function(){return new Promise((function(e){x(e)}))}}).call(this,n(155))},function(e,t,n){var r;(function(o,i,a){if(o){for(var u,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)c[111+p]="f"+p;for(p=0;p<=9;++p)c[p+96]=p.toString();S.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},S.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,(function(){}),t)},S.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},S.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},S.prototype.stopCallback=function(e,t){var n=this;if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(E(t,n.target))return!1;if("composedPath"in e&&"function"===typeof e.composedPath){var r=e.composedPath()[0];r!==e.target&&(t=r)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},S.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},S.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(c[t]=e[t]);u=null},S.init=function(){var e=S(i);for(var t in e)"_"!==t.charAt(0)&&(S[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},S.init(),o.Mousetrap=S,e.exports&&(e.exports=S),r=function(){return S}.call(t,n,t,e),r===a||(e.exports=r)}function d(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return c[e.which]?c[e.which]:l[e.which]?l[e.which]:String.fromCharCode(e.which).toLowerCase()}function y(e,t){return e.sort().join(",")===t.sort().join(",")}function v(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function g(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function b(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function m(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function w(){if(!u)for(var e in u={},c)e>95&&e<112||c.hasOwnProperty(e)&&(u[c[e]]=e);return u}function O(e,t,n){return n||(n=w()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function _(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function x(e,t){var n,r,o,i=[];for(n=_(e),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),t&&"keypress"!=t&&s[r]&&(r=s[r],i.push("shift")),m(r)&&i.push(r);return t=O(r,i,t),{key:r,modifiers:i,action:t}}function E(e,t){return null!==e&&e!==i&&(e===t||E(e.parentNode,t))}function S(e){var t=this;if(e=e||i,!(t instanceof S))return new S(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},o=!1,a=!1,u=!1;function c(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(u=!1)}function l(e,n,o,i,a,u){var c,l,s=[],f=o.type;if(!t._callbacks[e])return[];for("keyup"==f&&m(e)&&(n=[e]),c=0;c<t._callbacks[e].length;++c)if(l=t._callbacks[e][c],(i||!l.seq||r[l.seq]==l.level)&&f==l.action&&("keypress"==f&&!o.metaKey&&!o.ctrlKey||y(n,l.modifiers))){var p=!i&&l.combo==a,d=i&&l.seq==i&&l.level==u;(p||d)&&t._callbacks[e].splice(c,1),s.push(l)}return s}function s(e,n,r,o){t.stopCallback(n,n.target||n.srcElement,r,o)||!1===e(n,r)&&(g(n),b(n))}function f(e){"number"!==typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||o!==n?t.handleKey(n,v(e),e):o=!1)}function p(){clearTimeout(n),n=setTimeout(c,1e3)}function w(e,t,n,i){function a(t){return function(){u=t,++r[e],p()}}function l(t){s(n,t,e),"keyup"!==i&&(o=h(t)),setTimeout(c,10)}r[e]=0;for(var f=0;f<t.length;++f){var d=f+1===t.length,y=d?l:a(i||x(t[f+1]).action);O(t[f],y,i,e,f)}}function O(e,n,r,o,i){t._directMap[e+":"+r]=n,e=e.replace(/\s+/g," ");var a,u=e.split(" ");u.length>1?w(e,u,n,r):(a=x(e,r),t._callbacks[a.key]=t._callbacks[a.key]||[],l(a.key,a.modifiers,{type:a.action},o,e,i),t._callbacks[a.key][o?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:e}))}t._handleKey=function(e,t,n){var r,o=l(e,t,n),i={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,i[o[r].seq]=1,s(o[r].callback,n,o[r].combo,o[r].seq)}else p||s(o[r].callback,n,o[r].combo);var d="keypress"==n.type&&a;n.type!=u||m(e)||d||c(i),a=p&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)O(e[r],t,n)},d(e,"keypress",f),d(e,"keydown",f),d(e,"keyup",f)}})("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},function(e,t,n){var r=n(36),o=n(37),i=n(32),a=n(39),u=n(66);e.exports=r?Object.defineProperties:function(e,t){i(e);var n,r=a(t),c=u(t),l=c.length,s=0;while(l>s)o.f(e,n=c[s++],r[n]);return e}},function(e,t,n){var r=n(7),o=n(35),i=n(28),a=n(33),u=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&i(n=e.toString)&&!a(r=o(n,e)))return r;if(i(n=e.valueOf)&&!a(r=o(n,e)))return r;if("string"!==t&&i(n=e.toString)&&!a(r=o(n,e)))return r;throw u("Can't convert object to primitive value")}},function(e,t,n){var r=n(7),o=n(28),i=n(92),a=r.WeakMap;e.exports=o(a)&&/native code/.test(i(a))},function(e,t,n){"use strict";var r=n(136).IteratorPrototype,o=n(54),i=n(71),a=n(73),u=n(70),c=function(){return this};e.exports=function(e,t,n,l){var s=t+" Iterator";return e.prototype=o(r,{next:i(+!l,n)}),a(e,s,!1,!0),u[s]=c,e}},function(e,t,n){var r=n(7),o=n(28),i=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(15),a=n(95),u=n(44),c=n(138),l=n(114),s=n(117),f=n(28),p=n(33),d=n(18),h=n(118),y=n(73),v=n(143);e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),m=g?"set":"add",w=o[e],O=w&&w.prototype,_=w,x={},E=function(e){var t=i(O[e]);u(O,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!p(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})},S=a(e,!f(w)||!(b||O.forEach&&!d((function(){(new w).entries().next()}))));if(S)_=n.getConstructor(t,e,g,m),c.enable();else if(a(e,!0)){var j=new _,P=j[m](b?{}:-0,1)!=j,k=d((function(){j.has(1)})),A=h((function(e){new w(e)})),N=!b&&d((function(){var e=new w,t=5;while(t--)e[m](t,t);return!e.has(-0)}));A||(_=t((function(e,t){s(e,O);var n=v(new w,e,_);return void 0!=t&&l(t,n[m],{that:n,AS_ENTRIES:g}),n})),_.prototype=O,O.constructor=_),(k||N)&&(E("delete"),E("has"),g&&E("get")),(N||P)&&E(m),b&&O.clear&&delete O.clear}return x[e]=_,r({global:!0,forced:_!=w},x),y(_,e),b||n.setStrong(_,e,g),_}},function(e,t,n){var r=n(18),o=n(33),i=n(50),a=n(175),u=Object.isExtensible,c=r((function(){u(1)}));e.exports=c||a?function(e){return!!o(e)&&((!a||"ArrayBuffer"!=i(e))&&(!u||u(e)))}:u},function(e,t,n){var r=n(18);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},function(e,t,n){var r=n(18);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){"use strict";var r=n(37).f,o=n(54),i=n(144),a=n(62),u=n(117),c=n(114),l=n(111),s=n(145),f=n(36),p=n(138).fastKey,d=n(56),h=d.set,y=d.getterFor;e.exports={getConstructor:function(e,t,n,l){var s=e((function(e,r){u(e,d),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&c(r,e[l],{that:e,AS_ENTRIES:n})})),d=s.prototype,v=y(t),g=function(e,t,n){var r,o,i=v(e),a=b(e,t);return a?a.value=n:(i.last=a={index:o=p(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},b=function(e,t){var n,r=v(e),o=p(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(d,{clear:function(){var e=this,t=v(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=v(t),r=b(t,e);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=v(this),r=a(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!b(this,e)}}),i(d,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),f&&r(d,"size",{get:function(){return v(this).size}}),s},setStrong:function(e,t,n){var r=t+" Iterator",o=y(t),i=y(r);l(e,t,(function(e,t){h(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),s(t)}}},function(e,t,n){"use strict";var r=n(116),o=n(98);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,n){"use strict";var r=n(74).forEach,o=n(120),i=o("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var r=n(7),o=n(99),i=n(100),a=n(33),u=n(27),c=u("species"),l=r.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,i(t)&&(t===l||o(t.prototype))?t=void 0:a(t)&&(t=t[c],null===t&&(t=void 0))),void 0===t?l:t}},function(e,t,n){var r=n(7);e.exports=r},function(e,t,n){"use strict";var r=n(7),o=n(62),i=n(35),a=n(38),u=n(183),c=n(140),l=n(100),s=n(43),f=n(61),p=n(141),d=n(115),h=r.Array;e.exports=function(e){var t=a(e),n=l(this),r=arguments.length,y=r>1?arguments[1]:void 0,v=void 0!==y;v&&(y=o(y,r>2?arguments[2]:void 0));var g,b,m,w,O,_,x=d(t),E=0;if(!x||this==h&&c(x))for(g=s(t),b=n?new this(g):h(g);g>E;E++)_=v?y(t[E],E):t[E],f(b,E,_);else for(w=p(t,x),O=w.next,b=n?new this:[];!(m=i(O,w)).done;E++)_=v?u(w,y,[m.value,E],!0):m.value,f(b,E,_);return b.length=E,b}},function(e,t,n){var r=n(32),o=n(142);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){o(e,"throw",a)}}},function(e,t,n){"use strict";var r=n(32);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(18),o=n(7),i=o.RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,n){var r=n(18),o=n(7),i=o.RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,n){"use strict";var r=n(16),o=n(15),i=n(55),a=n(38),u=n(43),c=n(40),l=n(18),s=n(188),f=n(120),p=n(189),d=n(190),h=n(65),y=n(191),v=[],g=o(v.sort),b=o(v.push),m=l((function(){v.sort(void 0)})),w=l((function(){v.sort(null)})),O=f("sort"),_=!l((function(){if(h)return h<70;if(!(p&&p>3)){if(d)return!0;if(y)return y<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:t+r,v:n})}for(v.sort((function(e,t){return t.v-e.v})),r=0;r<v.length;r++)t=v[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}})),x=m||!w||!O||!_,E=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}};r({target:"Array",proto:!0,forced:x},{sort:function(e){void 0!==e&&i(e);var t=a(this);if(_)return void 0===e?g(t):g(t,e);var n,r,o=[],c=u(t);for(r=0;r<c;r++)r in t&&b(o,t[r]);s(o,E(e)),n=o.length,r=0;while(r<n)t[r]=o[r++];while(r<c)delete t[r++];return t}})},function(e,t,n){var r=n(113),o=Math.floor,i=function(e,t){var n=e.length,c=o(n/2);return n<8?a(e,t):u(e,i(r(e,0,c),t),i(r(e,c),t),t)},a=function(e,t){var n,r,o=e.length,i=1;while(i<o){r=i,n=e[i];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},u=function(e,t,n,r){var o=t.length,i=n.length,a=0,u=0;while(a<o||u<i)e[a+u]=a<o&&u<i?r(t[a],n[u])<=0?t[a++]:n[u++]:a<o?t[a++]:n[u++];return e};e.exports=i},function(e,t,n){var r=n(53),o=r.match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},function(e,t,n){var r=n(53);e.exports=/MSIE|Trident/.test(r)},function(e,t,n){var r=n(53),o=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},function(e,t,n){"use strict";var r=n(16),o=n(74).find,i=n(83),a="find",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},function(e,t,n){var r=n(7),o=n(154),i=r.TypeError;e.exports=function(e){if(o(e))throw i("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(27),o=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[o]=!1,"/./"[e](t)}catch(r){}}return!1}},function(e,t,n){var r=n(94).PROPER,o=n(18),i=n(160),a="";e.exports=function(e){return o((function(){return!!i[e]()||a[e]()!==a||r&&i[e].name!==e}))}},function(e,t,n){var r=n(15);e.exports=r(1..valueOf)},function(e,t,n){var r=n(15),o=n(38),i=Math.floor,a=r("".charAt),u=r("".replace),c=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,p){var d=n+e.length,h=r.length,y=s;return void 0!==f&&(f=o(f),y=l),u(p,y,(function(o,u){var l;switch(a(u,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,d);case"<":l=f[c(u,1,-1)];break;default:var s=+u;if(0===s)return o;if(s>h){var p=i(s/10);return 0===p?o:p<=h?void 0===r[p-1]?a(u,1):r[p-1]+a(u,1):o}l=r[s-1]}return void 0===l?"":l}))}},function(e,t,n){"use strict";var r=n(36),o=n(15),i=n(35),a=n(18),u=n(66),c=n(112),l=n(93),s=n(38),f=n(81),p=Object.assign,d=Object.defineProperty,h=o([].concat);e.exports=!p||a((function(){if(r&&1!==p({b:1},p(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=p({},e)[n]||u(p({},t)).join("")!=o}))?function(e,t){var n=s(e),o=arguments.length,a=1,p=c.f,d=l.f;while(o>a){var y,v=f(arguments[a++]),g=p?h(u(v),p(v)):u(v),b=g.length,m=0;while(b>m)y=g[m++],r&&!i(d,v,y)||(n[y]=v[y])}return n}:p},function(e,t,n){"use strict";var r=n(7),o=n(15),i=n(55),a=n(33),u=n(34),c=n(101),l=r.Function,s=o([].concat),f=o([].join),p={},d=function(e,t,n){if(!u(p,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";p[t]=l("C,a","return new C("+f(r,",")+")")}return p[t](e,n)};e.exports=l.bind||function(e){var t=i(this),n=t.prototype,r=c(arguments,1),o=function(){var n=s(r,c(arguments));return this instanceof o?d(t,n.length,n):t.apply(e,n)};return a(n)&&(o.prototype=n),o}},function(e,t,n){var r=n(34);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},function(e,t,n){var r=n(15),o=n(45),i=n(40),a=/"/g,u=r("".replace);e.exports=function(e,t,n,r){var c=i(o(e)),l="<"+t;return""!==n&&(l+=" "+n+'="'+u(i(r),a,"&quot;")+'"'),l+">"+c+"</"+t+">"}},function(e,t,n){var r=n(18);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,n){var r=n(16),o=Math.hypot,i=Math.abs,a=Math.sqrt,u=!!o&&o(1/0,NaN)!==1/0;r({target:"Math",stat:!0,forced:u},{hypot:function(e,t){var n,r,o=0,u=0,c=arguments.length,l=0;while(u<c)n=i(arguments[u++]),l<n?(r=l/n,o=o*r*r+1,l=n):n>0?(r=n/l,o+=r*r):o+=n;return l===1/0?1/0:l*a(o)}})},function(e,t,n){"use strict";var r,o,i,a,u=n(16),c=n(64),l=n(7),s=n(46),f=n(35),p=n(205),d=n(44),h=n(144),y=n(97),v=n(73),g=n(145),b=n(55),m=n(28),w=n(33),O=n(117),_=n(92),x=n(114),E=n(118),S=n(156),j=n(162).set,P=n(206),k=n(209),A=n(210),N=n(164),M=n(211),D=n(56),T=n(95),C=n(27),I=n(212),R=n(126),L=n(65),B=C("species"),z="Promise",V=D.getterFor(z),H=D.set,F=D.getterFor(z),G=p&&p.prototype,U=p,X=G,Y=l.TypeError,W=l.document,K=l.process,Z=N.f,q=Z,J=!!(W&&W.createEvent&&l.dispatchEvent),Q=m(l.PromiseRejectionEvent),$="unhandledrejection",ee="rejectionhandled",te=0,ne=1,re=2,oe=1,ie=2,ae=!1,ue=T(z,(function(){var e=_(U),t=e!==String(U);if(!t&&66===L)return!0;if(c&&!X["finally"])return!0;if(L>=51&&/native code/.test(e))return!1;var n=new U((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},o=n.constructor={};return o[B]=r,ae=n.then((function(){}))instanceof r,!ae||!t&&I&&!Q})),ce=ue||!E((function(e){U.all(e)["catch"]((function(){}))})),le=function(e){var t;return!(!w(e)||!m(t=e.then))&&t},se=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;P((function(){var r=e.value,o=e.state==ne,i=0;while(n.length>i){var a,u,c,l=n[i++],s=o?l.ok:l.fail,p=l.resolve,d=l.reject,h=l.domain;try{s?(o||(e.rejection===ie&&he(e),e.rejection=oe),!0===s?a=r:(h&&h.enter(),a=s(r),h&&(h.exit(),c=!0)),a===l.promise?d(Y("Promise-chain cycle")):(u=le(a))?f(u,a,p,d):p(a)):d(r)}catch(y){h&&!c&&h.exit(),d(y)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&pe(e)}))}},fe=function(e,t,n){var r,o;J?(r=W.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!Q&&(o=l["on"+e])?o(r):e===$&&A("Unhandled promise rejection",n)},pe=function(e){f(j,l,(function(){var t,n=e.facade,r=e.value,o=de(e);if(o&&(t=M((function(){R?K.emit("unhandledRejection",r,n):fe($,n,r)})),e.rejection=R||de(e)?ie:oe,t.error))throw t.value}))},de=function(e){return e.rejection!==oe&&!e.parent},he=function(e){f(j,l,(function(){var t=e.facade;R?K.emit("rejectionHandled",t):fe(ee,t,e.value)}))},ye=function(e,t,n){return function(r){e(t,r,n)}},ve=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=re,se(e,!0))},ge=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Y("Promise can't be resolved itself");var r=le(t);r?P((function(){var n={done:!1};try{f(r,t,ye(ge,n,e),ye(ve,n,e))}catch(o){ve(n,o,e)}})):(e.value=t,e.state=ne,se(e,!1))}catch(o){ve({done:!1},o,e)}}};if(ue&&(U=function(e){O(this,X),b(e),f(r,this);var t=V(this);try{e(ye(ge,t),ye(ve,t))}catch(n){ve(t,n)}},X=U.prototype,r=function(e){H(this,{type:z,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:te,value:void 0})},r.prototype=h(X,{then:function(e,t){var n=F(this),r=n.reactions,o=Z(S(this,U));return o.ok=!m(e)||e,o.fail=m(t)&&t,o.domain=R?K.domain:void 0,n.parent=!0,r[r.length]=o,n.state!=te&&se(n,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,t=V(e);this.promise=e,this.resolve=ye(ge,t),this.reject=ye(ve,t)},N.f=Z=function(e){return e===U||e===i?new o(e):q(e)},!c&&m(p)&&G!==Object.prototype)){a=G.then,ae||(d(G,"then",(function(e,t){var n=this;return new U((function(e,t){f(a,n,e,t)})).then(e,t)}),{unsafe:!0}),d(G,"catch",X["catch"],{unsafe:!0}));try{delete G.constructor}catch(be){}y&&y(G,X)}u({global:!0,wrap:!0,forced:ue},{Promise:U}),v(U,z,!1,!0),g(z),i=s(z),u({target:z,stat:!0,forced:ue},{reject:function(e){var t=Z(this);return f(t.reject,void 0,e),t.promise}}),u({target:z,stat:!0,forced:c||ue},{resolve:function(e){return k(c&&this===i?U:this,e)}}),u({target:z,stat:!0,forced:ce},{all:function(e){var t=this,n=Z(t),r=n.resolve,o=n.reject,i=M((function(){var n=b(t.resolve),i=[],a=0,u=1;x(e,(function(e){var c=a++,l=!1;u++,f(n,t,e).then((function(e){l||(l=!0,i[c]=e,--u||r(i))}),o)})),--u||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=Z(t),r=n.reject,o=M((function(){var o=b(t.resolve);x(e,(function(e){f(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(e,t,n){var r=n(7);e.exports=r.Promise},function(e,t,n){var r,o,i,a,u,c,l,s,f=n(7),p=n(62),d=n(51).f,h=n(162).set,y=n(163),v=n(207),g=n(208),b=n(126),m=f.MutationObserver||f.WebKitMutationObserver,w=f.document,O=f.process,_=f.Promise,x=d(f,"queueMicrotask"),E=x&&x.value;E||(r=function(){var e,t;b&&(e=O.domain)&&e.exit();while(o){t=o.fn,o=o.next;try{t()}catch(n){throw o?a():i=void 0,n}}i=void 0,e&&e.enter()},y||b||g||!m||!w?!v&&_&&_.resolve?(l=_.resolve(void 0),l.constructor=_,s=p(l.then,l),a=function(){s(r)}):b?a=function(){O.nextTick(r)}:(h=p(h,f),a=function(){h(r)}):(u=!0,c=w.createTextNode(""),new m(r).observe(c,{characterData:!0}),a=function(){c.data=u=!u})),e.exports=E||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},function(e,t,n){var r=n(53),o=n(7);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},function(e,t,n){var r=n(53);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,n){var r=n(32),o=n(33),i=n(164);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e),a=n.resolve;return a(t),n.promise}},function(e,t,n){var r=n(7);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},function(e,t){e.exports="object"==typeof window},function(e,t,n){var r=n(36),o=n(15),i=n(66),a=n(39),u=n(93).f,c=o(u),l=o([].push),s=function(e){return function(t){var n,o=a(t),u=i(o),s=u.length,f=0,p=[];while(s>f)n=u[f++],r&&!c(o,n)||l(p,e?[n,o[n]]:o[n]);return p}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){"use strict";var r=n(38),o=n(67),i=n(43);e.exports=function(e){var t=r(this),n=i(t),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:o(c,n);while(l>u)t[u++]=e;return t}},function(e,t,n){"use strict";n.r(t),n.d(t,"observer",(function(){return BM})),n.d(t,"LogicFlow",(function(){return LM})),n.d(t,"h",(function(){return de["g"]})),n.d(t,"LogicFlowUtil",(function(){return r})),n.d(t,"BaseNode",(function(){return qE})),n.d(t,"RectNode",(function(){return lS})),n.d(t,"CircleNode",(function(){return _S})),n.d(t,"PolygonNode",(function(){return GS})),n.d(t,"DiamondNode",(function(){return nj})),n.d(t,"EllipseNode",(function(){return xj})),n.d(t,"TextNode",(function(){return Bj})),n.d(t,"HtmlNode",(function(){return Qj})),n.d(t,"BaseEdge",(function(){return $P})),n.d(t,"LineEdge",(function(){return Ok})),n.d(t,"PolylineEdge",(function(){return Qk})),n.d(t,"BezierEdge",(function(){return gA})),n.d(t,"Arrow",(function(){return DA})),n.d(t,"BaseEdgeModel",(function(){return md})),n.d(t,"BezierEdgeModel",(function(){return Gm})),n.d(t,"LineEdgeModel",(function(){return zd})),n.d(t,"PolylineEdgeModel",(function(){return sh})),n.d(t,"BaseNodeModel",(function(){return jw})),n.d(t,"CircleNodeModel",(function(){return Kw})),n.d(t,"DiamondNodeModel",(function(){return _O})),n.d(t,"EllipseNodeModel",(function(){return GO})),n.d(t,"PolygonNodeModel",(function(){return v_})),n.d(t,"RectNodeModel",(function(){return R_})),n.d(t,"TextNodeModel",(function(){return ex})),n.d(t,"HtmlNodeModel",(function(){return gx})),n.d(t,"EditConfigModel",(function(){return Nc})),n.d(t,"GraphModel",(function(){return iv})),n.d(t,"SnaplineModel",(function(){return jx})),n.d(t,"Keyboard",(function(){return _M})),n.d(t,"get",(function(){return ym})),n.d(t,"defaults",(function(){return bm}));var r={};n.r(r),n.d(r,"createUuid",(function(){return sp})),n.d(r,"refreshGraphId",(function(){return fp})),n.d(r,"createDrag",(function(){return _y})),n.d(r,"StepDrag",(function(){return Ry}));var o=n(0),i=n(10);if(!i["j"])throw new Error("mobx-react-lite requires React with Hooks support");if(!o["H"])throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var a=n(42),u=Object(a["b"])("observerBatching");function c(e){e()}function l(e){e||(e=c),Object(o["n"])({reactionScheduler:e}),Object(a["a"])()[u]=!0}var s=!1;function f(){return s}function p(e){return Object(o["t"])(e)}function d(e){var t={cleanAt:Date.now()+y,reaction:e};return t}var h,y=1e4,v=1e4,g=new Set;function b(){void 0===h&&(h=setTimeout(O,v))}function m(e){g.add(e),b()}function w(e){g.delete(e)}function O(){h=void 0;var e=Date.now();g.forEach((function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,g.delete(t))})),g.size>0&&b()}var _=!1,x=[];function E(e){return function(){_?x.push(e):e()}}function S(e){_=!0,x=[];try{var t=e();_=!1;var n=x.length>0?x:void 0;return i["d"].useLayoutEffect((function(){n&&n.forEach((function(e){return e()}))}),[n]),t}finally{_=!1}}var j={};function P(e){return"observer"+e}function k(e,t,n){if(void 0===t&&(t="observed"),void 0===n&&(n=j),f())return e();var r=n.useForceUpdate||a["d"],u=r(),c=E(u),l=i["d"].useRef(null);if(!l.current){var s=new o["c"](P(t),(function(){h.mounted?c():(s.dispose(),l.current=null)})),h=d(s);l.current=h,m(l)}var y=l.current.reaction;return i["d"].useDebugValue(y,p),i["d"].useEffect((function(){return w(l),l.current?l.current.mounted=!0:(l.current={reaction:new o["c"](P(t),(function(){c()})),cleanAt:1/0},c()),function(){l.current.reaction.dispose(),l.current=null}}),[]),S((function(){var t,n;if(y.track((function(){try{t=e()}catch(r){n=r}})),n)throw n;return t}))}var A=function(){return A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},A.apply(this,arguments)};function N(e,t){if(f())return e;var n,r=A({forwardRef:!1},t),o=e.displayName||e.name,a=function(t,n){return k((function(){return e(t,n)}),o)};return a.displayName=o,n=r.forwardRef?Object(i["f"])(Object(i["e"])(a)):Object(i["f"])(a),D(e,n),n.displayName=o,n}var M={$$typeof:!0,render:!0,compare:!0,type:!0};function D(e,t){Object.keys(e).forEach((function(n){M[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}function T(e){var t=e.children,n=e.render,r=t||n;return"function"!==typeof r?null:k(r)}function C(e,t,n,r,o){var i="children"===t?"render":"children",a="function"===typeof e[t],u="function"===typeof e[i];return a&&u?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||u?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}T.propTypes={children:C,render:C},T.displayName="Observer";l(i["g"]);var I=0;function R(e){if("function"===typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+I+")";return I++,t}var L={};function B(e){return L[e]||(L[e]=R(e)),L[e]}function z(e,t){if(V(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(t,n[o])||!V(e[n[o]],t[n[o]]))return!1;return!0}function V(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function H(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var F=B("patchMixins"),G=B("patchedDefinition");function U(e,t){var n=e[F]=e[F]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function X(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return void 0!==e&&null!==e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function Y(e,t){var n=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];X.call.apply(X,[this,e,t].concat(r))};return n}function W(e,t,n){var r=U(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o[G]){var i=e[t],a=K(e,t,o?o.enumerable:void 0,r,i);Object.defineProperty(e,t,a)}}function K(e,t,n,r,o){var i,a=Y(o,r);return i={},i[G]=!0,i.get=function(){return a},i.set=function(o){if(this===e)a=Y(o,r);else{var i=K(this,t,n,r,o);Object.defineProperty(this,t,i)}},i.configurable=!0,i.enumerable=n,i}var Z=o["a"]||"$mobx",q=B("isMobXReactObserver"),J=B("isUnmounted"),Q=B("skipRender"),$=B("isForcingUpdate");function ee(e){var t=e.prototype;if(e[q]){var n=te(t);console.warn("The provided component class ("+n+") \n                has already been declared as an observer component.")}else e[q]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e["__proto__"]!==i["b"])if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==re)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=re;oe(t,"props"),oe(t,"state");var r=t.render;return t.render=function(){return ne.call(this,r)},W(t,"componentWillUnmount",(function(){var e;if(!0!==f()&&(null===(e=this.render[Z])||void 0===e||e.dispose(),this[J]=!0,!this.render[Z])){var t=te(this);console.warn("The reactive render of an observer class component ("+t+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),e}function te(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function ne(e){var t=this;if(!0===f())return e.call(this);H(this,Q,!1),H(this,$,!1);var n=te(this),r=e.bind(this),a=!1,u=new o["c"](n+".render()",(function(){if(!a&&(a=!0,!0!==t[J])){var e=!0;try{H(t,$,!0),t[Q]||i["a"].prototype.forceUpdate.call(t),e=!1}finally{H(t,$,!1),e&&u.dispose()}}}));function c(){a=!1;var e=void 0,t=void 0;if(u.track((function(){try{t=Object(o["d"])(!1,r)}catch(n){e=n}})),e)throw e;return t}return u["reactComponent"]=this,c[Z]=u,this.render=c,c.call(this)}function re(e,t){return f()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!z(this.props,e)}function oe(e,t){var n=B("reactProp_"+t+"_valueHolder"),r=B("reactProp_"+t+"_atomHolder");function i(){return this[r]||H(this,r,Object(o["o"])("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return o["f"]&&o["e"]&&(e=Object(o["f"])(!0)),i.call(this).reportObserved(),o["f"]&&o["e"]&&Object(o["e"])(e),this[n]},set:function(e){this[$]||z(this[n],e)?H(this,n,e):(H(this,n,e),H(this,Q,!0),i.call(this).reportChanged(),H(this,Q,!1))}})}var ie="function"===typeof Symbol&&Symbol.for,ae=ie?Symbol.for("react.forward_ref"):"function"===typeof i["e"]&&Object(i["e"])((function(e){return null}))["$$typeof"],ue=ie?Symbol.for("react.memo"):"function"===typeof i["f"]&&Object(i["f"])((function(e){return null}))["$$typeof"];function ce(e){if(!0===e["isMobxInjector"]&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),ue&&e["$$typeof"]===ue)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(ae&&e["$$typeof"]===ae){var t=e["render"];if("function"!==typeof t)throw new Error("render property of ForwardRef was not a function");return Object(i["e"])((function(){var e=arguments;return Object(i["c"])(T,null,(function(){return t.apply(void 0,e)}))}))}return"function"!==typeof e||e.prototype&&e.prototype.render||e["isReactClass"]||Object.prototype.isPrototypeOf.call(i["a"],e)?ee(e):N(e)}function le(){return le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}function se(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var fe=i["d"].createContext({});function pe(e){var t=e.children,n=se(e,["children"]),r=i["d"].useContext(fe),o=i["d"].useRef(le({},r,n)),a=o.current;return i["d"].createElement(fe.Provider,{value:a},t)}pe.displayName="MobXProvider";if(!i["a"])throw new Error("mobx-react requires React to be available");if(!o["C"])throw new Error("mobx-react requires mobx to be available");var de=n(1);n(3),n(60),n(2),n(6),n(4),n(11),n(41),n(24),n(20),n(5),n(22),n(21),n(23),n(8),n(9),n(17),n(25),n(19),n(29),n(187),n(192),n(103),n(152),n(153);function he(e,t){var n=-1,r=null==e?0:e.length,o=Array(r);while(++n<r)o[n]=t(e[n],n,e);return o}var ye=he;function ve(){this.__data__=[],this.size=0}var ge=ve;function be(e,t){return e===t||e!==e&&t!==t}var me=be;function we(e,t){var n=e.length;while(n--)if(me(e[n][0],t))return n;return-1}var Oe=we,_e=Array.prototype,xe=_e.splice;function Ee(e){var t=this.__data__,n=Oe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():xe.call(t,n,1),--this.size,!0}var Se=Ee;function je(e){var t=this.__data__,n=Oe(t,e);return n<0?void 0:t[n][1]}var Pe=je;function ke(e){return Oe(this.__data__,e)>-1}var Ae=ke;function Ne(e,t){var n=this.__data__,r=Oe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Me=Ne;function De(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}De.prototype.clear=ge,De.prototype["delete"]=Se,De.prototype.get=Pe,De.prototype.has=Ae,De.prototype.set=Me;var Te=De;function Ce(){this.__data__=new Te,this.size=0}var Ie=Ce;function Re(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}var Le=Re;function Be(e){return this.__data__.get(e)}var ze=Be;function Ve(e){return this.__data__.has(e)}var He=Ve,Fe=n(31),Ge=Fe["a"].Symbol,Ue=Ge,Xe=Object.prototype,Ye=Xe.hasOwnProperty,We=Xe.toString,Ke=Ue?Ue.toStringTag:void 0;function Ze(e){var t=Ye.call(e,Ke),n=e[Ke];try{e[Ke]=void 0;var r=!0}catch(i){}var o=We.call(e);return r&&(t?e[Ke]=n:delete e[Ke]),o}var qe=Ze,Je=Object.prototype,Qe=Je.toString;function $e(e){return Qe.call(e)}var et=$e,tt="[object Null]",nt="[object Undefined]",rt=Ue?Ue.toStringTag:void 0;function ot(e){return null==e?void 0===e?nt:tt:rt&&rt in Object(e)?qe(e):et(e)}var it=ot;function at(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var ut=at,ct="[object AsyncFunction]",lt="[object Function]",st="[object GeneratorFunction]",ft="[object Proxy]";function pt(e){if(!ut(e))return!1;var t=it(e);return t==lt||t==st||t==ct||t==ft}var dt=pt,ht=Fe["a"]["__core-js_shared__"],yt=ht,vt=function(){var e=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gt(e){return!!vt&&vt in e}var bt=gt,mt=Function.prototype,wt=mt.toString;function Ot(e){if(null!=e){try{return wt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var _t=Ot,xt=/[\\^$.*+?()[\]{}|]/g,Et=/^\[object .+?Constructor\]$/,St=Function.prototype,jt=Object.prototype,Pt=St.toString,kt=jt.hasOwnProperty,At=RegExp("^"+Pt.call(kt).replace(xt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Nt(e){if(!ut(e)||bt(e))return!1;var t=dt(e)?At:Et;return t.test(_t(e))}var Mt=Nt;function Dt(e,t){return null==e?void 0:e[t]}var Tt=Dt;function Ct(e,t){var n=Tt(e,t);return Mt(n)?n:void 0}var It=Ct,Rt=It(Fe["a"],"Map"),Lt=Rt,Bt=It(Object,"create"),zt=Bt;function Vt(){this.__data__=zt?zt(null):{},this.size=0}var Ht=Vt;function Ft(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Gt=Ft,Ut="__lodash_hash_undefined__",Xt=Object.prototype,Yt=Xt.hasOwnProperty;function Wt(e){var t=this.__data__;if(zt){var n=t[e];return n===Ut?void 0:n}return Yt.call(t,e)?t[e]:void 0}var Kt=Wt,Zt=Object.prototype,qt=Zt.hasOwnProperty;function Jt(e){var t=this.__data__;return zt?void 0!==t[e]:qt.call(t,e)}var Qt=Jt,$t="__lodash_hash_undefined__";function en(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=zt&&void 0===t?$t:t,this}var tn=en;function nn(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}nn.prototype.clear=Ht,nn.prototype["delete"]=Gt,nn.prototype.get=Kt,nn.prototype.has=Qt,nn.prototype.set=tn;var rn=nn;function on(){this.size=0,this.__data__={hash:new rn,map:new(Lt||Te),string:new rn}}var an=on;function un(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var cn=un;function ln(e,t){var n=e.__data__;return cn(t)?n["string"==typeof t?"string":"hash"]:n.map}var sn=ln;function fn(e){var t=sn(this,e)["delete"](e);return this.size-=t?1:0,t}var pn=fn;function dn(e){return sn(this,e).get(e)}var hn=dn;function yn(e){return sn(this,e).has(e)}var vn=yn;function gn(e,t){var n=sn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var bn=gn;function mn(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}mn.prototype.clear=an,mn.prototype["delete"]=pn,mn.prototype.get=hn,mn.prototype.has=vn,mn.prototype.set=bn;var wn=mn,On=200;function _n(e,t){var n=this.__data__;if(n instanceof Te){var r=n.__data__;if(!Lt||r.length<On-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new wn(r)}return n.set(e,t),this.size=n.size,this}var xn=_n;function En(e){var t=this.__data__=new Te(e);this.size=t.size}En.prototype.clear=Ie,En.prototype["delete"]=Le,En.prototype.get=ze,En.prototype.has=He,En.prototype.set=xn;var Sn=En,jn="__lodash_hash_undefined__";function Pn(e){return this.__data__.set(e,jn),this}var kn=Pn;function An(e){return this.__data__.has(e)}var Nn=An;function Mn(e){var t=-1,n=null==e?0:e.length;this.__data__=new wn;while(++t<n)this.add(e[t])}Mn.prototype.add=Mn.prototype.push=kn,Mn.prototype.has=Nn;var Dn=Mn;function Tn(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var Cn=Tn;function In(e,t){return e.has(t)}var Rn=In,Ln=1,Bn=2;function zn(e,t,n,r,o,i){var a=n&Ln,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=i.get(e),s=i.get(t);if(l&&s)return l==t&&s==e;var f=-1,p=!0,d=n&Bn?new Dn:void 0;i.set(e,t),i.set(t,e);while(++f<u){var h=e[f],y=t[f];if(r)var v=a?r(y,h,f,t,e,i):r(h,y,f,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!Cn(t,(function(e,t){if(!Rn(d,t)&&(h===e||o(h,e,n,r,i)))return d.push(t)}))){p=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){p=!1;break}}return i["delete"](e),i["delete"](t),p}var Vn=zn,Hn=Fe["a"].Uint8Array,Fn=Hn;function Gn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var Un=Gn;function Xn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Yn=Xn,Wn=1,Kn=2,Zn="[object Boolean]",qn="[object Date]",Jn="[object Error]",Qn="[object Map]",$n="[object Number]",er="[object RegExp]",tr="[object Set]",nr="[object String]",rr="[object Symbol]",or="[object ArrayBuffer]",ir="[object DataView]",ar=Ue?Ue.prototype:void 0,ur=ar?ar.valueOf:void 0;function cr(e,t,n,r,o,i,a){switch(n){case ir:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case or:return!(e.byteLength!=t.byteLength||!i(new Fn(e),new Fn(t)));case Zn:case qn:case $n:return me(+e,+t);case Jn:return e.name==t.name&&e.message==t.message;case er:case nr:return e==t+"";case Qn:var u=Un;case tr:var c=r&Wn;if(u||(u=Yn),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;r|=Kn,a.set(e,t);var s=Vn(u(e),u(t),r,o,i,a);return a["delete"](e),s;case rr:if(ur)return ur.call(e)==ur.call(t)}return!1}var lr=cr;function sr(e,t){var n=-1,r=t.length,o=e.length;while(++n<r)e[o+n]=t[n];return e}var fr=sr,pr=Array.isArray,dr=pr;function hr(e,t,n){var r=t(e);return dr(e)?r:fr(r,n(e))}var yr=hr;function vr(e,t){var n=-1,r=null==e?0:e.length,o=0,i=[];while(++n<r){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}var gr=vr;function br(){return[]}var mr=br,wr=Object.prototype,Or=wr.propertyIsEnumerable,_r=Object.getOwnPropertySymbols,xr=_r?function(e){return null==e?[]:(e=Object(e),gr(_r(e),(function(t){return Or.call(e,t)})))}:mr,Er=xr;function Sr(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}var jr=Sr;function Pr(e){return null!=e&&"object"==typeof e}var kr=Pr,Ar="[object Arguments]";function Nr(e){return kr(e)&&it(e)==Ar}var Mr=Nr,Dr=Object.prototype,Tr=Dr.hasOwnProperty,Cr=Dr.propertyIsEnumerable,Ir=Mr(function(){return arguments}())?Mr:function(e){return kr(e)&&Tr.call(e,"callee")&&!Cr.call(e,"callee")},Rr=Ir,Lr=n(48),Br=9007199254740991,zr=/^(?:0|[1-9]\d*)$/;function Vr(e,t){var n=typeof e;return t=null==t?Br:t,!!t&&("number"==n||"symbol"!=n&&zr.test(e))&&e>-1&&e%1==0&&e<t}var Hr=Vr,Fr=9007199254740991;function Gr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Fr}var Ur=Gr,Xr="[object Arguments]",Yr="[object Array]",Wr="[object Boolean]",Kr="[object Date]",Zr="[object Error]",qr="[object Function]",Jr="[object Map]",Qr="[object Number]",$r="[object Object]",eo="[object RegExp]",to="[object Set]",no="[object String]",ro="[object WeakMap]",oo="[object ArrayBuffer]",io="[object DataView]",ao="[object Float32Array]",uo="[object Float64Array]",co="[object Int8Array]",lo="[object Int16Array]",so="[object Int32Array]",fo="[object Uint8Array]",po="[object Uint8ClampedArray]",ho="[object Uint16Array]",yo="[object Uint32Array]",vo={};function go(e){return kr(e)&&Ur(e.length)&&!!vo[it(e)]}vo[ao]=vo[uo]=vo[co]=vo[lo]=vo[so]=vo[fo]=vo[po]=vo[ho]=vo[yo]=!0,vo[Xr]=vo[Yr]=vo[oo]=vo[Wr]=vo[io]=vo[Kr]=vo[Zr]=vo[qr]=vo[Jr]=vo[Qr]=vo[$r]=vo[eo]=vo[to]=vo[no]=vo[ro]=!1;var bo=go;function mo(e){return function(t){return e(t)}}var wo=mo,Oo=n(49),_o=Oo["a"]&&Oo["a"].isTypedArray,xo=_o?wo(_o):bo,Eo=xo,So=Object.prototype,jo=So.hasOwnProperty;function Po(e,t){var n=dr(e),r=!n&&Rr(e),o=!n&&!r&&Object(Lr["a"])(e),i=!n&&!r&&!o&&Eo(e),a=n||r||o||i,u=a?jr(e.length,String):[],c=u.length;for(var l in e)!t&&!jo.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Hr(l,c))||u.push(l);return u}var ko=Po,Ao=Object.prototype;function No(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Ao;return e===n}var Mo=No;function Do(e,t){return function(n){return e(t(n))}}var To=Do,Co=To(Object.keys,Object),Io=Co,Ro=Object.prototype,Lo=Ro.hasOwnProperty;function Bo(e){if(!Mo(e))return Io(e);var t=[];for(var n in Object(e))Lo.call(e,n)&&"constructor"!=n&&t.push(n);return t}var zo=Bo;function Vo(e){return null!=e&&Ur(e.length)&&!dt(e)}var Ho=Vo;function Fo(e){return Ho(e)?ko(e):zo(e)}var Go=Fo;function Uo(e){return yr(e,Go,Er)}var Xo=Uo,Yo=1,Wo=Object.prototype,Ko=Wo.hasOwnProperty;function Zo(e,t,n,r,o,i){var a=n&Yo,u=Xo(e),c=u.length,l=Xo(t),s=l.length;if(c!=s&&!a)return!1;var f=c;while(f--){var p=u[f];if(!(a?p in t:Ko.call(t,p)))return!1}var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var y=!0;i.set(e,t),i.set(t,e);var v=a;while(++f<c){p=u[f];var g=e[p],b=t[p];if(r)var m=a?r(b,g,p,t,e,i):r(g,b,p,e,t,i);if(!(void 0===m?g===b||o(g,b,n,r,i):m)){y=!1;break}v||(v="constructor"==p)}if(y&&!v){var w=e.constructor,O=t.constructor;w==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof O&&O instanceof O||(y=!1)}return i["delete"](e),i["delete"](t),y}var qo=Zo,Jo=It(Fe["a"],"DataView"),Qo=Jo,$o=It(Fe["a"],"Promise"),ei=$o,ti=It(Fe["a"],"Set"),ni=ti,ri=It(Fe["a"],"WeakMap"),oi=ri,ii="[object Map]",ai="[object Object]",ui="[object Promise]",ci="[object Set]",li="[object WeakMap]",si="[object DataView]",fi=_t(Qo),pi=_t(Lt),di=_t(ei),hi=_t(ni),yi=_t(oi),vi=it;(Qo&&vi(new Qo(new ArrayBuffer(1)))!=si||Lt&&vi(new Lt)!=ii||ei&&vi(ei.resolve())!=ui||ni&&vi(new ni)!=ci||oi&&vi(new oi)!=li)&&(vi=function(e){var t=it(e),n=t==ai?e.constructor:void 0,r=n?_t(n):"";if(r)switch(r){case fi:return si;case pi:return ii;case di:return ui;case hi:return ci;case yi:return li}return t});var gi=vi,bi=1,mi="[object Arguments]",wi="[object Array]",Oi="[object Object]",_i=Object.prototype,xi=_i.hasOwnProperty;function Ei(e,t,n,r,o,i){var a=dr(e),u=dr(t),c=a?wi:gi(e),l=u?wi:gi(t);c=c==mi?Oi:c,l=l==mi?Oi:l;var s=c==Oi,f=l==Oi,p=c==l;if(p&&Object(Lr["a"])(e)){if(!Object(Lr["a"])(t))return!1;a=!0,s=!1}if(p&&!s)return i||(i=new Sn),a||Eo(e)?Vn(e,t,n,r,o,i):lr(e,t,c,n,r,o,i);if(!(n&bi)){var d=s&&xi.call(e,"__wrapped__"),h=f&&xi.call(t,"__wrapped__");if(d||h){var y=d?e.value():e,v=h?t.value():t;return i||(i=new Sn),o(y,v,n,r,i)}}return!!p&&(i||(i=new Sn),qo(e,t,n,r,o,i))}var Si=Ei;function ji(e,t,n,r,o){return e===t||(null==e||null==t||!kr(e)&&!kr(t)?e!==e&&t!==t:Si(e,t,n,r,ji,o))}var Pi=ji,ki=1,Ai=2;function Ni(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;e=Object(e);while(o--){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}while(++o<i){u=n[o];var c=u[0],l=e[c],s=u[1];if(a&&u[2]){if(void 0===l&&!(c in e))return!1}else{var f=new Sn;if(r)var p=r(l,s,c,e,t,f);if(!(void 0===p?Pi(s,l,ki|Ai,r,f):p))return!1}}return!0}var Mi=Ni;function Di(e){return e===e&&!ut(e)}var Ti=Di;function Ci(e){var t=Go(e),n=t.length;while(n--){var r=t[n],o=e[r];t[n]=[r,o,Ti(o)]}return t}var Ii=Ci;function Ri(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var Li=Ri;function Bi(e){var t=Ii(e);return 1==t.length&&t[0][2]?Li(t[0][0],t[0][1]):function(n){return n===e||Mi(n,e,t)}}var zi=Bi,Vi="[object Symbol]";function Hi(e){return"symbol"==typeof e||kr(e)&&it(e)==Vi}var Fi=Hi,Gi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ui=/^\w*$/;function Xi(e,t){if(dr(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Fi(e))||(Ui.test(e)||!Gi.test(e)||null!=t&&e in Object(t))}var Yi=Xi,Wi="Expected a function";function Ki(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Wi);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Ki.Cache||wn),n}Ki.Cache=wn;var Zi=Ki,qi=500;function Ji(e){var t=Zi(e,(function(e){return n.size===qi&&n.clear(),e})),n=t.cache;return t}var Qi=Ji,$i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ea=/\\(\\)?/g,ta=Qi((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($i,(function(e,n,r,o){t.push(r?o.replace(ea,"$1"):n||e)})),t})),na=ta,ra=1/0,oa=Ue?Ue.prototype:void 0,ia=oa?oa.toString:void 0;function aa(e){if("string"==typeof e)return e;if(dr(e))return ye(e,aa)+"";if(Fi(e))return ia?ia.call(e):"";var t=e+"";return"0"==t&&1/e==-ra?"-0":t}var ua=aa;function ca(e){return null==e?"":ua(e)}var la=ca;function sa(e,t){return dr(e)?e:Yi(e,t)?[e]:na(la(e))}var fa=sa,pa=1/0;function da(e){if("string"==typeof e||Fi(e))return e;var t=e+"";return"0"==t&&1/e==-pa?"-0":t}var ha=da;function ya(e,t){t=fa(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[ha(t[n++])];return n&&n==r?e:void 0}var va=ya;function ga(e,t,n){var r=null==e?void 0:va(e,t);return void 0===r?n:r}var ba=ga;function ma(e,t){return null!=e&&t in Object(e)}var wa=ma;function Oa(e,t,n){t=fa(t,e);var r=-1,o=t.length,i=!1;while(++r<o){var a=ha(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:(o=null==e?0:e.length,!!o&&Ur(o)&&Hr(a,o)&&(dr(e)||Rr(e)))}var _a=Oa;function xa(e,t){return null!=e&&_a(e,t,wa)}var Ea=xa,Sa=1,ja=2;function Pa(e,t){return Yi(e)&&Ti(t)?Li(ha(e),t):function(n){var r=ba(n,e);return void 0===r&&r===t?Ea(n,e):Pi(t,r,Sa|ja)}}var ka=Pa;function Aa(e){return e}var Na=Aa;function Ma(e){return function(t){return null==t?void 0:t[e]}}var Da=Ma;function Ta(e){return function(t){return va(t,e)}}var Ca=Ta;function Ia(e){return Yi(e)?Da(ha(e)):Ca(e)}var Ra=Ia;function La(e){return"function"==typeof e?e:null==e?Na:"object"==typeof e?dr(e)?ka(e[0],e[1]):zi(e):Ra(e)}var Ba=La;function za(e){return function(t,n,r){var o=-1,i=Object(t),a=r(t),u=a.length;while(u--){var c=a[e?u:++o];if(!1===n(i[c],c,i))break}return t}}var Va=za,Ha=Va(),Fa=Ha;function Ga(e,t){return e&&Fa(e,t,Go)}var Ua=Ga;function Xa(e,t){return function(n,r){if(null==n)return n;if(!Ho(n))return e(n,r);var o=n.length,i=t?o:-1,a=Object(n);while(t?i--:++i<o)if(!1===r(a[i],i,a))break;return n}}var Ya=Xa,Wa=Ya(Ua),Ka=Wa;function Za(e,t){var n=-1,r=Ho(e)?Array(e.length):[];return Ka(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}var qa=Za;function Ja(e,t){var n=dr(e)?ye:qa;return n(e,Ba(t,3))}var Qa=Ja,$a=function(){try{var e=It(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),eu=$a;function tu(e,t,n){"__proto__"==t&&eu?eu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var nu=tu,ru=Object.prototype,ou=ru.hasOwnProperty;function iu(e,t,n){var r=e[t];ou.call(e,t)&&me(r,n)&&(void 0!==n||t in e)||nu(e,t,n)}var au=iu;function uu(e,t,n,r){var o=!n;n||(n={});var i=-1,a=t.length;while(++i<a){var u=t[i],c=r?r(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),o?nu(n,u,c):au(n,u,c)}return n}var cu=uu;function lu(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var su=lu,fu=Math.max;function pu(e,t,n){return t=fu(void 0===t?e.length-1:t,0),function(){var r=arguments,o=-1,i=fu(r.length-t,0),a=Array(i);while(++o<i)a[o]=r[t+o];o=-1;var u=Array(t+1);while(++o<t)u[o]=r[o];return u[t]=n(a),su(e,this,u)}}var du=pu;function hu(e){return function(){return e}}var yu=hu,vu=eu?function(e,t){return eu(e,"toString",{configurable:!0,enumerable:!1,value:yu(t),writable:!0})}:Na,gu=vu,bu=800,mu=16,wu=Date.now;function Ou(e){var t=0,n=0;return function(){var r=wu(),o=mu-(r-n);if(n=r,o>0){if(++t>=bu)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _u=Ou,xu=_u(gu),Eu=xu;function Su(e,t){return Eu(du(e,t,Na),e+"")}var ju=Su;function Pu(e,t,n){if(!ut(n))return!1;var r=typeof t;return!!("number"==r?Ho(n)&&Hr(t,n.length):"string"==r&&t in n)&&me(n[t],e)}var ku=Pu;function Au(e){return ju((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&ku(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);while(++r<o){var u=n[r];u&&e(t,u,r,i)}return t}))}var Nu=Au,Mu=Object.prototype,Du=Mu.hasOwnProperty,Tu=Nu((function(e,t){if(Mo(t)||Ho(t))cu(t,Go(t),e);else for(var n in t)Du.call(t,n)&&au(e,n,t[n])})),Cu=Tu;function Iu(e,t,n,r){if(!ut(e))return e;t=fa(t,e);var o=-1,i=t.length,a=i-1,u=e;while(null!=u&&++o<i){var c=ha(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var s=u[c];l=r?r(s,c,u):void 0,void 0===l&&(l=ut(s)?s:Hr(t[o+1])?[]:{})}au(u,c,l),u=u[c]}return e}var Ru=Iu;function Lu(e,t,n){var r=-1,o=t.length,i={};while(++r<o){var a=t[r],u=va(e,a);n(u,a)&&Ru(i,fa(a,e),u)}return i}var Bu=Lu;function zu(e,t){return Bu(e,t,(function(t,n){return Ea(e,n)}))}var Vu=zu,Hu=Ue?Ue.isConcatSpreadable:void 0;function Fu(e){return dr(e)||Rr(e)||!!(Hu&&e&&e[Hu])}var Gu=Fu;function Uu(e,t,n,r,o){var i=-1,a=e.length;n||(n=Gu),o||(o=[]);while(++i<a){var u=e[i];t>0&&n(u)?t>1?Uu(u,t-1,n,r,o):fr(o,u):r||(o[o.length]=u)}return o}var Xu=Uu;function Yu(e){var t=null==e?0:e.length;return t?Xu(e,1):[]}var Wu=Yu;function Ku(e){return Eu(du(e,void 0,Wu),e+"")}var Zu,qu,Ju,Qu,$u,ec,tc,nc,rc,oc,ic,ac,uc,cc,lc,sc,fc,pc,dc=Ku,hc=dc((function(e,t){return null==e?{}:Vu(e,t)})),yc=hc;function vc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function gc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mc(e,t,n){return t&&bc(e.prototype,t),n&&bc(e,n),e}function wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oc(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var _c,xc,Ec,Sc,jc,Pc,kc={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Ac=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Nc=(Zu=function(){function e(t){gc(this,e),vc(this,"isSilentMode",qu,this),vc(this,"stopZoomGraph",Ju,this),vc(this,"stopScrollGraph",Qu,this),vc(this,"stopMoveGraph",$u,this),vc(this,"adjustEdge",ec,this),vc(this,"adjustEdgeMiddle",tc,this),vc(this,"adjustEdgeStartAndEnd",nc,this),vc(this,"adjustNodePosition",rc,this),vc(this,"hideAnchors",oc,this),vc(this,"hoverOutline",ic,this),vc(this,"nodeSelectedOutline",ac,this),vc(this,"edgeSelectedOutline",uc,this),vc(this,"nodeTextEdit",cc,this),vc(this,"edgeTextEdit",lc,this),vc(this,"nodeTextDraggable",sc,this),vc(this,"edgeTextDraggable",fc,this),vc(this,"autoExpand",pc,this),wc(this,"multipleSelectKey",""),wc(this,"defaultConfig",{}),Cu(this,this.getConfigDetail(t))}return mc(e,[{key:"updateEditConfig",value:function(e){var t=this.getConfigDetail(e);Cu(this,t)}},{key:"getConfigDetail",value:function(e){var t=e.isSilentMode,n=e.textEdit,r={};if(!1===t&&Cu(r,this.defaultConfig),!0===t){var o=yc(kc,Ac);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Cu(r,o)}!1===n&&Cu(r,{nodeTextEdit:!1,edgeTextEdit:!1});var i=yc(e,Ac);return Cu(r,i)}},{key:"getConfig",value:function(){return yc(this,Ac)}}]),e}(),qu=Oc(Zu.prototype,"isSilentMode",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ju=Oc(Zu.prototype,"stopZoomGraph",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qu=Oc(Zu.prototype,"stopScrollGraph",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$u=Oc(Zu.prototype,"stopMoveGraph",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ec=Oc(Zu.prototype,"adjustEdge",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tc=Oc(Zu.prototype,"adjustEdgeMiddle",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nc=Oc(Zu.prototype,"adjustEdgeStartAndEnd",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rc=Oc(Zu.prototype,"adjustNodePosition",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),oc=Oc(Zu.prototype,"hideAnchors",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ic=Oc(Zu.prototype,"hoverOutline",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ac=Oc(Zu.prototype,"nodeSelectedOutline",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uc=Oc(Zu.prototype,"edgeSelectedOutline",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),cc=Oc(Zu.prototype,"nodeTextEdit",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lc=Oc(Zu.prototype,"edgeTextEdit",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sc=Oc(Zu.prototype,"nodeTextDraggable",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fc=Oc(Zu.prototype,"edgeTextDraggable",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pc=Oc(Zu.prototype,"autoExpand",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Oc(Zu.prototype,"updateEditConfig",[o["k"]],Object.getOwnPropertyDescriptor(Zu.prototype,"updateEditConfig"),Zu.prototype),Zu);n(77);(function(e){e[e["DEFAULT"]=1]="DEFAULT",e[e["TEXT_EDIT"]=2]="TEXT_EDIT",e[e["SHOW_MENU"]=3]="SHOW_MENU",e[e["ALLOW_CONNECT"]=4]="ALLOW_CONNECT",e[e["NOT_ALLOW_CONNECT"]=5]="NOT_ALLOW_CONNECT"})(_c||(_c={})),function(e){e["KEY"]="logic-flow",e["NODE_NAME"]="lf-node",e["EDGE_NAME"]="lf-edge"}(xc||(xc={})),function(e){e["NODE"]="node",e["CIRCLE_NODE"]="circle-node",e["POLYGON_NODE"]="polygon-node",e["RECT_NODE"]="rect-node",e["TEXT_NODE"]="text-node",e["ELLIPSE_NODE"]="ellipse-node",e["DIAMOND_NODE"]="diamond-node",e["HTML_NODE"]="html-node",e["EDGE"]="edge",e["LINE_EDGE"]="line-edge",e["POLYLINE_EDGE"]="polyline-edge",e["BEZIER_EDGE"]="bezier-edge",e["GRAPH"]="graph"}(Ec||(Ec={})),function(e){e["NODE"]="node",e["EDGE"]="edge",e["GRAPH"]="graph"}(Sc||(Sc={})),function(e){e["ELEMENT_CLICK"]="element:click",e["NODE_CLICK"]="node:click",e["NODE_DBCLICK"]="node:dbclick",e["NODE_DELETE"]="node:delete",e["NODE_ADD"]="node:add",e["NODE_DND_ADD"]="node:dnd-add",e["NODE_DND_DRAG"]="node:dnd-drag",e["NODE_MOUSEDOWN"]="node:mousedown",e["NODE_DRAGSTART"]="node:dragstart",e["NODE_DRAG"]="node:drag",e["NODE_DROP"]="node:drop",e["NODE_MOUSEUP"]="node:mouseup",e["NODE_MOUSEMOVE"]="node:mousemove",e["NODE_MOUSEENTER"]="node:mouseenter",e["NODE_MOUSELEAVE"]="node:mouseleave",e["NODE_CONTEXTMENU"]="node:contextmenu",e["EDGE_DELETE"]="edge:delete",e["EDGE_ADD"]="edge:add",e["EDGE_CLICK"]="edge:click",e["EDGE_DBCLICK"]="edge:dbclick",e["EDGE_MOUSEENTER"]="edge:mouseenter",e["EDGE_MOUSELEAVE"]="edge:mouseleave",e["EDGE_CONTEXTMENU"]="edge:contextmenu",e["EDGE_ADJUST"]="edge:adjust",e["EDGE_EXCHANGE_NODE"]="edge:exchange-node",e["ANCHOR_DRAGSTART"]="anchor:dragstart",e["ANCHOR_DRAG"]="anchor:drag",e["ANCHOR_DROP"]="anchor:drop",e["ANCHOR_DRAGEND"]="anchor:dragend",e["BLANK_MOUSEDOWN"]="blank:mousedown",e["BLANK_DRAGSTART"]="blank:dragstart",e["BLANK_DRAG"]="blank:drag",e["BLANK_DROP"]="blank:drop",e["BLANK_MOUSEMOVE"]="blank:mousemove",e["BLANK_MOUSEUP"]="blank:mouseup",e["BLANK_CLICK"]="blank:click",e["BLANK_CONTEXTMENU"]="blank:contextmenu",e["SELECTION_MOUSEDOWN"]="selection:mousedown",e["SELECTION_DRAGSTART"]="selection:dragstart",e["SELECTION_DRAG"]="selection:drag",e["SELECTION_DROP"]="selection:drop",e["SELECTION_MOUSEMOVE"]="selection:mousemove",e["SELECTION_MOUSEUP"]="selection:mouseup",e["SELECTION_CONTEXTMENU"]="selection:contextmenu",e["CONNECTION_NOT_ALLOWED"]="connection:not-allowed",e["HISTORY_CHANGE"]="history:change",e["TEXT_UPDATE"]="text:update",e["GRAPH_TRANSFORM"]="graph:transform",e["GRAPH_RENDERED"]="graph:rendered"}(jc||(jc={})),function(e){e["HORIZONTAL"]="horizontal",e["VERTICAL"]="vertical"}(Pc||(Pc={}));var Mc,Dc,Tc,Cc,Ic,Rc,Lc,Bc,zc,Vc=9999;function Hc(e,t){return Yc(e)||Xc(e,t)||Gc(e,t)||Fc()}function Fc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gc(e,t){if(e){if("string"===typeof e)return Uc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uc(e,t):void 0}}function Uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xc(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Yc(e){if(Array.isArray(e))return e}function Wc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Kc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qc(e,t,n){return t&&Zc(e.prototype,t),n&&Zc(e,n),e}function Jc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qc(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}(function(e){e[e["DEFAULT"]=0]="DEFAULT",e[e["INCREASE"]=1]="INCREASE"})(Mc||(Mc={}));var $c=(Dc=function(){function e(t){Kc(this,e),Jc(this,"MINI_SCALE_SIZE",.2),Jc(this,"MAX_SCALE_SIZE",16),Wc(this,"SCALE_X",Tc,this),Wc(this,"SKEW_Y",Cc,this),Wc(this,"SKEW_X",Ic,this),Wc(this,"SCALE_Y",Rc,this),Wc(this,"TRANSLATE_X",Lc,this),Wc(this,"TRANSLATE_Y",Bc,this),Wc(this,"ZOOM_SIZE",zc,this),Jc(this,"eventCenter",void 0),this.eventCenter=t}return qc(e,[{key:"setZoomMiniSize",value:function(e){this.MINI_SCALE_SIZE=e}},{key:"setZoomMaxSize",value:function(e){this.MAX_SCALE_SIZE=e}},{key:"HtmlPointToCanvasPoint",value:function(e){var t=Hc(e,2),n=t[0],r=t[1];return[(n-this.TRANSLATE_X)/this.SCALE_X,(r-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(e){var t=Hc(e,2),n=t[0],r=t[1];return[n*this.SCALE_X+this.TRANSLATE_X,r*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(e,t,n){var r=Hc(e,2),o=r[0],i=r[1];return[o+t/this.SCALE_X,i+n/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(e,t){return[e/this.SCALE_X,t/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var e=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(e,")")}}},{key:"zoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this.SCALE_X,r=this.SCALE_Y;return!0===e?(n+=this.ZOOM_SIZE,r+=this.ZOOM_SIZE):!1===e?(n-=this.ZOOM_SIZE,r-=this.ZOOM_SIZE):"number"===typeof e&&(n=e,r=e),n<this.MINI_SCALE_SIZE||n>this.MAX_SCALE_SIZE||(t&&(this.TRANSLATE_X-=(n-this.SCALE_X)*t[0],this.TRANSLATE_Y-=(r-this.SCALE_Y)*t[1]),this.SCALE_X=n,this.SCALE_Y=r,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(e){this.eventCenter.emit(jc.GRAPH_TRANSFORM,{type:e,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(e,t){this.TRANSLATE_X+=e,this.TRANSLATE_Y+=t,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(e,t,n,r){var o=this.CanvasPointToHtmlPoint([e,t]),i=Hc(o,2),a=i[0],u=i[1],c=n/2-a,l=r/2-u;this.TRANSLATE_X+=c,this.TRANSLATE_Y+=l,this.emitGraphTransform("focusOn")}}]),e}(),Tc=Qc(Dc.prototype,"SCALE_X",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Cc=Qc(Dc.prototype,"SKEW_Y",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ic=Qc(Dc.prototype,"SKEW_X",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Rc=Qc(Dc.prototype,"SCALE_Y",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Lc=Qc(Dc.prototype,"TRANSLATE_X",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bc=Qc(Dc.prototype,"TRANSLATE_Y",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zc=Qc(Dc.prototype,"ZOOM_SIZE",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),Qc(Dc.prototype,"zoom",[o["k"]],Object.getOwnPropertyDescriptor(Dc.prototype,"zoom"),Dc.prototype),Qc(Dc.prototype,"resetZoom",[o["k"]],Object.getOwnPropertyDescriptor(Dc.prototype,"resetZoom"),Dc.prototype),Qc(Dc.prototype,"translate",[o["k"]],Object.getOwnPropertyDescriptor(Dc.prototype,"translate"),Dc.prototype),Qc(Dc.prototype,"focusOn",[o["k"]],Object.getOwnPropertyDescriptor(Dc.prototype,"focusOn"),Dc.prototype),Dc);function el(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}var tl=el;function nl(e,t){return e&&cu(t,Go(t),e)}var rl=nl;function ol(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var il=ol,al=Object.prototype,ul=al.hasOwnProperty;function cl(e){if(!ut(e))return il(e);var t=Mo(e),n=[];for(var r in e)("constructor"!=r||!t&&ul.call(e,r))&&n.push(r);return n}var ll=cl;function sl(e){return Ho(e)?ko(e,!0):ll(e)}var fl=sl;function pl(e,t){return e&&cu(t,fl(t),e)}var dl=pl,hl=n(106);function yl(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}var vl=yl;function gl(e,t){return cu(e,Er(e),t)}var bl=gl,ml=To(Object.getPrototypeOf,Object),wl=ml,Ol=Object.getOwnPropertySymbols,_l=Ol?function(e){var t=[];while(e)fr(t,Er(e)),e=wl(e);return t}:mr,xl=_l;function El(e,t){return cu(e,xl(e),t)}var Sl=El;function jl(e){return yr(e,fl,xl)}var Pl=jl,kl=Object.prototype,Al=kl.hasOwnProperty;function Nl(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Al.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Ml=Nl;function Dl(e){var t=new e.constructor(e.byteLength);return new Fn(t).set(new Fn(e)),t}var Tl=Dl;function Cl(e,t){var n=t?Tl(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Il=Cl,Rl=/\w*$/;function Ll(e){var t=new e.constructor(e.source,Rl.exec(e));return t.lastIndex=e.lastIndex,t}var Bl=Ll,zl=Ue?Ue.prototype:void 0,Vl=zl?zl.valueOf:void 0;function Hl(e){return Vl?Object(Vl.call(e)):{}}var Fl=Hl;function Gl(e,t){var n=t?Tl(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Ul=Gl,Xl="[object Boolean]",Yl="[object Date]",Wl="[object Map]",Kl="[object Number]",Zl="[object RegExp]",ql="[object Set]",Jl="[object String]",Ql="[object Symbol]",$l="[object ArrayBuffer]",es="[object DataView]",ts="[object Float32Array]",ns="[object Float64Array]",rs="[object Int8Array]",os="[object Int16Array]",is="[object Int32Array]",as="[object Uint8Array]",us="[object Uint8ClampedArray]",cs="[object Uint16Array]",ls="[object Uint32Array]";function ss(e,t,n){var r=e.constructor;switch(t){case $l:return Tl(e);case Xl:case Yl:return new r(+e);case es:return Il(e,n);case ts:case ns:case rs:case os:case is:case as:case us:case cs:case ls:return Ul(e,n);case Wl:return new r;case Kl:case Jl:return new r(e);case Zl:return Bl(e);case ql:return new r;case Ql:return Fl(e)}}var fs=ss,ps=Object.create,ds=function(){function e(){}return function(t){if(!ut(t))return{};if(ps)return ps(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),hs=ds;function ys(e){return"function"!=typeof e.constructor||Mo(e)?{}:hs(wl(e))}var vs=ys,gs="[object Map]";function bs(e){return kr(e)&&gi(e)==gs}var ms=bs,ws=Oo["a"]&&Oo["a"].isMap,Os=ws?wo(ws):ms,_s=Os,xs="[object Set]";function Es(e){return kr(e)&&gi(e)==xs}var Ss=Es,js=Oo["a"]&&Oo["a"].isSet,Ps=js?wo(js):Ss,ks=Ps,As=1,Ns=2,Ms=4,Ds="[object Arguments]",Ts="[object Array]",Cs="[object Boolean]",Is="[object Date]",Rs="[object Error]",Ls="[object Function]",Bs="[object GeneratorFunction]",zs="[object Map]",Vs="[object Number]",Hs="[object Object]",Fs="[object RegExp]",Gs="[object Set]",Us="[object String]",Xs="[object Symbol]",Ys="[object WeakMap]",Ws="[object ArrayBuffer]",Ks="[object DataView]",Zs="[object Float32Array]",qs="[object Float64Array]",Js="[object Int8Array]",Qs="[object Int16Array]",$s="[object Int32Array]",ef="[object Uint8Array]",tf="[object Uint8ClampedArray]",nf="[object Uint16Array]",rf="[object Uint32Array]",of={};function af(e,t,n,r,o,i){var a,u=t&As,c=t&Ns,l=t&Ms;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!ut(e))return e;var s=dr(e);if(s){if(a=Ml(e),!u)return vl(e,a)}else{var f=gi(e),p=f==Ls||f==Bs;if(Object(Lr["a"])(e))return Object(hl["a"])(e,u);if(f==Hs||f==Ds||p&&!o){if(a=c||p?{}:vs(e),!u)return c?Sl(e,dl(a,e)):bl(e,rl(a,e))}else{if(!of[f])return o?e:{};a=fs(e,f,u)}}i||(i=new Sn);var d=i.get(e);if(d)return d;i.set(e,a),ks(e)?e.forEach((function(r){a.add(af(r,t,n,r,e,i))})):_s(e)&&e.forEach((function(r,o){a.set(o,af(r,t,n,o,e,i))}));var h=l?c?Pl:Xo:c?fl:Go,y=s?void 0:h(e);return tl(y||e,(function(r,o){y&&(o=r,r=e[o]),au(a,o,af(r,t,n,o,e,i))})),a}of[Ds]=of[Ts]=of[Ws]=of[Ks]=of[Cs]=of[Is]=of[Zs]=of[qs]=of[Js]=of[Qs]=of[$s]=of[zs]=of[Vs]=of[Hs]=of[Fs]=of[Gs]=of[Us]=of[Xs]=of[ef]=of[tf]=of[nf]=of[rf]=!0,of[Rs]=of[Ls]=of[Ys]=!1;var uf=af,cf=1,lf=4;function sf(e){return uf(e,cf|lf)}var ff=sf;function pf(e,t,n){(void 0!==n&&!me(e[t],n)||void 0===n&&!(t in e))&&nu(e,t,n)}var df=pf;function hf(e){return kr(e)&&Ho(e)}var yf=hf,vf="[object Object]",gf=Function.prototype,bf=Object.prototype,mf=gf.toString,wf=bf.hasOwnProperty,Of=mf.call(Object);function _f(e){if(!kr(e)||it(e)!=vf)return!1;var t=wl(e);if(null===t)return!0;var n=wf.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&mf.call(n)==Of}var xf=_f;function Ef(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Sf=Ef;function jf(e){return cu(e,fl(e))}var Pf=jf;function kf(e,t,n,r,o,i,a){var u=Sf(e,n),c=Sf(t,n),l=a.get(c);if(l)df(e,n,l);else{var s=i?i(u,c,n+"",e,t,a):void 0,f=void 0===s;if(f){var p=dr(c),d=!p&&Object(Lr["a"])(c),h=!p&&!d&&Eo(c);s=c,p||d||h?dr(u)?s=u:yf(u)?s=vl(u):d?(f=!1,s=Object(hl["a"])(c,!0)):h?(f=!1,s=Ul(c,!0)):s=[]:xf(c)||Rr(c)?(s=u,Rr(u)?s=Pf(u):ut(u)&&!dt(u)||(s=vs(c))):f=!1}f&&(a.set(c,s),o(s,c,r,i,a),a["delete"](c)),df(e,n,s)}}var Af=kf;function Nf(e,t,n,r,o){e!==t&&Fa(t,(function(i,a){if(o||(o=new Sn),ut(i))Af(e,t,a,n,Nf,r,o);else{var u=r?r(Sf(e,a),i,a+"",e,t,o):void 0;void 0===u&&(u=i),df(e,a,u)}}),fl)}var Mf=Nf,Df=Nu((function(e,t,n){Mf(e,t,n)})),Tf=Df,Cf={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},If=function(e){var t=ff(Cf);return e&&(t=Tf(t,e)),t};n(78),n(158);function Rf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bf(e,t,n){return t&&Lf(e.prototype,t),n&&Lf(e,n),e}function zf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vf="*",Hf=function(){function e(){Rf(this,e),zf(this,"_events",{})}return Bf(e,[{key:"on",value:function(e,t,n){var r=this;return null===e||void 0===e||e.split(",").forEach((function(e){e=e.trim(),r._events[e]||(r._events[e]=[]),r._events[e].push({callback:t,once:!!n})})),this}},{key:"once",value:function(e,t){var n=this;null===e||void 0===e||e.split(",").forEach((function(e){return e=e.trim(),n.on(e,t,!0)}))}},{key:"emit",value:function(e,t){var n=this;null===e||void 0===e||e.split(",").forEach((function(e){var r=n._events[e]||[],o=n._events[Vf]||[],i=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],u=a.callback,c=a.once;c&&(r.splice(i,1),0===r.length&&delete n._events[e],o--,i--),u.apply(n,[t])}};i(r),i(o)}))}},{key:"off",value:function(e,t){var n=this;return e||(this._events={}),e.split(",").forEach((function(e){if(t){for(var r=n._events[e]||[],o=r.length,i=0;i<o;i++)r[i].callback===t&&(r.splice(i,1),o--,i--);0===r.length&&delete n._events[e]}else delete n._events[e]})),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function Ff(e,t){return t*Math.round(e/t)||e}function Gf(e,t){return e%t}function Uf(e,t){return Zf(e)||Kf(e,t)||Yf(e,t)||Xf()}function Xf(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yf(e,t){if(e){if("string"===typeof e)return Wf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wf(e,t):void 0}}function Wf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kf(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Zf(e){if(Array.isArray(e))return e}var qf,Jf=function(e,t,n){var r=Uf(e,2),o=r[0],i=r[1],a=Uf(t,2),u=a[0],c=a[1],l=Uf(n,2),s=l[0],f=l[1];return o>u&&o<s&&i>c&&i<f},Qf=function(e,t){var n=t.multipleSelectKey,r=!1;switch(n){case"meta":r=e.metaKey;break;case"alt":r=e.altKey;break;case"shift":r=e.shiftKey;break;case"ctrl":r=e.ctrlKey;break;default:r=!1;break}return r},$f=(n(79),n(161),n(125),n(80),n(30),n(12),n(13),n(14),n(47),new Uint8Array(16));function ep(){if(!qf&&(qf="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!qf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qf($f)}var tp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function np(e){return"string"===typeof e&&tp.test(e)}for(var rp=np,op=[],ip=0;ip<256;++ip)op.push((ip+256).toString(16).substr(1));function ap(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(op[e[t+0]]+op[e[t+1]]+op[e[t+2]]+op[e[t+3]]+"-"+op[e[t+4]]+op[e[t+5]]+"-"+op[e[t+6]]+op[e[t+7]]+"-"+op[e[t+8]]+op[e[t+9]]+"-"+op[e[t+10]]+op[e[t+11]]+op[e[t+12]]+op[e[t+13]]+op[e[t+14]]+op[e[t+15]]).toLowerCase();if(!rp(n))throw TypeError("Stringified UUID is invalid");return n}var up=ap;function cp(e,t,n){e=e||{};var r=e.random||(e.rng||ep)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return up(r)}var lp=cp,sp=function(){var e=lp();return e},fp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.nodes.reduce((function(e,n){return e[n.id]=t+lp(),n.id=e[n.id],e}),{});return e.edges.forEach((function(e){e.id=t+lp(),e.sourceNodeId=n[e.sourceNodeId],e.targetNodeId=n[e.targetNodeId]})),e},pp=(n(104),n(203),function(e,t,n,r){var o=(t.y-e.y)*(r.x-n.x)-(e.x-t.x)*(n.y-r.y);if(0===o)return!1;var i=((t.x-e.x)*(r.x-n.x)*(n.y-e.y)+(t.y-e.y)*(r.x-n.x)*e.x-(r.y-n.y)*(t.x-e.x)*n.x)/o,a=-((t.y-e.y)*(r.y-n.y)*(n.x-e.x)+(t.x-e.x)*(r.y-n.y)*e.y-(r.x-n.x)*(t.y-e.y)*n.y)/o;return(i-e.x)*(i-t.x)<=0&&(a-e.y)*(a-t.y)<=0&&(i-n.x)*(i-r.x)<=0&&(a-n.y)*(a-r.y)<=0&&{x:i,y:a}}),dp=function(e,t,n){var r=e.x,o=e.y;return(r-t.x)*(r-n.x)<=0&&(o-t.y)*(o-n.y)<=0};function hp(e){return hp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(e)}function yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yp(Object(n),!0).forEach((function(t){gp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bp,mp,wp,Op,_p,xp,Ep,Sp,jp,Pp,kp,Ap,Np,Mp,Dp,Tp,Cp,Ip,Rp,Lp,Bp=function(e){var t=e.anchors;return t},zp=function(e,t){for(var n,r=t.nodes,o=r.length-1;o>=0;o--){var i=r[o],a=Up(e,i);if(a){var u=Hp(e,i);if(u){var c={node:i,anchorIndex:u.index,anchor:u.anchor};n&&!Vp(i,n.node,t)||(n=c)}}}return n},Vp=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},Hp=function(e,t){for(var n,r=Bp(t),o=Number.MAX_SAFE_INTEGER,i=0;i<r.length;i++){var a=Fp(e.x,e.y,r[i].x,r[i].y);a<o&&(o=a,n={index:i,anchor:vp(vp({},r[i]),{},{x:r[i].x,y:r[i].y,id:r[i].id})})}return n},Fp=function(e,t,n,r){return Math.hypot(e-n,t-r)},Gp=function(e,t){var n=!1,r=0,o=Xp(t);return e.x>=o.minX-r&&e.x<=o.maxX+r&&e.y>=o.minY-r&&e.y<=o.maxY+r&&(n=!0),n},Up=function(e,t){var n=!1,r=5,o=Xp(t);return e.x>=o.minX-r&&e.x<=o.maxX+r&&e.y>=o.minY-r&&e.y<=o.maxY+r&&(n=!0),n},Xp=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i={minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2,x:t,y:n,width:r,height:o,centerX:t,centerY:n};return i},Yp=function(e){var t=e,n=t.x,r=t.y,o=t.width,i=t.height,a=t.radius,u=[{x:n-o/2+a,y:r-i/2+a,r:a},{x:n+o/2-a,y:r-i/2+a,r:a},{x:n-o/2+a,y:r+i/2-a,r:a},{x:n+o/2-a,y:r+i/2-a,r:a}];return u},Wp=function(e,t,n){var r,o=Yp(n),i=Number.MAX_SAFE_INTEGER;o.forEach((function(t){var n=Fp(e.x,e.y,t.x,t.y);n<i&&(i=n,r=t)}));var a=Kp(e,t,r);return a},Kp=function(e,t,n){var r,o=n,i=o.x,a=o.y,u=o.r;if(t===Pc.HORIZONTAL){var c=i-Math.sqrt(u*u-(e.y-a)*(e.y-a)),l=i+Math.sqrt(u*u-(e.y-a)*(e.y-a)),s=Math.abs(c-e.x)<Math.abs(l-e.x)?c:l;r={x:s,y:e.y}}else if(t===Pc.VERTICAL){var f=a-Math.sqrt(u*u-(e.x-i)*(e.x-i)),p=a+Math.sqrt(u*u-(e.x-i)*(e.x-i)),d=Math.abs(f-e.y)<Math.abs(p-e.y)?f:p;r={x:e.x,y:d}}return r},Zp=function(e,t){var n=t,r=!1,o={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},i=n.x,a=n.y,u=n.width,c=n.height;return e.y===a+c/2||e.y===a-c/2?r=e.x>o.minX&&e.x<o.maxX:e.x!==i+u/2&&e.x!==i-u/2||(r=e.y>o.minY&&e.y<o.maxY),r},qp=function(e,t,n){var r,o=n,i=o.x,a=o.y,u=o.rx,c=o.ry;if(t===Pc.HORIZONTAL){var l=i-Math.sqrt(u*u-(e.y-a)*(e.y-a)*u*u/(c*c)),s=i+Math.sqrt(u*u-(e.y-a)*(e.y-a)*u*u/(c*c)),f=Math.abs(l-e.x)<Math.abs(s-e.x)?l:s;r={x:f,y:e.y}}else if(t===Pc.VERTICAL){var p=a-Math.sqrt(c*c-(e.x-i)*(e.x-i)*c*c/(u*u)),d=a+Math.sqrt(c*c-(e.x-i)*(e.x-i)*c*c/(u*u)),h=Math.abs(p-e.y)<Math.abs(d-e.y)?p:d;r={x:e.x,y:h}}return r},Jp=function(e,t,n){for(var r,o=n,i=o.pointsPosition,a=Number.MAX_SAFE_INTEGER,u=[],c=0;c<i.length;c++)u.push({start:i[c],end:i[(c+1)%i.length]});return u.forEach((function(n){var o=n.start,i=n.end,u=o,c=i;o.x>i.x&&(u=i,c=o);var l={x:e.x,y:e.y};if(u.x===c.x&&t===Pc.HORIZONTAL&&(l={x:u.x,y:e.y}),u.y===c.y&&t===Pc.VERTICAL&&(l={x:e.x,y:u.y}),u.x!==c.x&&u.y!==c.y){var s=(c.y-u.y)/(c.x-u.x),f=(u.x*c.y-c.x*u.y)/(u.x-c.x);t===Pc.HORIZONTAL?l={x:(e.y-f)/s,y:e.y}:t===Pc.VERTICAL&&(l={x:e.x,y:s*e.x+f})}var p=dp(l,o,i);if(p){var d=Fp(l.x,l.y,e.x,e.y);d<a&&(a=d,r=l)}})),r},Qp=function(e){var t=yc(e,["id","type","x","y","text","properties","virtual"]);return t},$p=function(e,t,n,r){var o=e.x,i=e.y;return t.x>e.x?o=e.x+n/2:t.x<e.x&&(o=e.x-n/2),t.y>e.y?i=e.y+r/2:t.y<e.y&&(i=e.y-r/2),{x:o,y:i}},ed=function(e){var t=e.rows,n=e.style,r=e.rowsLength,o=e.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=o,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?t.forEach((function(e){var t=document.createElement("div");t.textContent=e,i.appendChild(t)})):i.textContent=t,document.body.appendChild(i);var a=i.clientHeight;return document.body.removeChild(i),a},td=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,o=0;return t&&t.forEach((function(e){var t=oy(e);o=t>o?t:o})),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},nd=function(e){return"object"!==hp(e)?{isAllPass:!!e,msg:e?"":""}:e},rd={node:!1,edge:!1},od={node:!0,edge:!0},id={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},ad=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},ud=1e3,cd=999,ld=function(){return++ud},sd=function(){return--cd};function fd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fd(Object(n),!0).forEach((function(t){gd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function hd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vd(e,t,n){return t&&yd(e.prototype,t),n&&yd(e,n),e}function gd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bd(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var md=(bp=function(){function e(t,n){hd(this,e),gd(this,"id",sp()),dd(this,"type",mp,this),dd(this,"sourceNodeId",wp,this),dd(this,"targetNodeId",Op,this),dd(this,"startPoint",_p,this),dd(this,"endPoint",xp,this),dd(this,"text",Ep,this),dd(this,"properties",Sp,this),dd(this,"points",jp,this),dd(this,"pointsList",Pp,this),dd(this,"isSelected",kp,this),dd(this,"isHovered",Ap,this),dd(this,"isHitable",Np,this),dd(this,"draggable",Mp,this),dd(this,"visible",Dp,this),gd(this,"virtual",!1),dd(this,"isAnimation",Tp,this),gd(this,"graphModel",void 0),dd(this,"zIndex",Cp,this),gd(this,"BaseType",Sc.EDGE),gd(this,"modelType",Ec.EDGE),dd(this,"state",Ip,this),gd(this,"additionStateData",void 0),gd(this,"sourceAnchorId",""),gd(this,"targetAnchorId",""),gd(this,"menu",void 0),gd(this,"customTextPosition",!1),gd(this,"animationData",id),dd(this,"style",Rp,this),dd(this,"arrowConfig",Lp,this),this.graphModel=n,this.initEdgeData(t),this.setAttributes()}return vd(e,[{key:"initEdgeData",value:function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,n=t&&t(e.type);n&&(e.id=n);var r=this.createId();r&&(e.id=r)}Cu(this,fy(e));var o=this.graphModel.overlapMode;o===Mc.INCREASE&&(this.zIndex=e.zIndex||ld()),this.setAnchors(),this.initPoints(),this.formatText(e)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return pd(pd({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var e=this.graphModel.theme.edgeText;return ff(e)}},{key:"getAnimation",value:function(){var e=this.animationData;return ff(e)}},{key:"getEdgeAnimationStyle",value:function(){var e=this.graphModel.theme.edgeAnimation;return ff(e)}},{key:"getOutlineStyle",value:function(){var e=this.graphModel,t=e.theme.outline;return ff(t)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.sourceNodeId])||void 0===t?void 0:t.model}},{key:"targetNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.targetNodeId])||void 0===t?void 0:t.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(e,t){var n,r,o=Bp(e);return o.forEach((function(e){var o=py(e,t);r?o<r&&(r=o,n=e):(r=o,n=e)})),n}},{key:"getEndAnchor",value:function(e){var t,n,r=this,o=Bp(e);return o.forEach((function(e){var o=py(e,r.startPoint);n?o<n&&(n=o,t=e):(n=o,t=e)})),t}},{key:"getProperties",value:function(){return Object(o["I"])(this.properties)}},{key:"getData",value:function(){var e=this.text,t=e.x,n=e.y,r=e.value,i={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(o["I"])(this.properties)};return r&&(i.text={x:t,y:n,value:r}),this.graphModel.overlapMode===Mc.INCREASE&&(i.zIndex=this.zIndex),i}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(e,t){this.properties[e]=ad(t),this.setAttributes()}},{key:"deleteProperty",value:function(e){delete this.properties[e],this.setAttributes()}},{key:"setProperties",value:function(e){this.properties=pd(pd({},this.properties),ad(e)),this.setAttributes()}},{key:"changeEdgeId",value:function(e){var t=this.arrowConfig,n=t.markerEnd,r=t.markerStart;r&&r==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(e,")")),n&&n==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(e,")")),this.id=e}},{key:"setStyle",value:function(e,t){this.style=pd(pd({},this.style),{},gd({},e,ad(t)))}},{key:"setStyles",value:function(e){this.style=pd(pd({},this.style),ad(e))}},{key:"updateStyles",value:function(e){this.style=pd({},ad(e))}},{key:"formatText",value:function(e){var t=this.textPosition,n=t.x,r=t.y;e.text&&"string"!==typeof e.text?"[object Object]"===Object.prototype.toString.call(e.text)&&(this.text={x:e.text.x||n,y:e.text.y||r,value:e.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:e.text||"",x:n,y:r,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var e=this.textPosition,t=e.x,n=e.y;this.text.x=t,this.text.y=n}},{key:"moveText",value:function(e,t){if(this.text){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,u=n.editable;this.text={value:i,draggable:a,x:r+e,y:o+t,editable:u}}}},{key:"setText",value:function(e){e&&Cu(this.text,e)}},{key:"updateText",value:function(e){this.text=pd(pd({},this.text),{},{value:e})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var e=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:e.x,y:e.y}),this.sourceAnchorId||(this.sourceAnchorId=e.id)}if(!this.targetAnchorId||!this.endPoint){var t=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:t.x,y:t.y}),this.targetAnchorId||(this.targetAnchorId=t.id)}}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"updateStartPoint",value:function(e){this.startPoint=e}},{key:"moveStartPoint",value:function(e,t){this.startPoint.x+=e,this.startPoint.y+=t}},{key:"updateEndPoint",value:function(e){this.endPoint=e}},{key:"moveEndPoint",value:function(e,t){this.endPoint.x+=e,this.endPoint.y+=t}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.zIndex=e}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(e){Cu(this,e)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint;this.updateStartPoint({x:t.x,y:t.y}),this.updateEndPoint({x:n.x,y:n.y})}}]),e}(),mp=bd(bp.prototype,"type",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wp=bd(bp.prototype,"sourceNodeId",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Op=bd(bp.prototype,"targetNodeId",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_p=bd(bp.prototype,"startPoint",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xp=bd(bp.prototype,"endPoint",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ep=bd(bp.prototype,"text",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Sp=bd(bp.prototype,"properties",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),jp=bd(bp.prototype,"points",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pp=bd(bp.prototype,"pointsList",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kp=bd(bp.prototype,"isSelected",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ap=bd(bp.prototype,"isHovered",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Np=bd(bp.prototype,"isHitable",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mp=bd(bp.prototype,"draggable",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Dp=bd(bp.prototype,"visible",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Tp=bd(bp.prototype,"isAnimation",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cp=bd(bp.prototype,"zIndex",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ip=bd(bp.prototype,"state",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Rp=bd(bp.prototype,"style",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Lp=bd(bp.prototype,"arrowConfig",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),bd(bp.prototype,"sourceNode",[o["m"]],Object.getOwnPropertyDescriptor(bp.prototype,"sourceNode"),bp.prototype),bd(bp.prototype,"targetNode",[o["m"]],Object.getOwnPropertyDescriptor(bp.prototype,"targetNode"),bp.prototype),bd(bp.prototype,"textPosition",[o["m"]],Object.getOwnPropertyDescriptor(bp.prototype,"textPosition"),bp.prototype),bd(bp.prototype,"setProperty",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setProperty"),bp.prototype),bd(bp.prototype,"deleteProperty",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"deleteProperty"),bp.prototype),bd(bp.prototype,"setProperties",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setProperties"),bp.prototype),bd(bp.prototype,"changeEdgeId",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"changeEdgeId"),bp.prototype),bd(bp.prototype,"setStyle",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setStyle"),bp.prototype),bd(bp.prototype,"setStyles",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setStyles"),bp.prototype),bd(bp.prototype,"updateStyles",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"updateStyles"),bp.prototype),bd(bp.prototype,"formatText",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"formatText"),bp.prototype),bd(bp.prototype,"resetTextPosition",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"resetTextPosition"),bp.prototype),bd(bp.prototype,"moveText",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"moveText"),bp.prototype),bd(bp.prototype,"setText",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setText"),bp.prototype),bd(bp.prototype,"updateText",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"updateText"),bp.prototype),bd(bp.prototype,"setAnchors",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setAnchors"),bp.prototype),bd(bp.prototype,"setSelected",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setSelected"),bp.prototype),bd(bp.prototype,"setHovered",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setHovered"),bp.prototype),bd(bp.prototype,"setHitable",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setHitable"),bp.prototype),bd(bp.prototype,"openEdgeAnimation",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"openEdgeAnimation"),bp.prototype),bd(bp.prototype,"closeEdgeAnimation",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"closeEdgeAnimation"),bp.prototype),bd(bp.prototype,"setElementState",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setElementState"),bp.prototype),bd(bp.prototype,"updateStartPoint",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"updateStartPoint"),bp.prototype),bd(bp.prototype,"moveStartPoint",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"moveStartPoint"),bp.prototype),bd(bp.prototype,"updateEndPoint",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"updateEndPoint"),bp.prototype),bd(bp.prototype,"moveEndPoint",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"moveEndPoint"),bp.prototype),bd(bp.prototype,"setZIndex",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"setZIndex"),bp.prototype),bd(bp.prototype,"initPoints",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"initPoints"),bp.prototype),bd(bp.prototype,"updateAttributes",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"updateAttributes"),bp.prototype),bd(bp.prototype,"getAdjustStart",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"getAdjustStart"),bp.prototype),bd(bp.prototype,"getAdjustEnd",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"getAdjustEnd"),bp.prototype),bd(bp.prototype,"updateAfterAdjustStartAndEnd",[o["k"]],Object.getOwnPropertyDescriptor(bp.prototype,"updateAfterAdjustStartAndEnd"),bp.prototype),bp),wd=md;function Od(e){return Od="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(e)}function _d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_d(Object(n),!0).forEach((function(t){Rd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ed(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jd(e,t,n){return t&&Sd(e.prototype,t),n&&Sd(e,n),e}function Pd(){return Pd="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=kd(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Pd.apply(this,arguments)}function kd(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=Id(e),null===e)break;return e}function Ad(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nd(e,t)}function Nd(e,t){return Nd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nd(e,t)}function Md(e){var t=Cd();return function(){var n,r=Id(e);if(t){var o=Id(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dd(this,n)}}function Dd(e,t){if(t&&("object"===Od(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Td(e)}function Td(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cd(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Id(e){return Id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Id(e)}function Rd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ld,Bd,zd=function(e){Ad(n,e);var t=Md(n);function n(){var e;Ed(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Rd(Td(e),"modelType",Ec.LINE_EDGE),e}return jd(n,[{key:"getEdgeStyle",value:function(){var e=this.graphModel.theme.line,t=Pd(Id(n.prototype),"getEdgeStyle",this).call(this);return xd(xd({},t),ff(e))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),n}(wd);function Vd(e){return Vd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(e)}function Hd(e,t){return Yd(e)||Xd(e,t)||Gd(e,t)||Fd()}function Fd(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gd(e,t){if(e){if("string"===typeof e)return Ud(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ud(e,t):void 0}}function Ud(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xd(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Yd(e){if(Array.isArray(e))return e}function Wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wd(Object(n),!0).forEach((function(t){ch(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function qd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qd(e,t,n){return t&&Jd(e.prototype,t),n&&Jd(e,n),e}function $d(){return $d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=eh(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},$d.apply(this,arguments)}function eh(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=uh(e),null===e)break;return e}function th(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nh(e,t)}function nh(e,t){return nh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nh(e,t)}function rh(e){var t=ah();return function(){var n,r=uh(e);if(t){var o=uh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oh(this,n)}}function oh(e,t){if(t&&("object"===Vd(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ih(e)}function ih(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ah(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function uh(e){return uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uh(e)}function ch(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lh(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var sh=(Ld=function(e){th(n,e);var t=rh(n);function n(){var e;qd(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),ch(ih(e),"modelType",Ec.POLYLINE_EDGE),ch(ih(e),"draginngPointList",void 0),Zd(ih(e),"dbClickPosition",Bd,ih(e)),e}return Qd(n,[{key:"initEdgeData",value:function(e){this.offset=30,$d(uh(n.prototype),"initEdgeData",this).call(this,e)}},{key:"getEdgeStyle",value:function(){var e=this.graphModel.theme.polyline,t=$d(uh(n.prototype),"getEdgeStyle",this).call(this);return Kd(Kd({},t),ff(e))}},{key:"getTextPosition",value:function(){var e,t=null===(e=this.text)||void 0===e?void 0:e.value;if(this.dbClickPosition&&!t){var n=this.dbClickPosition,r=n.x,o=n.y;return{x:r,y:o}}var i=ty(this.points),a=qh(i),u=Hd(a,2),c=u[0],l=u[1];return{x:(c.x+l.x)/2,y:(c.y+l.y)/2}}},{key:"getAfterAnchor",value:function(e,t,n){var r,o;return n.forEach((function(n){var i;e===Pc.HORIZONTAL?i=Math.abs(t.y-n.y):e===Pc.VERTICAL&&(i=Math.abs(t.x-n.x)),(!o||o>i)&&(o=i,r=n)})),r}},{key:"getCorssPoint",value:function(e,t,n){var r;return e===Pc.HORIZONTAL?r={x:n.x,y:t.y}:e===Pc.VERTICAL&&(r={x:t.x,y:n.y}),r}},{key:"removeCrossPoints",value:function(e,t,n){var r=n.map((function(e){return e}));if(1===e){var o=r[e],i=r[t],a=r[e-1],u=Jh(a,o,this.sourceNode);if(u){var c=Qh(o,i,this.sourceNode);if(c){var l=$h(o,i,this.sourceNode);l&&(r[e]=l,r.splice(e-1,1),e--,t--)}}else{var s=this.sourceNode.anchors;s.forEach((function(t){if(t.x===a.x&&t.x===o.x||t.y===a.y&&t.y===o.y){var n=Fp(t.x,t.y,o.x,o.y),i=Fp(a.x,a.y,o.x,o.y);n<i&&(r[e-1]=t)}}))}}if(t===n.length-2){var f=r[e],p=r[t],d=r[t+1],h=Jh(p,d,this.targetNode);if(h){var y=Qh(f,p,this.targetNode);if(y){var v=$h(f,p,this.targetNode);v&&(r[t]=v,r.splice(t+1,1))}}else{var g=this.targetNode.anchors;g.forEach((function(e){if(e.x===d.x&&e.x===p.x||e.y===d.y&&e.y===p.y){var n=Fp(e.x,e.y,p.x,p.y),o=Fp(d.x,d.y,p.x,p.y);n<o&&(r[t+1]=e)}}))}}return r}},{key:"getDragingPoints",value:function(e,t,n,r,o){var i=o.map((function(e){return e})),a=this.getAfterAnchor(e,n,r),u=this.getCorssPoint(e,n,a);return"start"===t?(i.unshift(u),i.unshift(a)):(i.push(u),i.push(a)),i}},{key:"updateCrossPoints",value:function(e){var t=e.map((function(e){return e})),n=e[0],r=e[1],o=e[t.length-2],i=e[t.length-1],a=this.sourceNode,u=this.targetNode,c=a.modelType,l=u.modelType,s=ey(n,r),f=t[0];switch(c){case Ec.RECT_NODE:if(0!==a.radius){var p=Zp(n,a);p||(f=Wp(n,s,a))}break;case Ec.CIRCLE_NODE:f=Kp(n,s,a);break;case Ec.ELLIPSE_NODE:f=qp(n,s,a);break;case Ec.DIAMOND_NODE:f=Jp(n,s,a);break;case Ec.POLYGON_NODE:f=Jp(n,s,a);break;default:break}t[0]=f;var d=ey(o,i),h=t[t.length-1];switch(l){case Ec.RECT_NODE:if(0!==u.radius){var y=Zp(i,u);y||(h=Wp(i,d,u))}break;case Ec.CIRCLE_NODE:h=Kp(i,d,u);break;case Ec.ELLIPSE_NODE:h=qp(i,d,u);break;case Ec.DIAMOND_NODE:h=Jp(i,d,u);break;case Ec.POLYGON_NODE:h=Jp(i,d,u);break;default:break}return t[t.length-1]=h,t}},{key:"getData",value:function(){var e=$d(uh(n.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){var t=e.x,n=e.y;return{x:t,y:n}}));return Object.assign({},e,{pointsList:t})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var e=Zh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=e,this.points=e.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"moveStartPoint",value:function(e,t){this.startPoint.x+=e,this.startPoint.y+=t,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"moveEndPoint",value:function(e,t){this.endPoint.x+=e,this.endPoint.y+=t,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map((function(e){return e}))}},{key:"dragAppendSimple",value:function(e,t){this.isDragging=!0;var n=e.start,r=e.end,o=e.startIndex,i=e.endIndex,a=e.direction,u=this.pointsList,c=u;return a===Pc.HORIZONTAL?(u[o]={x:n.x,y:n.y+t.y},u[i]={x:r.x,y:r.y+t.y},c=this.pointsList.map((function(e){return e}))):a===Pc.VERTICAL&&(u[o]={x:n.x+t.x,y:n.y},u[i]={x:r.x+t.x,y:r.y},c=this.pointsList.map((function(e){return e}))),this.updatePointsAfterDrag(c),this.draginngPointList=c,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},u[o]),end:Object.assign({},u[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppend",value:function(e,t){this.isDragging=!0;var n=e.start,r=e.end,o=e.startIndex,i=e.endIndex,a=e.direction,u=this.pointsList;if(a===Pc.HORIZONTAL){u[o]={x:n.x,y:n.y+t.y},u[i]={x:r.x,y:r.y+t.y};var c=this.pointsList.map((function(e){return e}));if(0!==o&&i!==this.pointsList.length-1&&(c=this.removeCrossPoints(o,i,c)),0===o){var l={x:n.x,y:n.y+t.y},s=Gp(l,this.sourceNode);if(!s){var f=this.sourceNode.anchors;c=this.getDragingPoints(a,"start",l,f,c)}}if(i===this.pointsList.length-1){var p={x:r.x,y:r.y+t.y},d=Gp(p,this.targetNode);if(!d){var h=this.targetNode.anchors;c=this.getDragingPoints(a,"end",p,h,c)}}this.updatePointsAfterDrag(c),this.draggingPointList=c}else if(a===Pc.VERTICAL){u[o]={x:n.x+t.x,y:n.y},u[i]={x:r.x+t.x,y:r.y};var y=this.pointsList.map((function(e){return e}));if(0!==o&&i!==this.pointsList.length-1&&(y=this.removeCrossPoints(o,i,y)),0===o){var v={x:n.x+t.x,y:n.y},g=Gp(v,this.sourceNode);if(!g){var b=this.sourceNode.anchors;y=this.getDragingPoints(a,"start",v,b,y)}}if(i===this.pointsList.length-1){var m={x:r.x+t.x,y:r.y},w=Gp(m,this.targetNode);if(!w){var O=this.targetNode.anchors;y=this.getDragingPoints(a,"end",m,O,y)}}this.updatePointsAfterDrag(y),this.draggingPointList=y}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},u[o]),end:Object.assign({},u[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var e=Kh(ty(this.points));this.pointsList=e.map((function(e){return e})),this.draginngPointList=[];var t=e[0];this.startPoint=Object.assign({},t);var n=e[e.length-1];this.endPoint=Object.assign({},n)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(e){var t=this.updateCrossPoints(e);this.points=t.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var e=this.pointsList;return e[e.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint,r=e.sourceNode,o=e.targetNode,i=Zh({x:t.x,y:t.y},{x:n.x,y:n.y},r,o,this.offset||0);this.pointsList=i,this.initPoints()}}]),n}(wd),Bd=lh(Ld.prototype,"dbClickPosition",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lh(Ld.prototype,"initPoints",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"initPoints"),Ld.prototype),lh(Ld.prototype,"updatePoints",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"updatePoints"),Ld.prototype),lh(Ld.prototype,"updateStartPoint",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"updateStartPoint"),Ld.prototype),lh(Ld.prototype,"moveStartPoint",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"moveStartPoint"),Ld.prototype),lh(Ld.prototype,"updateEndPoint",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"updateEndPoint"),Ld.prototype),lh(Ld.prototype,"moveEndPoint",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"moveEndPoint"),Ld.prototype),lh(Ld.prototype,"dragAppendStart",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"dragAppendStart"),Ld.prototype),lh(Ld.prototype,"dragAppendSimple",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"dragAppendSimple"),Ld.prototype),lh(Ld.prototype,"dragAppend",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"dragAppend"),Ld.prototype),lh(Ld.prototype,"dragAppendEnd",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"dragAppendEnd"),Ld.prototype),lh(Ld.prototype,"updatePointsAfterDrag",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"updatePointsAfterDrag"),Ld.prototype),lh(Ld.prototype,"getAdjustStart",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"getAdjustStart"),Ld.prototype),lh(Ld.prototype,"getAdjustEnd",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"getAdjustEnd"),Ld.prototype),lh(Ld.prototype,"updateAfterAdjustStartAndEnd",[o["k"]],Object.getOwnPropertyDescriptor(Ld.prototype,"updateAfterAdjustStartAndEnd"),Ld.prototype),Ld),fh=function(e){var t=e.start,n=e.end,r=e.offset,o=e.verticalLength,i=e.type,a={leftX:0,leftY:0,rightX:0,rightY:0},u=Math.atan((n.y-t.y)/(n.x-t.x)),c=Math.atan(r/o),l=Math.sqrt(o*o+r*r);return"start"===i?n.x>=t.x?(a.leftX=t.x+l*Math.sin(u+c),a.leftY=t.y-l*Math.cos(u+c),a.rightX=t.x-l*Math.sin(u-c),a.rightY=t.y+l*Math.cos(u-c)):(a.leftX=t.x-l*Math.sin(u+c),a.leftY=t.y+l*Math.cos(u+c),a.rightX=t.x+l*Math.sin(u-c),a.rightY=t.y-l*Math.cos(u-c)):"end"===i&&(n.x>=t.x?(a.leftX=n.x+l*Math.sin(u-c),a.leftY=n.y-l*Math.cos(u-c),a.rightX=n.x-l*Math.sin(u+c),a.rightY=n.y+l*Math.cos(u+c)):(a.leftX=n.x-l*Math.sin(u-c),a.leftY=n.y+l*Math.cos(u-c),a.rightX=n.x+l*Math.sin(u+c),a.rightY=n.y-l*Math.cos(u+c))),a};function ph(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ph(Object(n),!0).forEach((function(t){hh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yh(e){return bh(e)||gh(e)||_h(e)||vh()}function vh(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gh(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function bh(e){if(Array.isArray(e))return xh(e)}function mh(e){return mh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(e)}function wh(e,t){return Sh(e)||Eh(e,t)||_h(e,t)||Oh()}function Oh(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _h(e,t){if(e){if("string"===typeof e)return xh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xh(e,t):void 0}}function xh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eh(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Sh(e){if(Array.isArray(e))return e}var jh=function(e,t){return 2*Math.abs(e.centerX-t.centerX)<e.width+t.width&&2*Math.abs(e.centerY-t.centerY)<e.height+t.height},Ph=function(e){var t=[],n={};return e.forEach((function(e){var t="".concat(e.x,"-").concat(e.y);e.id=t,n[t]=e})),Object.keys(n).forEach((function(e){t.push(n[e])})),t},kh=function(e,t){return 0===e.width&&0===e.height?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},Ah=function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return n/t.width>r/t.height?Pc.HORIZONTAL:Pc.VERTICAL},Nh=function(e,t){var n=Ah(t,e);return n===Pc.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Mh=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),o=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}},Dh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach((function(e){n.push(e.x),r.push(e.y)}));var o=Math.min.apply(Math,n),i=Math.max.apply(Math,n),a=Math.min.apply(Math,r),u=Math.max.apply(Math,r),c=i-o,l=u-a;return t&&(c+=t,l+=t),{centerX:(o+i)/2,centerY:(a+u)/2,maxX:i,maxY:u,minX:o,minY:a,x:(o+i)/2,y:(a+u)/2,height:l,width:c}},Th=function(e){var t=e.minX,n=e.minY,r=e.maxX,o=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:o},{x:t,y:o}]},Ch=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},Ih=function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]},Rh=function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]},Lh=function(e,t){return Ih(e,t.x).concat(Rh(e,t.y))},Bh=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},zh=function(e,t){var n=-2,r=0;return t.forEach((function(t){t&&(e.x===t.x&&(r+=n),e.y===t.y&&(r+=n))})),r},Vh=function(e,t,n,r,o){return Bh(e,t)+Bh(e,n)+zh(e,[t,n,r,o])},Hh=function e(t,n,r,o,i){i||(i=0),t.unshift(n[o]),r[o]&&r[o]!==o&&i<=100&&e(t,n,r,r[o],i+1)},Fh=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},Gh=function(e,t,n,r){var o=t.x-e.x,i=t.y-e.y,a=r.x-n.x,u=r.y-n.y,c=(-i*(e.x-n.x)+o*(e.y-n.y))/(-a*i+o*u),l=(a*(e.y-n.y)-u*(e.x-n.x))/(-a*i+o*u);return c>=0&&c<=1&&l>=0&&l<=1},Uh=function(e,t,n){if(0===n.width&&0===n.height)return!1;var r=Th(n),o=wh(r,4),i=o[0],a=o[1],u=o[2],c=o[3];return Gh(e,t,i,a)||Gh(e,t,i,c)||Gh(e,t,a,u)||Gh(e,t,u,c)},Xh=function(e,t,n,r){var o=[];return e.forEach((function(e){e!==t&&(e.x!==t.x&&e.y!==t.y||Uh(e,t,n)||Uh(e,t,r)||o.push(e))})),Ph(o)},Yh=function(e,t,n,r,o,i,a){var u=[],c=[t],l={},s={},f={};s[t.id]=0,f[t.id]=Vh(t,n,t);var p={};e.forEach((function(e){p[e.id]=e}));var d=function(){var d=void 0,h=1/0;if(c.forEach((function(e){f[e.id]<h&&(h=f[e.id],d=e)})),d===n){var y=[];return Hh(y,p,l,n.id),{v:y}}Fh(c,d),u.push(d),Xh(e,d,r,o).forEach((function(e){if(-1===u.indexOf(e)){-1===c.indexOf(e)&&c.push(e);var r=f[d.id]+Bh(d,e);s[e.id]&&r>=s[e.id]||(l[e.id]=d.id,s[e.id]=r,f[e.id]=s[e.id]+Vh(e,n,t,i,a))}}))};while(c.length){var h=d();if("object"===mh(h))return h.v}return[t,n]},Wh=function(e){var t=Xp(e);return t},Kh=function(e){var t=e,n=1;while(n<t.length-1){var r=t[n-1],o=t[n],i=t[n+1];r.x===o.x&&o.x===i.x||r.y===o.y&&o.y===i.y?t.splice(n,1):n++}return t},Zh=function(e,t,n,r,o){var i=Wh(n),a=Wh(r),u=kh(i,o),c=kh(a,o),l=Nh(u,e),s=Nh(c,t);if(jh(u,c)){var f=ny(e,t,l,s);return[e,l].concat(yh(f),[s,t])}var p=Dh([l,s]),d=Mh(u,p),h=Mh(c,p),y=[];y=y.concat(Th(d)),y=y.concat(Th(h));var v={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[p,d,h].forEach((function(e){y=y.concat(Lh(e,v).filter((function(e){return Ch(e,u)&&Ch(e,c)})))})),[{x:l.x,y:s.y},{x:s.x,y:l.y}].forEach((function(e){Ch(e,u)&&Ch(e,c)&&y.push(e)})),y.unshift(l),y.push(s),y=Ph(y);var g=Yh(y,l,s,i,a,e,t);return g.unshift(e),g.push(t),g.length>2&&(g=Kh(g)),Ph(g)},qh=function(e){var t;if(1===e.length)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],o=Fp(n.x,n.y,r.x,r.y),i=1;i<e.length-1;i++){var a=e[i],u=e[i+1],c=Fp(a.x,a.y,u.x,u.y);c>o&&(o=c,n=a,r=u)}t=[n,r]}return t},Jh=function(e,t,n){var r=Gp(e,n),o=Gp(t,n);return r&&o},Qh=function(e,t,n){var r=Gp(e,n),o=Gp(t,n),i=r&&o,a=r||o;return!i&&a},$h=function(e,t,n){for(var r,o,i=Xp(n),a=Th(i),u=0;u<a.length;u++){var c=Gh(e,t,a[u],a[(u+1)%a.length]);c&&(o=[a[u],a[(u+1)%a.length]])}return o&&(r=pp(e,t,o[0],o[1])),r},ey=function(e,t){var n;return e.x===t.x?n=Pc.VERTICAL:e.y===t.y&&(n=Pc.HORIZONTAL),n},ty=function(e){var t=e.split(" "),n=[];return t&&t.forEach((function(e){var t=e.split(","),r=wh(t,2),o=r[0],i=r[1];n.push({x:Number(o),y:Number(i)})})),n},ny=function(e,t,n,r){var o=[],i=ey(e,n),a=ey(t,r);if(i===a)e.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var u={x:n.x,y:r.y},c=dp(u,e,n),l=dp(u,t,r);if(c||l)u={x:r.x,y:n.y};else{var s=ry(u,e,n),f=ry(u,t,r);s&&f&&(u={x:r.x,y:n.y})}o.push(u)}return o},ry=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},oy=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},iy=function(e){var t,n=e.start,r=e.end;if(n.x===r.x&&n.y===r.y)t="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=fh(dh(dh({},o),{},{type:"start"})),a=fh(dh(dh({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},ay=function(e){var t=e.start,n=e.end,r=e.sourceNode,o=e.targetNode,i=e.offset,a=Xp(r),u=Xp(o),c=kh(a,i),l=kh(u,i),s=Nh(c,t),f=Nh(l,n);return{sNext:s,ePre:f}},uy=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(","),n=cy(t[0]),r=cy(t[1]),o=cy(t[2]),i=cy(t[3]);return[n,r,o,i]},cy=function(e){var t=e.replace(/(^\s*)/g,"").split(" "),n=wh(t,2),r=n[0],o=n[1];return{x:+r,y:+o}},ly=function(e){var t=uy(e);return[t[2],t[3]]},sy=function(e,t){for(var n,r=e.x,o=e.y,i=ty(t),a=Number.MAX_SAFE_INTEGER,u=[],c=0;c<i.length;c++)u.push({start:i[c],end:i[(c+1)%i.length]});if(u.forEach((function(e){var t=e.start,i=e.end;if(t.x===i.x){var u={x:t.x,y:o},c=dp(u,t,i);if(c){var l=Math.abs(t.x-r);l<a&&(a=l,n=u)}}else if(t.y===i.y){var s={x:r,y:t.y},f=dp(s,t,i);if(f){var p=Math.abs(t.y-o);p<a&&(a=p,n=s)}}})),!n){var l=u[0],s=l.start,f=l.end;n={x:s.x+(f.x-s.x)/2,y:s.y+(f.y-s.y)/2}}return n},fy=function(e){return yc(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},py=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};function dy(e,t){return"function"!==typeof t?function(t,n,r){return Object.assign({type:e.edgeType},r)}:function(n,r,o){var i=t(n,r,o);return i?"string"===typeof i?Object.assign({},o,{type:i}):Object.assign({type:i},o):{type:e.edgeType}}}n(204);function hy(){}var yy=hy;function vy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function by(e,t,n){return t&&gy(e.prototype,t),n&&gy(e,n),e}function my(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wy=window.document,Oy=0;function _y(e){var t=e.onDragStart,n=void 0===t?yy:t,r=e.onDraging,o=void 0===r?yy:r,i=e.onDragEnd,a=void 0===i?yy:i,u=e.step,c=void 0===u?1:u,l=e.isStopPropagation,s=void 0===l||l,f=!1,p=!1,d=0,h=0,y=0,v=0;function g(e){if(s&&e.stopPropagation(),p&&(f=!0,y+=e.clientX-d,v+=e.clientY-h,d=e.clientX,h=e.clientY,Math.abs(y)>c||Math.abs(v)>c)){var t=y%c,n=v%c,r=y-t,i=v-n;y=t,v=n,o({deltaX:r,deltaY:i,event:e})}}function b(e){if(s&&e.stopPropagation(),p=!1,wy.removeEventListener("mousemove",g,!1),wy.removeEventListener("mouseup",b,!1),f)return f=!1,a({event:e})}function m(e){if(e.button===Oy)return s&&e.stopPropagation(),p=!0,d=e.clientX,h=e.clientY,wy.addEventListener("mousemove",g,!1),wy.addEventListener("mouseup",b,!1),n({event:e})}return m}var xy,Ey,Sy,jy,Py,ky,Ay,Ny,My,Dy,Ty,Cy,Iy,Ry=function(){function e(t){var n=this,r=t.onDragStart,o=void 0===r?yy:r,i=t.onDraging,a=void 0===i?yy:i,u=t.onDragEnd,c=void 0===u?yy:u,l=t.eventType,s=void 0===l?"":l,f=t.eventCenter,p=void 0===f?null:f,d=t.step,h=void 0===d?1:d,y=t.isStopPropagation,v=void 0===y||y,g=t.model,b=void 0===g?null:g;vy(this,e),my(this,"onDragStart",void 0),my(this,"onDraging",void 0),my(this,"onDragEnd",void 0),my(this,"step",void 0),my(this,"isStopPropagation",void 0),my(this,"isDraging",!1),my(this,"isStartDraging",!1),my(this,"startX",0),my(this,"startY",0),my(this,"sumDeltaX",0),my(this,"sumDeltaY",0),my(this,"eventType",void 0),my(this,"eventCenter",void 0),my(this,"model",void 0),my(this,"startTime",void 0),my(this,"isGrag",void 0),my(this,"handleMouseDown",(function(e){var t,r;if(e.button===Oy){n.isStopPropagation&&e.stopPropagation(),n.isStartDraging=!0,n.startX=e.clientX,n.startY=e.clientY,wy.addEventListener("mousemove",n.handleMouseMove,!1),wy.addEventListener("mouseup",n.handleMouseUp,!1);var o=null===(t=n.model)||void 0===t?void 0:t.getData();null===(r=n.eventCenter)||void 0===r||r.emit(jc["".concat(n.eventType,"_MOUSEDOWN")],{e:e,data:o}),n.startTime=(new Date).getTime()}})),my(this,"handleMouseMove",(function(e){if(n.isStopPropagation&&e.stopPropagation(),n.isStartDraging&&(n.sumDeltaX+=e.clientX-n.startX,n.sumDeltaY+=e.clientY-n.startY,n.startX=e.clientX,n.startY=e.clientY,n.step<=1||Math.abs(n.sumDeltaX)>n.step||Math.abs(n.sumDeltaY)>n.step)){var t,r=n.sumDeltaX%n.step,o=n.sumDeltaY%n.step,i=n.sumDeltaX-r,a=n.sumDeltaY-o;n.sumDeltaX=r,n.sumDeltaY=o;var u,c=null===(t=n.model)||void 0===t?void 0:t.getData();if(!n.isDraging)null===(u=n.eventCenter)||void 0===u||u.emit(jc["".concat(n.eventType,"_DRAGSTART")],{e:e,data:c}),n.onDragStart({event:e});n.isDraging=!0,Promise.resolve().then((function(){var t,r;n.onDraging({deltaX:i,deltaY:a,event:e}),null===(t=n.eventCenter)||void 0===t||t.emit(jc["".concat(n.eventType,"_MOUSEMOVE")],{e:e,data:c}),null===(r=n.eventCenter)||void 0===r||r.emit(jc["".concat(n.eventType,"_DRAG")],{e:e,data:c})}))}})),my(this,"handleMouseUp",(function(e){n.isStartDraging=!1,n.isStopPropagation&&e.stopPropagation(),Promise.resolve().then((function(){var t,r,o;wy.removeEventListener("mousemove",n.handleMouseMove,!1),wy.removeEventListener("mouseup",n.handleMouseUp,!1);var i=null===(t=n.model)||void 0===t?void 0:t.getData();null===(r=n.eventCenter)||void 0===r||r.emit(jc["".concat(n.eventType,"_MOUSEUP")],{e:e,data:i}),n.isDraging&&(n.isDraging=!1,n.onDragEnd({event:e}),null===(o=n.eventCenter)||void 0===o||o.emit(jc["".concat(n.eventType,"_DROP")],{e:e,data:i}))}))})),my(this,"cancelDrag",(function(){wy.removeEventListener("mousemove",n.handleMouseMove,!1),wy.removeEventListener("mouseup",n.handleMouseUp,!1),n.onDragEnd({event:null}),n.isDraging=!1})),this.onDragStart=o,this.onDraging=a,this.onDragEnd=c,this.step=h,this.isStopPropagation=v,this.eventType=s,this.eventCenter=p,this.model=b}return by(e,[{key:"setStep",value:function(e){this.step=e}}]),e}(),Ly=function(e){return e&&"boolean"!==typeof e?Tf(ff(rd),e):ff(!0===e?od:rd)};function By(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?By(Object(n),!0).forEach((function(t){tv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):By(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vy(e,t){return Gy(e)||Fy(e,t)||Yy(e,t)||Hy()}function Hy(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fy(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Gy(e){if(Array.isArray(e))return e}function Uy(e){return Ky(e)||Wy(e)||Yy(e)||Xy()}function Xy(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yy(e,t){if(e){if("string"===typeof e)return Zy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zy(e,t):void 0}}function Wy(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ky(e){if(Array.isArray(e))return Zy(e)}function Zy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qy(e){return qy="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(e)}function Jy(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Qy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ev(e,t,n){return t&&$y(e.prototype,t),n&&$y(e,n),e}function tv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nv(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var rv,ov=200,iv=(xy=function(){function e(t){Qy(this,e),tv(this,"rootEl",void 0),Jy(this,"width",Ey,this),Jy(this,"height",Sy,this),tv(this,"theme",void 0),tv(this,"eventCenter",void 0),tv(this,"modelMap",new Map),tv(this,"topElement",void 0),tv(this,"animation",void 0),tv(this,"idGenerator",void 0),tv(this,"edgeGenerator",void 0),tv(this,"nodeMoveRules",[]),Jy(this,"edgeType",jy,this),Jy(this,"nodes",Py,this),Jy(this,"edges",ky,this),Jy(this,"overlapMode",Ay,this),Jy(this,"background",Ny,this),Jy(this,"transformModel",My,this),Jy(this,"editConfigModel",Dy,this),Jy(this,"gridSize",Ty,this),Jy(this,"partial",Cy,this),Jy(this,"fakerNode",Iy,this);var n=t.container,r=t.background,o=void 0===r?{}:r,i=t.grid,a=t.idGenerator,u=t.edgeGenerator,c=t.animation;this.background=o,"object"===qy(i)&&(this.gridSize=i.size),this.rootEl=n,this.editConfigModel=new Nc(t),this.eventCenter=new Hf,this.transformModel=new $c(this.eventCenter),this.theme=If(t.style),this.edgeType=t.edgeType||"polyline",this.width=t.width,this.height=t.height,this.animation=Ly(c),this.partial=t.partial,this.overlapMode=t.overlapMode||0,this.idGenerator=a,this.edgeGenerator=dy(this,u),this.width=t.width||this.rootEl.getBoundingClientRect().width,this.height=t.height||this.rootEl.getBoundingClientRect().height}return ev(e,[{key:"nodesMap",get:function(){return this.nodes.reduce((function(e,t,n){return e[t.id]={index:n,model:t},e}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(e,t,n){return e[t.id]={index:n,model:t},e}),{})}},{key:"modelsMap",get:function(){return[].concat(Uy(this.nodes),Uy(this.edges)).reduce((function(e,t){return e[t.id]=t,e}),{})}},{key:"sortElements",get:function(){var e=[];this.nodes.forEach((function(t){return e.push(t)})),this.edges.forEach((function(t){return e.push(t)})),e=e.sort((function(e,t){return e.zIndex-t.zIndex}));for(var t=[],n=[-ov,-ov],r=[this.width+ov,this.height+ov],o=0;o<e.length;o++){var i=e[o];i.visible&&(!this.partial||i.isSelected||this.isElementInArea(i,n,r,!1,!1))&&t.push(i)}return t}},{key:"textEditElement",get:function(){var e=this.nodes.find((function(e){return e.state===_c.TEXT_EDIT})),t=this.edges.find((function(e){return e.state===_c.TEXT_EDIT}));return e||t}},{key:"selectElements",get:function(){var e=new Map;return this.nodes.forEach((function(t){t.isSelected&&e.set(t.id,t)})),this.edges.forEach((function(t){t.isSelected&&e.set(t.id,t)})),e}},{key:"getAreaElement",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=[],a=[];this.nodes.forEach((function(e){return a.push(e)})),this.edges.forEach((function(e){return a.push(e)}));for(var u=0;u<a.length;u++){var c=a[u];o&&!c.visible||!this.isElementInArea(c,e,t,n,r)||i.push(c)}return i}},{key:"getModel",value:function(e){return this.modelMap.get(e)}},{key:"getNodeModelById",value:function(e){var t;return this.fakerNode&&e===this.fakerNode.id?this.fakerNode:null===(t=this.nodesMap[e])||void 0===t?void 0:t.model}},{key:"getPointByClient",value:function(e){var t=e.x,n=e.y,r=this.rootEl.getBoundingClientRect(),o={x:t-r.left,y:n-r.top},i=this.transformModel.HtmlPointToCanvasPoint([o.x,o.y]),a=Vy(i,2),u=a[0],c=a[1];return{domOverlayPosition:o,canvasOverlayPosition:{x:u,y:c}}}},{key:"isElementInArea",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(e.BaseType===Sc.NODE){for(var i=Xp(e),a=i.minX,u=i.minY,c=i.maxX,l=i.maxY,s=[{x:a,y:u},{x:c,y:u},{x:c,y:l},{x:a,y:l}],f=o,p=0;p<s.length;p++){var d=s[p],h=d.x,y=d.y,v=this.transformModel.CanvasPointToHtmlPoint([h,y]),g=Vy(v,2);if(h=g[0],y=g[1],Jf([h,y],t,n)!==o){f=!o;break}}return f}if(e.BaseType===Sc.EDGE){var b=e,m=b.startPoint,w=b.endPoint,O=this.transformModel.CanvasPointToHtmlPoint([m.x,m.y]),_=this.transformModel.CanvasPointToHtmlPoint([w.x,w.y]),x=Jf(O,t,n),E=Jf(_,t,n);return r?x&&E:x||E}return!1}},{key:"graphDataToModel",value:function(e){var t=this;this.width&&this.height||this.resize(),this.nodes=Qa(e.nodes,(function(e){var n=t.getModel(e.type);if(!n)throw new Error("".concat(e.type,""));var r=e.x,o=e.y;return r&&o&&(e.x=Ff(r,t.gridSize),e.y=Ff(o,t.gridSize),"object"===qy(e.text)&&(e.text.x-=Gf(r,t.gridSize),e.text.y-=Gf(o,t.gridSize))),new n(e,t)})),this.edges=Qa(e.edges,(function(e){var n=t.getModel(e.type);if(!n)throw new Error("".concat(e.type,""));return new n(e,t)}))}},{key:"modelToGraphData",value:function(){var e=[];this.edges.forEach((function(t){var n=t.getData();n&&!t.virtual&&e.push(n)}));var t=[];return this.nodes.forEach((function(e){var n=e.getData();n&&!e.virtual&&t.push(n)})),{nodes:t,edges:e}}},{key:"modelToHistoryData",value:function(){for(var e=!1,t=[],n=0;n<this.nodes.length;n++){var r=this.nodes[n];if(r.isDragging){e=!0;break}t.push(r.getHistoryData())}if(e)return!1;for(var o=!1,i=[],a=0;a<this.edges.length;a++){var u=this.edges[a];if(u.isDragging){o=!0;break}i.push(u.getHistoryData())}return!o&&{nodes:t,edges:i}}},{key:"getEdgeModelById",value:function(e){var t;return null===(t=this.edgesMap[e])||void 0===t?void 0:t.model}},{key:"getElement",value:function(e){return this.modelsMap[e]}},{key:"getNodeEdges",value:function(e){for(var t=[],n=0;n<this.edges.length;n++){var r=this.edges[n],o=this.edges[n].sourceNodeId===e,i=this.edges[n].targetNodeId===e;(o||i)&&t.push(r)}return t}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.selectElements,n={nodes:[],edges:[]};return t.forEach((function(r){if(r.BaseType===Sc.NODE&&n.nodes.push(r.getData()),r.BaseType===Sc.EDGE){var o=r.getData(),i=t.get(o.sourceNodeId)&&t.get(o.targetNodeId);(e||i)&&n.edges.push(o)}})),n}},{key:"updateAttributes",value:function(e,t){var n=this.getElement(e);n.updateAttributes(t)}},{key:"changeNodeId",value:function(e,t){return t||(t=sp()),this.nodesMap[t]?(console.warn("".concat(t,", ")),""):this.nodesMap[e]?(this.edges.forEach((function(n){n.sourceNodeId===e&&(n.sourceNodeId=t),n.targetNodeId===e&&(n.targetNodeId=t)})),this.nodesMap[e].model.id=t,t):(console.warn("".concat(t,", ")),"")}},{key:"changeEdgeId",value:function(e,t){return t||(t=sp()),this.edgesMap[t]?(console.warn(": ".concat(t,", ")),""):this.edgesMap[e]?(this.edges.forEach((function(n){n.id===e&&n.changeEdgeId(t)})),t):(console.warn(": ".concat(t,", ")),"")}},{key:"setFakerNode",value:function(e){this.fakerNode=e}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(e,t){return this.modelMap.set(e,t)}},{key:"toFront",value:function(e){var t,n,r=(null===(t=this.nodesMap[e])||void 0===t?void 0:t.model)||(null===(n=this.edgesMap[e])||void 0===n?void 0:n.model);if(r){var o;if(this.overlapMode===Mc.DEFAULT)null===(o=this.topElement)||void 0===o||o.setZIndex(),r.setZIndex(Vc),this.topElement=r;this.overlapMode===Mc.INCREASE&&this.setElementZIndex(e,"top")}}},{key:"setElementZIndex",value:function(e,t){var n,r,o,i=(null===(n=this.nodesMap[e])||void 0===n?void 0:n.model)||(null===(r=this.edgesMap[e])||void 0===r?void 0:r.model);i&&("number"===typeof t&&(o=t),"top"===t&&(o=ld()),"bottom"===t&&(o=sd()),i.setZIndex(o))}},{key:"deleteNode",value:function(e){var t=this.nodesMap[e].model.getData();this.deleteEdgeBySource(e),this.deleteEdgeByTarget(e),this.nodes.splice(this.nodesMap[e].index,1),this.eventCenter.emit(jc.NODE_DELETE,{data:t})}},{key:"addNode",value:function(e){var t=ad(e);t.id&&this.nodesMap[e.id]&&delete t.id;var n=this.getModel(t.type);if(!n)throw new Error("".concat(t.type,""));t.x=Ff(t.x,this.gridSize),t.y=Ff(t.y,this.gridSize);var r=new n(t,this);this.nodes.push(r);var o=r.getData();return this.eventCenter.emit(jc.NODE_ADD,{data:o}),r}},{key:"cloneNode",value:function(e){var t=this.getNodeModelById(e),n=t.getData();n.x+=30,n.y+=30,delete n.id,n.text&&(n.text.x+=30,n.text.y+=30);var r=this.addNode(n);return r.setSelected(!0),t.setSelected(!1),r.getData()}},{key:"moveNode",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[e];if(o){var i=o.model,a=i.getMoveDistance(t,n,r),u=Vy(a,2);t=u[0],n=u[1],this.moveEdge(e,t,n)}else console.warn("id".concat(e,""))}},{key:"moveNode2Coordinate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[e];if(o){var i=o.model,a=i.x,u=i.y,c=t-a,l=n-u;this.moveNode(e,c,l,r)}else console.warn("id".concat(e,""))}},{key:"editText",value:function(e){this.setElementStateById(e,_c.TEXT_EDIT)}},{key:"addEdge",value:function(e){var t=ad(e),n=t.type;n||(n=this.edgeType),t.id&&this.edgesMap[t.id]&&delete t.id;var r=this.getModel(n);if(!r)throw new Error("".concat(n,""));var o=new r(zy(zy({},t),{},{type:n}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(jc.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(e,t,n){for(var r=0;r<this.edges.length;r++){var o,i=this.edges[r],a=i.textPosition,u=a.x,c=a.y,l=this.edges[r].sourceNodeId===e,s=this.edges[r].targetNodeId===e;if(l&&i.moveStartPoint(t,n),s&&i.moveEndPoint(t,n),l||s)if(!0===i.customTextPosition)i.resetTextPosition();else if(i.modelType===Ec.POLYLINE_EDGE&&null!==(o=i.text)&&void 0!==o&&o.value){var f=i.text,p=sy(f,i.points);i.moveText(p.x-f.x,p.y-f.y)}else{var d=i.textPosition,h=d.x,y=d.y;i.moveText(h-u,y-c)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(e,t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===e&&this.edges[n].targetNodeId===t){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(jc.EDGE_DELETE,{data:r})}}},{key:"deleteEdgeById",value:function(e){var t=this.edgesMap[e];if(t){var n=this.edgesMap[e].index,r=this.edgesMap[e].model.getData();this.edges.splice(n,1),this.eventCenter.emit(jc.EDGE_DELETE,{data:r})}}},{key:"deleteEdgeBySource",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].sourceNodeId===e){var n=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(jc.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeByTarget",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].targetNodeId===e){var n=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(jc.EDGE_DELETE,{data:n})}}},{key:"setElementStateById",value:function(e,t,n){this.nodes.forEach((function(r){r.id===e?r.setElementState(t,n):r.setElementState(_c.DEFAULT)})),this.edges.forEach((function(r){r.id===e?r.setElementState(t,n):r.setElementState(_c.DEFAULT)}))}},{key:"updateText",value:function(e,t){this.nodes.forEach((function(n){n.id===e&&n.updateText(t)})),this.edges.forEach((function(n){n.id===e&&n.updateText(t)}))}},{key:"selectNodeById",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(t=this.nodesMap[e])||void 0===t?void 0:t.model;null===r||void 0===r||r.setSelected(!0)}},{key:"selectEdgeById",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(t=this.edgesMap[e])||void 0===t?void 0:t.model;null===r||void 0===r||r.setSelected(!0)}},{key:"selectElementById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||this.clearSelectElements();var n=this.getElement(e);null===n||void 0===n||n.setSelected(!0)}},{key:"clearSelectElements",value:function(){var e;(this.selectElements.forEach((function(e){null===e||void 0===e||e.setSelected(!1)})),this.selectElements.clear(),this.overlapMode===Mc.DEFAULT)&&(null===(e=this.topElement)||void 0===e||e.setZIndex())}},{key:"moveNodes",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.forEach((function(e){return r.moveNode(e,t,n,o)}))}},{key:"addNodeMoveRules",value:function(e){this.nodeMoveRules.includes(e)||this.nodeMoveRules.push(e)}},{key:"setDefaultEdgeType",value:function(e){this.edgeType=e}},{key:"changeNodeType",value:function(e,t){var n=this.getNodeModelById(e);if(n){var r=n.getData();r.type=t;var o=this.getModel(t);if(!o)throw new Error("".concat(t,""));var i=new o(r,this);this.nodes.splice(this.nodesMap[e].index,1,i);var a=this.getNodeEdges(e);a.forEach((function(t){if(t.sourceNodeId===e){var n=$p(i,t.startPoint,i.width,i.height);t.updateStartPoint(n)}if(t.targetNodeId===e){var r=$p(i,t.endPoint,i.width,i.height);t.updateEndPoint(r)}}))}else console.warn("id".concat(e,""))}},{key:"changeEdgeType",value:function(e,t){var n=this.getEdgeModelById(e);if(n){if(n.type!==t){var r=n.getData();r.type=t;var o=this.getModel(t);if(!o)throw new Error("".concat(t,""));delete r.pointsList;var i=new o(r,this);this.edges.splice(this.edgesMap[e].index,1,i)}}else console.warn("id".concat(e,""))}},{key:"getNodeIncomingEdge",value:function(e){var t=[];return this.edges.forEach((function(n){n.targetNodeId===e&&t.push(n)})),t}},{key:"getNodeOutgoingEdge",value:function(e){var t=[];return this.edges.forEach((function(n){n.sourceNodeId===e&&t.push(n)})),t}},{key:"getNodeIncomingNode",value:function(e){var t=this,n=[];return this.edges.forEach((function(r){r.targetNodeId===e&&n.push(t.nodesMap[r.sourceNodeId].model)})),n}},{key:"getNodeOutgoingNode",value:function(e){var t=this,n=[];return this.edges.forEach((function(r){r.sourceNodeId===e&&n.push(t.nodesMap[r.targetNodeId].model)})),n}},{key:"setTheme",value:function(e){this.theme=If(zy(zy({},this.theme),e))}},{key:"resize",value:function(e,t){this.width=e||this.rootEl.getBoundingClientRect().width,this.height=t||this.rootEl.getBoundingClientRect().height,this.width&&this.height||console.warn("containerDOM@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var e=this.nodes,t=[],n=[];e.forEach((function(e){var r=e.x,o=e.y,i=e.width,a=e.height,u=e.getNodeStyle(),c=u.strokeWidth,l=void 0===c?0:c;t=t.concat([r+i/2+l,r-i/2-l]),n=n.concat([o+a/2+l,o-a/2-l])}));var r=Math.min.apply(Math,Uy(t)),o=Math.max.apply(Math,Uy(t)),i=Math.min.apply(Math,Uy(n)),a=Math.max.apply(Math,Uy(n)),u=o-r||0,c=a-i||0,l=r+u/2,s=i+c/2;return{virtualRectWidth:u,virtualRectHeight:c,virtualRectCenterPositionX:l,virtualRectCenterPositionY:s}}},{key:"translateCenter",value:function(){var e=this.nodes,t=this.width,n=this.height,r=this.rootEl,o=this.transformModel;if(e.length){var i=t||r.clientWidth,a=n||r.clientHeight,u=this.getVirtualRectSize(),c=u.virtualRectCenterPositionX,l=u.virtualRectCenterPositionY;o.focusOn(c,l,i,a)}}},{key:"fitView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=this.nodes,r=this.width,o=this.height,i=this.rootEl,a=this.transformModel;if(n.length){var u=r||i.clientWidth,c=o||i.clientHeight,l=this.getVirtualRectSize(),s=l.virtualRectWidth,f=l.virtualRectHeight,p=l.virtualRectCenterPositionX,d=l.virtualRectCenterPositionY,h=(s+t)/u,y=(f+e)/c,v=0;v=1/Math.max(h,y);var g=[u/2,c/2];a.zoom(v,g),a.focusOn(p,d,u,c)}}},{key:"openEdgeAnimation",value:function(e){var t=this.getEdgeModelById(e);t.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(e){var t=this.getEdgeModelById(e);t.closeEdgeAnimation()}}]),e}(),Ey=nv(xy.prototype,"width",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sy=nv(xy.prototype,"height",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jy=nv(xy.prototype,"edgeType",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Py=nv(xy.prototype,"nodes",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ky=nv(xy.prototype,"edges",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ay=nv(xy.prototype,"overlapMode",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mc.DEFAULT}}),Ny=nv(xy.prototype,"background",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),My=nv(xy.prototype,"transformModel",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dy=nv(xy.prototype,"editConfigModel",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ty=nv(xy.prototype,"gridSize",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Cy=nv(xy.prototype,"partial",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Iy=nv(xy.prototype,"fakerNode",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nv(xy.prototype,"nodesMap",[o["m"]],Object.getOwnPropertyDescriptor(xy.prototype,"nodesMap"),xy.prototype),nv(xy.prototype,"edgesMap",[o["m"]],Object.getOwnPropertyDescriptor(xy.prototype,"edgesMap"),xy.prototype),nv(xy.prototype,"modelsMap",[o["m"]],Object.getOwnPropertyDescriptor(xy.prototype,"modelsMap"),xy.prototype),nv(xy.prototype,"sortElements",[o["m"]],Object.getOwnPropertyDescriptor(xy.prototype,"sortElements"),xy.prototype),nv(xy.prototype,"textEditElement",[o["m"]],Object.getOwnPropertyDescriptor(xy.prototype,"textEditElement"),xy.prototype),nv(xy.prototype,"selectElements",[o["m"]],Object.getOwnPropertyDescriptor(xy.prototype,"selectElements"),xy.prototype),nv(xy.prototype,"setFakerNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"setFakerNode"),xy.prototype),nv(xy.prototype,"removeFakerNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"removeFakerNode"),xy.prototype),nv(xy.prototype,"setModel",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"setModel"),xy.prototype),nv(xy.prototype,"toFront",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"toFront"),xy.prototype),nv(xy.prototype,"setElementZIndex",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"setElementZIndex"),xy.prototype),nv(xy.prototype,"deleteNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"deleteNode"),xy.prototype),nv(xy.prototype,"addNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"addNode"),xy.prototype),nv(xy.prototype,"cloneNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"cloneNode"),xy.prototype),nv(xy.prototype,"moveNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"moveNode"),xy.prototype),nv(xy.prototype,"moveNode2Coordinate",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"moveNode2Coordinate"),xy.prototype),nv(xy.prototype,"editText",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"editText"),xy.prototype),nv(xy.prototype,"addEdge",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"addEdge"),xy.prototype),nv(xy.prototype,"moveEdge",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"moveEdge"),xy.prototype),nv(xy.prototype,"deleteEdgeBySourceAndTarget",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"deleteEdgeBySourceAndTarget"),xy.prototype),nv(xy.prototype,"deleteEdgeById",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"deleteEdgeById"),xy.prototype),nv(xy.prototype,"deleteEdgeBySource",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"deleteEdgeBySource"),xy.prototype),nv(xy.prototype,"deleteEdgeByTarget",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"deleteEdgeByTarget"),xy.prototype),nv(xy.prototype,"setElementStateById",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"setElementStateById"),xy.prototype),nv(xy.prototype,"updateText",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"updateText"),xy.prototype),nv(xy.prototype,"selectNodeById",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"selectNodeById"),xy.prototype),nv(xy.prototype,"selectEdgeById",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"selectEdgeById"),xy.prototype),nv(xy.prototype,"selectElementById",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"selectElementById"),xy.prototype),nv(xy.prototype,"clearSelectElements",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"clearSelectElements"),xy.prototype),nv(xy.prototype,"moveNodes",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"moveNodes"),xy.prototype),nv(xy.prototype,"setDefaultEdgeType",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"setDefaultEdgeType"),xy.prototype),nv(xy.prototype,"changeNodeType",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"changeNodeType"),xy.prototype),nv(xy.prototype,"changeEdgeType",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"changeEdgeType"),xy.prototype),nv(xy.prototype,"getNodeIncomingEdge",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"getNodeIncomingEdge"),xy.prototype),nv(xy.prototype,"getNodeOutgoingEdge",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"getNodeOutgoingEdge"),xy.prototype),nv(xy.prototype,"getNodeIncomingNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"getNodeIncomingNode"),xy.prototype),nv(xy.prototype,"getNodeOutgoingNode",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"getNodeOutgoingNode"),xy.prototype),nv(xy.prototype,"setTheme",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"setTheme"),xy.prototype),nv(xy.prototype,"resize",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"resize"),xy.prototype),nv(xy.prototype,"clearData",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"clearData"),xy.prototype),nv(xy.prototype,"translateCenter",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"translateCenter"),xy.prototype),nv(xy.prototype,"fitView",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"fitView"),xy.prototype),nv(xy.prototype,"openEdgeAnimation",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"openEdgeAnimation"),xy.prototype),nv(xy.prototype,"closeEdgeAnimation",[o["k"]],Object.getOwnPropertyDescriptor(xy.prototype,"closeEdgeAnimation"),xy.prototype),xy),av=iv;function uv(e){return uv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(e)}function cv(){return cv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cv.apply(this,arguments)}function lv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fv(e,t,n){return t&&sv(e.prototype,t),n&&sv(e,n),e}function pv(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dv(e,t)}function dv(e,t){return dv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dv(e,t)}function hv(e){var t=gv();return function(){var n,r=bv(e);if(t){var o=bv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yv(this,n)}}function yv(e,t){if(t&&("object"===uv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vv(e)}function vv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gv(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function bv(e){return bv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bv(e)}function mv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wv,Ov=BM(rv=function(e){pv(n,e);var t=hv(n);function n(e){var r;lv(this,n),r=t.call(this),mv(vv(r),"stepDrag",void 0),mv(vv(r),"stepScrollX",0),mv(vv(r),"stepScrollY",0),mv(vv(r),"onDraging",(function(e){var t=e.deltaX,n=e.deltaY;r.setState({isDraging:!0});var o=r.props.graphModel,i=o.transformModel,a=o.editConfigModel;a.stopMoveGraph||i.translate(t,n)})),mv(vv(r),"onDragEnd",(function(){r.setState({isDraging:!1})})),mv(vv(r),"zoomHandler",(function(e){var t=r.props,n=t.graphModel,o=n.editConfigModel,i=n.transformModel,a=n.gridSize,u=t.graphModel,c=e.deltaX,l=e.deltaY;if(o.stopScrollGraph||!0===e.ctrlKey){if(!o.stopZoomGraph){e.preventDefault();var s=u.getPointByClient({x:e.clientX,y:e.clientY}),f=s.canvasOverlayPosition,p=f.x,d=f.y;i.zoom(e.deltaY<0,[p,d])}}else{if(e.preventDefault(),r.stepScrollX+=c,r.stepScrollY+=l,Math.abs(r.stepScrollX)>=a){var h=r.stepScrollX%a,y=r.stepScrollX-h;i.translate(-y*i.SCALE_X,0),r.stepScrollX=h}if(Math.abs(r.stepScrollY)>=a){var v=r.stepScrollY%a,g=r.stepScrollY-v;i.translate(0,-g*i.SCALE_Y),r.stepScrollY=v}}})),mv(vv(r),"clickHandler",(function(e){var t=e.target;if("canvas-overlay"===t.getAttribute("name")){var n=r.props.graphModel,o=n.selectElements;o.size>0&&n.clearSelectElements(),n.eventCenter.emit(jc.BLANK_CLICK,{e:e})}})),mv(vv(r),"handleContextMenu",(function(e){var t=e.target;if("canvas-overlay"===t.getAttribute("name")){e.preventDefault();var n=r.props.graphModel,o=n.getPointByClient({x:e.clientX,y:e.clientY});n.eventCenter.emit(jc.BLANK_CONTEXTMENU,{e:e,position:o})}})),mv(vv(r),"mouseDownHandler",(function(e){var t=r.props.graphModel,n=t.eventCenter,o=t.editConfigModel,i=t.transformModel.SCALE_X,a=t.gridSize,u=e.target,c=!o.adjustEdge&&!o.adjustNodePosition;("canvas-overlay"===u.getAttribute("name")||c)&&(o.stopMoveGraph?n.emit(jc.BLANK_MOUSEDOWN,{e:e}):(r.stepDrag.setStep(a*i),r.stepDrag.handleMouseDown(e)),r.clickHandler(e))}));var o=e.graphModel,i=o.gridSize,a=o.eventCenter;return r.stepDrag=new Ry({onDraging:r.onDraging,onDragEnd:r.onDragEnd,step:i,eventType:"BLANK",isStopPropagation:!1,eventCenter:a,model:null}),r.state={isDraging:!1},r}return fv(n,[{key:"render",value:function(){var e=this.props.graphModel.transformModel,t=e.getTransformStyle(),n=t.transform,r=this.props,o=r.children,i=r.dnd,a=this.state.isDraging;return Object(de["g"])("svg",cv({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:a?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},i.eventMap()),Object(de["g"])("g",{transform:n},o))}}]),n}(de["a"]))||rv,_v=Ov;function xv(e){return xv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(e)}function Ev(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jv(e,t,n){return t&&Sv(e.prototype,t),n&&Sv(e,n),e}function Pv(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kv(e,t)}function kv(e,t){return kv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kv(e,t)}function Av(e){var t=Dv();return function(){var n,r=Tv(e);if(t){var o=Tv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nv(this,n)}}function Nv(e,t){if(t&&("object"===xv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mv(e)}function Mv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dv(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Tv(e){return Tv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tv(e)}function Cv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Iv=BM(wv=function(e){Pv(n,e);var t=Av(n);function n(){var e;Ev(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Cv(Mv(e),"setToolOverlayRef",(function(t){var n=e.props.tool,r=n.getInstance();r.components.forEach((function(e){return e(r,t)})),r.components=[]})),e}return jv(n,[{key:"getTools",value:function(){var e=this.props,t=e.tool,n=e.graphModel,r=t.getTools(),o=r.map((function(e){return Object(de["g"])(e,{graphModel:n,logicFlow:t.instance})}));return t.components=o,o}},{key:"render",value:function(){return Object(de["g"])("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),n}(de["a"]))||wv;function Rv(e){return Rv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(e)}function Lv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zv(e,t,n){return t&&Bv(e.prototype,t),n&&Bv(e,n),e}function Vv(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hv(e,t)}function Hv(e,t){return Hv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hv(e,t)}function Fv(e){var t=Xv();return function(){var n,r=Yv(e);if(t){var o=Yv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gv(this,n)}}function Gv(e,t){if(t&&("object"===Rv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Uv(e)}function Uv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xv(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Yv(e){return Yv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yv(e)}var Wv,Kv=function(e){Vv(n,e);var t=Fv(n);function n(){return Lv(this,n),t.apply(this,arguments)}return zv(n,[{key:"render",value:function(){var e=this.props.background;return Object(de["g"])("div",{className:"lf-background"},Object(de["g"])("div",{style:e,className:"lf-background-area"}))}}]),n}(de["a"]);function Zv(e){return Zv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(e)}function qv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qv(e,t,n){return t&&Jv(e.prototype,t),n&&Jv(e,n),e}function $v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eg(e,t)}function eg(e,t){return eg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},eg(e,t)}function tg(e){var t=og();return function(){var n,r=ig(e);if(t){var o=ig(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ng(this,n)}}function ng(e,t){if(t&&("object"===Zv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rg(e)}function rg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function og(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ig(e){return ig=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ig(e)}function ag(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ug=BM(Wv=function(e){$v(n,e);var t=tg(n);function n(){var e;qv(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),ag(rg(e),"id",sp()),e}return Qv(n,[{key:"renderDot",value:function(){var e=this.props,t=e.config,n=t.color,r=t.thickness,o=void 0===r?2:r,i=e.size,a=e.visible,u=Math.min(Math.max(2,o),i/2),c=1;return a||(c=0),Object(de["g"])("rect",{width:u,height:u,rx:u/2,ry:u/2,fill:n,opacity:c})}},{key:"renderMesh",value:function(){var e=this.props,t=e.config,n=t.color,r=t.thickness,o=void 0===r?1:r,i=e.size,a=e.visible,u=Math.min(Math.max(1,o),i/2),c="M ".concat(i," 0 H0 M0 0 V0 ").concat(i),l=1;return a||(l=0),Object(de["g"])("path",{d:c,stroke:n,strokeWidth:u,opacity:l})}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=e.graphModel.transformModel,o=r.SCALE_X,i=r.SKEW_Y,a=r.SKEW_X,u=r.SCALE_Y,c=r.TRANSLATE_X,l=r.TRANSLATE_Y,s=[o,i,a,u,c,l].join(","),f="matrix(".concat(s,")");return Object(de["g"])("div",{className:"lf-grid"},Object(de["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(de["g"])("defs",null,Object(de["g"])("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:f,x:"0",y:"0",width:n,height:n},"dot"===t&&this.renderDot(),"mesh"===t&&this.renderMesh())),Object(de["g"])("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),n}(de["a"]))||Wv;ug.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};n(52);function cg(e){return cg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(e)}function lg(e,t){return hg(e)||dg(e,t)||fg(e,t)||sg()}function sg(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fg(e,t){if(e){if("string"===typeof e)return pg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pg(e,t):void 0}}function pg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dg(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function hg(e){if(Array.isArray(e))return e}function yg(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach((function(e){var n=lg(e,2),r=n[0],o=n[1];if("style"===r)t[r]=o;else{var i=cg(o);"object"!==i&&(t[r]=o)}})),Object(de["g"])("line",t)}var vg,gg=yg;function bg(e){return bg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(e)}function mg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mg(Object(n),!0).forEach((function(t){Og(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Og(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eg(e,t,n){return t&&xg(e.prototype,t),n&&xg(e,n),e}function Sg(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jg(e,t)}function jg(e,t){return jg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jg(e,t)}function Pg(e){var t=Ng();return function(){var n,r=Mg(e);if(t){var o=Mg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kg(this,n)}}function kg(e,t){if(t&&("object"===bg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ag(e)}function Ag(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ng(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Mg(e){return Mg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mg(e)}var Dg,Tg=BM(vg=function(e){Sg(n,e);var t=Pg(n);function n(){return _g(this,n),t.apply(this,arguments)}return Eg(n,[{key:"render",value:function(){var e=this.props.snaplineModel,t=e.position,n=e.isShowHorizontal,r=e.isShowVertical,o=e.getStyle(),i=t.x,a=void 0===i?0:i,u=t.y,c=void 0===u?0:u,l=wg(wg({x1:-1e5,y1:c,x2:1e5,y2:c},o),{},{stroke:n?o.stroke:"none"}),s=wg(wg({x1:a,y1:-1e5,x2:a,y2:1e5},o),{},{stroke:r?o.stroke:"none"});return Object(de["g"])("g",{className:"lf-snapline"},Object(de["g"])(gg,l),Object(de["g"])(gg,s))}}]),n}(de["a"]))||vg;function Cg(e){return Cg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(e)}function Ig(e,t){return Vg(e)||zg(e,t)||Lg(e,t)||Rg()}function Rg(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lg(e,t){if(e){if("string"===typeof e)return Bg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bg(e,t):void 0}}function Bg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zg(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Vg(e){if(Array.isArray(e))return e}function Hg(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.className,a=e.radius,u=t-r/2,c=n-o/2,l={};return Object.entries(e).forEach((function(e){var t=Ig(e,2),n=t[0],r=t[1],o=Cg(r);"object"!==o&&(l[n]=r)})),l.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",a&&(l.rx=a,l.ry=a),l.x=u,l.y=c,Object(de["g"])("rect",l)}function Fg(e){return Fg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(e)}function Gg(){return Gg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gg.apply(this,arguments)}function Ug(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ug(Object(n),!0).forEach((function(t){Yg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ug(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zg(e,t,n){return t&&Kg(e.prototype,t),n&&Kg(e,n),e}function qg(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jg(e,t)}function Jg(e,t){return Jg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jg(e,t)}function Qg(e){var t=tb();return function(){var n,r=nb(e);if(t){var o=nb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $g(this,n)}}function $g(e,t){if(t&&("object"===Fg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eb(e)}function eb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tb(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function nb(e){return nb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nb(e)}Hg.defaultProps={className:"",radius:""};var rb,ob=BM(Dg=function(e){qg(n,e);var t=Qg(n);function n(){return Wg(this,n),t.apply(this,arguments)}return Zg(n,[{key:"getNodesOutline",value:function(){var e=this.props.graphModel,t=e.nodes,n=e.editConfigModel,r=n.hoverOutline,o=n.nodeSelectedOutline,i=[];return t.forEach((function(e){if(e.isHovered||e.isSelected){var t=e.isHovered,n=e.isSelected,a=e.x,u=e.y,c=e.width,l=e.height;if(o&&n||r&&t){var s=e.getOutlineStyle(),f={};if(Object.keys(s).forEach((function(e){"hover"!==e&&(f[e]=s[e])})),t){var p=s.hover;f=Xg(Xg({},f),p)}i.push(Object(de["g"])(Hg,Gg({className:"lf-outline-node",x:a,y:u,width:c+10,height:l+10},f)))}}})),i}},{key:"getEdgeOutline",value:function(){for(var e=this.props.graphModel,t=e.edges,n=e.editConfigModel,r=n.edgeSelectedOutline,o=n.hoverOutline,i=[],a=0;a<t.length;a++){var u=t[a];(r&&u.isSelected||o&&u.isHovered)&&(u.modelType===Ec.LINE_EDGE?i.push(this.getLineOutline(u)):u.modelType===Ec.POLYLINE_EDGE?i.push(this.getPolylineOutline(u)):u.modelType===Ec.BEZIER_EDGE&&i.push(this.getBezierOutline(u)))}return i}},{key:"getLineOutline",value:function(e){var t=e.startPoint,n=e.endPoint,r=(t.x+n.x)/2,o=(t.y+n.y)/2,i=Math.abs(t.x-n.x)+10,a=Math.abs(t.y-n.y)+10,u=e.getOutlineStyle();return Object(de["g"])(Hg,Gg({className:"lf-outline-edge",x:r,y:o,width:i,height:a},u))}},{key:"getPolylineOutline",value:function(e){var t=e.points,n=ty(t),r=Dh(n,8),o=r.x,i=r.y,a=r.width,u=r.height,c=e.getOutlineStyle();return Object(de["g"])(Hg,Gg({className:"lf-outline",x:o,y:i,width:a,height:u},c))}},{key:"getBezierOutline",value:function(e){var t=e.path,n=uy(t),r=Dh(n,8),o=r.x,i=r.y,a=r.width,u=r.height,c=e.getOutlineStyle();return Object(de["g"])(Hg,Gg({className:"lf-outline",x:o,y:i,width:a,height:u},c))}},{key:"render",value:function(){return Object(de["g"])("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),n}(de["a"]))||Dg;function ib(e){return ib="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(e)}function ab(e,t){return fb(e)||sb(e,t)||cb(e,t)||ub()}function ub(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cb(e,t){if(e){if("string"===typeof e)return lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lb(e,t):void 0}}function lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sb(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function fb(e){if(Array.isArray(e))return e}function pb(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.r,a=void 0===i?4:i,u=e.className,c={cx:n,cy:o,r:a,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach((function(e){var t=ab(e,2),n=t[0],r=t[1],o=ib(r);"object"!==o&&(c[n]=r)})),c.className=u?"lf-basic-shape ".concat(u):"lf-basic-shape",Object(de["g"])("circle",c)}function db(e){return db="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(e)}function hb(e,t){return mb(e)||bb(e,t)||vb(e,t)||yb()}function yb(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vb(e,t){if(e){if("string"===typeof e)return gb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gb(e,t):void 0}}function gb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bb(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function mb(e){if(Array.isArray(e))return e}function wb(){return wb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wb.apply(this,arguments)}function Ob(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xb(e,t,n){return t&&_b(e.prototype,t),n&&_b(e,n),e}function Eb(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sb(e,t)}function Sb(e,t){return Sb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sb(e,t)}function jb(e){var t=Ab();return function(){var n,r=Nb(e);if(t){var o=Nb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pb(this,n)}}function Pb(e,t){if(t&&("object"===db(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kb(e)}function kb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ab(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nb(e)}function Mb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Db,Tb=function(e){Eb(n,e);var t=jb(n);function n(){var e;return Ob(this,n),e=t.call(this),Mb(kb(e),"dragHandler",void 0),Mb(kb(e),"onDraging",(function(t){var n=t.event,r=e.props,o=r.graphModel,i=r.bezierModel,a=r.type,u=o.getPointByClient({x:n.clientX,y:n.clientY}),c=u.canvasOverlayPosition,l=c.x,s=c.y;i.updateAdjustAnchor({x:l,y:s},a)})),Mb(kb(e),"onDragEnd",(function(){var t=e.props.bezierModel;t.isDragging=!1})),e.dragHandler=new Ry({onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return xb(n,[{key:"render",value:function(){var e=this,t=this.props.position,n=t.x,r=t.y,o=this.props.bezierModel,i=o.getEdgeStyle(),a=i.adjustAnchor;return Object(de["g"])(pb,wb({className:"lf-bezier-adjust-anchor",x:n,y:r},a,{onMouseDown:function(t){e.dragHandler.handleMouseDown(t)}}))}}]),n}(de["a"]),Cb=BM(rb=function(e){Eb(n,e);var t=jb(n);function n(){return Ob(this,n),t.apply(this,arguments)}return xb(n,[{key:"getBezierAdjust",value:function(e,t){var n=e.path,r=e.id,o=uy(n),i=hb(o,4),a=i[0],u=i[1],c=i[2],l=i[3],s=e.getEdgeStyle(),f=s.adjustLine,p=[];return p.push(Object(de["g"])(gg,wb({x1:a.x,y1:a.y,x2:u.x,y2:u.y},f))),p.push(Object(de["g"])(Tb,{position:u,bezierModel:e,graphModel:t,key:"".concat(r,"_ePre"),type:"sNext"})),p.push(Object(de["g"])(gg,wb({x1:l.x,y1:l.y,x2:c.x,y2:c.y},f))),p.push(Object(de["g"])(Tb,{position:c,bezierModel:e,graphModel:t,key:"".concat(r,"_sNext"),type:"ePre"})),p}},{key:"selectedBezierEdge",value:function(){for(var e=this.props.graphModel,t=e.edges,n=[],r=0;r<t.length;r++){var o=t[r];o.isSelected&&o.modelType===Ec.BEZIER_EDGE&&o.draggable&&n.push(this.getBezierAdjust(o,e))}return n}},{key:"render",value:function(){return Object(de["g"])("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(de["a"]))||rb;function Ib(e){return Ib="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(e)}function Rb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bb(e,t,n){return t&&Lb(e.prototype,t),n&&Lb(e,n),e}function zb(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vb(e,t)}function Vb(e,t){return Vb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vb(e,t)}function Hb(e){var t=Ub();return function(){var n,r=Xb(e);if(t){var o=Xb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fb(this,n)}}function Fb(e,t){if(t&&("object"===Ib(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gb(e)}function Gb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ub(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Xb(e){return Xb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xb(e)}var Yb,Wb=BM(Db=function(e){zb(n,e);var t=Hb(n);function n(){return Rb(this,n),t.apply(this,arguments)}return Bb(n,[{key:"render",value:function(){var e=this.props.graphModel.transformModel,t=e.getTransformStyle(),n=t.transform,r=this.props.children;return Object(de["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(de["g"])("g",{transform:n},r))}}]),n}(de["a"]))||Db;function Kb(e){return Kb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(e)}function Zb(){return Zb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(this,arguments)}function qb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qb(e,t,n){return t&&Jb(e.prototype,t),n&&Jb(e,n),e}function $b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&em(e,t)}function em(e,t){return em=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},em(e,t)}function tm(e){var t=om();return function(){var n,r=im(e);if(t){var o=im(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nm(this,n)}}function nm(e,t){if(t&&("object"===Kb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rm(e)}function rm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function om(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function im(e){return im=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},im(e)}var am=BM(Yb=function(e){$b(n,e);var t=tm(n);function n(){return qb(this,n),t.apply(this,arguments)}return Qb(n,[{key:"getComponent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas-overlay",r=this.props.getView,o=r(e.type);return Object(de["g"])(o,{key:e.id,model:e,graphModel:t,overlay:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.graphModel,r=t.tool,o=t.options,i=t.dnd,a=t.snaplineModel,u={};o.width&&(u.width="".concat(n.width,"px")),o.height&&(u.height="".concat(n.height,"px"));var c=n.fakerNode,l=n.editConfigModel,s=l.adjustEdge;return Object(de["g"])("div",{className:"lf-graph",style:u},Object(de["g"])(_v,{graphModel:n,dnd:i},Object(de["g"])("g",{className:"lf-base"},Qa(n.sortElements,(function(t){return e.getComponent(t,n)}))),c?this.getComponent(c,n):""),Object(de["g"])(Wb,{graphModel:n},Object(de["g"])(ob,{graphModel:n}),s?Object(de["g"])(Cb,{graphModel:n}):"",!1!==o.snapline?Object(de["g"])(Tg,{snaplineModel:a}):""),Object(de["g"])(Iv,{graphModel:n,tool:r}),o.background&&Object(de["g"])(Kv,{background:o.background}),o.grid&&Object(de["g"])(ug,Zb({},o.grid,{graphModel:n})))}}]),n}(de["a"]))||Yb,um=am;function cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cm(Object(n),!0).forEach((function(t){dm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pm(e,t,n){return t&&fm(e.prototype,t),n&&fm(e,n),e}function dm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hm=function(){function e(t){var n=this;sm(this,e),dm(this,"nodeConfig",void 0),dm(this,"lf",void 0),dm(this,"fakerNode",void 0),dm(this,"stopDrag",(function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)})),dm(this,"dragEnter",(function(e){n.nodeConfig&&!n.fakerNode&&(n.fakerNode=n.lf.createFakerNode(lm(lm({},n.nodeConfig),n.clientToLocalPoint({x:e.clientX,y:e.clientY}))))})),dm(this,"onDragOver",(function(e){if(e.preventDefault(),n.fakerNode){var t=n.clientToLocalPoint({x:e.clientX,y:e.clientY}),r=t.x,o=t.y;n.fakerNode.moveTo(r,o);var i=n.fakerNode.getData();n.lf.setNodeSnapLine(i),n.lf.graphModel.eventCenter.emit(jc.NODE_DND_DRAG,{data:i})}return!1})),dm(this,"onDragLeave",(function(){n.fakerNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)})),dm(this,"onDrop",(function(e){if(n.lf.graphModel&&e&&n.nodeConfig){var t=n.lf.addNode(lm(lm({},n.nodeConfig),n.clientToLocalPoint({x:e.clientX,y:e.clientY})));e.preventDefault(),e.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null;var r=t.getData();n.lf.graphModel.eventCenter.emit(jc.NODE_DND_ADD,{data:r,e:e})}}));var r=t.lf;this.lf=r}return pm(e,[{key:"clientToLocalPoint",value:function(e){var t=e.x,n=e.y,r=ba(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:t,y:n}),i=o.canvasOverlayPosition,a=i.x,u=i.y;return{x:Ff(a,r),y:Ff(u,r)}}},{key:"startDrag",value:function(e){this.nodeConfig=e,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function ym(e){var t=e.container,n=e.grid,r=e.width,o=e.height;if(!t)throw new Error(" container ");if("string"===typeof r||"string"===typeof o)throw new Error("widthheight");return n&&(e.grid=Cu({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Cu({},bm,e)}var vm,gm,bm={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function mm(e){return mm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(e)}function wm(e,t){return Sm(e)||Em(e,t)||_m(e,t)||Om()}function Om(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _m(e,t){if(e){if("string"===typeof e)return xm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xm(e,t):void 0}}function xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Em(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Sm(e){if(Array.isArray(e))return e}function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jm(Object(n),!0).forEach((function(t){Hm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function km(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Am(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mm(e,t,n){return t&&Nm(e.prototype,t),n&&Nm(e,n),e}function Dm(){return Dm="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Tm(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Dm.apply(this,arguments)}function Tm(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=Vm(e),null===e)break;return e}function Cm(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Im(e,t)}function Im(e,t){return Im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Im(e,t)}function Rm(e){var t=zm();return function(){var n,r=Vm(e);if(t){var o=Vm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lm(this,n)}}function Lm(e,t){if(t&&("object"===mm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bm(e)}function Bm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zm(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Vm(e){return Vm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vm(e)}function Hm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fm(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Gm=(vm=function(e){Cm(n,e);var t=Rm(n);function n(){var e;Am(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Hm(Bm(e),"modelType",Ec.BEZIER_EDGE),km(Bm(e),"path",gm,Bm(e)),e}return Mm(n,[{key:"initEdgeData",value:function(e){this.offset=100,Dm(Vm(n.prototype),"initEdgeData",this).call(this,e)}},{key:"getEdgeStyle",value:function(){var e=this.graphModel.theme.bezier,t=Dm(Vm(n.prototype),"getEdgeStyle",this).call(this);return Pm(Pm({},t),ff(e))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var e=0,t=0;return this.pointsList.forEach((function(n){var r=n.x,o=n.y;e+=r,t+=o})),{x:e/this.pointsList.length,y:t/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var e=Dm(Vm(n.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){var t=e.x,n=e.y;return{x:t,y:n}}));return Pm(Pm({},e),{},{pointsList:t})}},{key:"getControls",value:function(){var e=this.startPoint,t=this.endPoint,n=ay({start:e,end:t,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return n}},{key:"getPath",value:function(e){var t=wm(e,4),n=t[0],r=t[1],o=t[2],i=t[3];return"M ".concat(n.x," ").concat(n.y,"\n    C ").concat(r.x," ").concat(r.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var e=this.getControls(),t=e.sNext,n=e.ePre;this.updatePath(t,n)}},{key:"updatePath",value:function(e,t){var n={x:this.startPoint.x,y:this.startPoint.y},r={x:this.endPoint.x,y:this.endPoint.y};if(!e||!t){var o=this.getControls();e=o.sNext,t=o.ePre}this.pointsList=[n,e,t,r],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"moveStartPoint",value:function(e,t){this.startPoint.x+=e,this.startPoint.y+=t;var n=wm(this.pointsList,3),r=n[1],o=n[2];r.x+=e,r.y+=t,this.updatePath(r,o)}},{key:"moveEndPoint",value:function(e,t){this.endPoint.x+=e,this.endPoint.y+=t;var n=wm(this.pointsList,3),r=n[1],o=n[2];o.x+=e,o.y+=t,this.updatePath(r,o)}},{key:"updateAdjustAnchor",value:function(e,t){"sNext"===t?this.pointsList[1]=e:"ePre"===t&&(this.pointsList[2]=e),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var e=this.pointsList;return e[e.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint,r=e.sourceNode,o=e.targetNode,i=ay({start:t,end:n,sourceNode:r,targetNode:o,offset:this.offset}),a=i.sNext,u=i.ePre;this.pointsList=[t,a,u,n],this.initPoints()}}]),n}(wd),gm=Fm(vm.prototype,"path",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fm(vm.prototype,"initPoints",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"initPoints"),vm.prototype),Fm(vm.prototype,"updatePoints",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"updatePoints"),vm.prototype),Fm(vm.prototype,"updateStartPoint",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"updateStartPoint"),vm.prototype),Fm(vm.prototype,"updateEndPoint",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"updateEndPoint"),vm.prototype),Fm(vm.prototype,"moveStartPoint",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"moveStartPoint"),vm.prototype),Fm(vm.prototype,"moveEndPoint",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"moveEndPoint"),vm.prototype),Fm(vm.prototype,"updateAdjustAnchor",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"updateAdjustAnchor"),vm.prototype),Fm(vm.prototype,"getAdjustStart",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"getAdjustStart"),vm.prototype),Fm(vm.prototype,"getAdjustEnd",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"getAdjustEnd"),vm.prototype),Fm(vm.prototype,"updateAfterAdjustStartAndEnd",[o["k"]],Object.getOwnPropertyDescriptor(vm.prototype,"updateAfterAdjustStartAndEnd"),vm.prototype),vm);function Um(e){return null==e}var Xm,Ym,Wm,Km,Zm,qm,Jm,Qm,$m,ew,tw,nw,rw,ow,iw,aw,uw,cw,lw,sw,fw=Um;function pw(e){return pw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pw(e)}function dw(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=hw(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function hw(e,t){if(e){if("string"===typeof e)return yw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yw(e,t):void 0}}function yw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vw(Object(n),!0).forEach((function(t){_w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bw(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function mw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ww(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ow(e,t,n){return t&&ww(e.prototype,t),n&&ww(e,n),e}function _w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xw(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Ew,Sw,jw=(Xm=function(){function e(t,n){mw(this,e),_w(this,"id",sp()),bw(this,"type",Ym,this),bw(this,"x",Wm,this),bw(this,"y",Km,this),bw(this,"text",Zm,this),bw(this,"properties",qm,this),bw(this,"_width",Jm,this),bw(this,"_height",Qm,this),bw(this,"anchorsOffset",$m,this),bw(this,"isSelected",ew,this),bw(this,"isHovered",tw,this),bw(this,"isShowAnchor",nw,this),bw(this,"isDragging",rw,this),bw(this,"isHitable",ow,this),bw(this,"draggable",iw,this),bw(this,"visible",aw,this),_w(this,"virtual",!1),_w(this,"graphModel",void 0),bw(this,"zIndex",uw,this),bw(this,"state",cw,this),bw(this,"autoToFront",lw,this),bw(this,"style",sw,this),_w(this,"BaseType",Sc.NODE),_w(this,"modelType",Ec.NODE),_w(this,"additionStateData",void 0),_w(this,"targetRules",[]),_w(this,"sourceRules",[]),_w(this,"moveRules",[]),_w(this,"hasSetTargetRules",!1),_w(this,"hasSetSourceRules",!1),this.graphModel=n,this.initNodeData(t),this.setAttributes()}return Ow(e,[{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,n=t&&t(e.type);n&&(e.id=n);var r=this.createId();r&&(e.id=r)}this.formatText(e),Cu(this,Qp(e));var o=this.graphModel.overlapMode;o===Mc.INCREASE&&(this.zIndex=e.zIndex||ld())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(e){e.text||(e.text={value:"",x:e.x,y:e.y,draggable:!1,editable:!0}),e.text&&"string"===typeof e.text?e.text={value:e.text,x:e.x,y:e.y,draggable:!1,editable:!0}:e.text&&void 0===e.text.editable&&(e.text.editable=!0)}},{key:"getData",value:function(){var e=this.text,t=e.x,n=e.y,r=e.value,i=this.properties;Object(o["x"])(i)&&(i=Object(o["I"])(i));var a={id:this.id,type:this.type,x:this.x,y:this.y,properties:i};return this.graphModel.overlapMode===Mc.INCREASE&&(a.zIndex=this.zIndex),r&&(a.text={x:t,y:n,value:r}),a}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(o["I"])(this.properties)}},{key:"getNodeStyle",value:function(){return gw(gw({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var e=this.graphModel.theme.nodeText;return ff(e)}},{key:"getAnchorStyle",value:function(e){var t=this.graphModel.theme.anchor;return ff(t)}},{key:"getAnchorLineStyle",value:function(e){var t=this.graphModel.theme.anchorLine;return ff(t)}},{key:"getOutlineStyle",value:function(){var e=this.graphModel.theme.outline;return ff(e)}},{key:"isAllowConnectedAsSource",value:function(e,t,n){var r=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var o,i=!0,a=0;a<r.length;a++){var u=r[a];if(!u.validate.call(this,this,e,t,n)){i=!1,o=u.message;break}}return{isAllPass:i,msg:o}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(e,t,n){var r=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var o,i=!0,a=0;a<r.length;a++){var u=r[a];if(!u.validate.call(this,e,this,t,n)){i=!1,o=u.message;break}}return{isAllPass:i,msg:o}}},{key:"isAllowMoveNode",value:function(e,t){var n,r=!0,o=!0,i=this.moveRules.concat(this.graphModel.nodeMoveRules),a=dw(i);try{for(a.s();!(n=a.n()).done;){var u=n.value,c=u(this,e,t);if(!c)return!1;if("object"===pw(c)){var l=c;if(!1===l.x&&!1===l.y)return!1;r=r&&l.x,o=o&&l.y}}}catch(s){a.e(s)}finally{a.f()}return{x:r,y:o}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var e=this.anchorsOffset,t=this.id,n=this.x,r=this.y;return e&&e.length>0?e.map((function(e,o){return e.length?{id:"".concat(t,"_").concat(o),x:n+e[0],y:r+e[1]}:gw(gw({},e),{},{x:n+e.x,y:r+e.y,id:e.id||"".concat(t,"_").concat(o)})})):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(e){if(!fw(e))for(var t=0;t<this.anchors.length;t++){var n=this.anchors[t];if(n.id===e)return n}}},{key:"addNodeMoveRules",value:function(e){this.moveRules.includes(e)||this.moveRules.push(e)}},{key:"move",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=!1;if(n)r=!0,o=!0;else{var i=this.isAllowMoveNode(e,t);"boolean"===typeof i?(r=i,o=i):(r=i.x,o=i.y)}if(r){var a=this.x+e;this.x=a,this.text&&this.moveText(e,0)}if(o){var u=this.y+t;this.y=u,this.text&&this.moveText(0,t)}return r||o}},{key:"getMoveDistance",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=!1,i=0,a=0;if(n)r=!0,o=!0;else{var u=this.isAllowMoveNode(e,t);"boolean"===typeof u?(r=u,o=u):(r=u.x,o=u.y)}if(r&&e){var c=this.x+e;this.x=c,this.text&&this.moveText(e,0),i=e}if(o&&t){var l=this.y+t;this.y=l,this.text&&this.moveText(0,t),a=t}return[i,a]}},{key:"moveTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e-this.x,o=t-this.y;return!(!n&&!this.isAllowMoveNode(r,o))&&(this.text&&this.text&&this.moveText(r,o),this.x=e,this.y=t,!0)}},{key:"moveText",value:function(e,t){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,u=n.editable;this.text={value:i,editable:u,draggable:a,x:r+e,y:o+t}}},{key:"updateText",value:function(e){this.text=gw(gw({},this.text),{},{value:e})}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e,this.setIsShowAnchor(e)}},{key:"setIsShowAnchor",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isShowAnchor=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"setProperty",value:function(e,t){this.properties=gw(gw({},this.properties),{},_w({},e,ad(t))),this.setAttributes()}},{key:"setProperties",value:function(e){this.properties=gw(gw({},this.properties),ad(e)),this.setAttributes()}},{key:"deleteProperty",value:function(e){delete this.properties[e],this.setAttributes()}},{key:"setStyle",value:function(e,t){this.style=gw(gw({},this.style),{},_w({},e,ad(t)))}},{key:"setStyles",value:function(e){this.style=gw(gw({},this.style),ad(e))}},{key:"updateStyles",value:function(e){this.style=gw({},ad(e))}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.zIndex=e}},{key:"updateAttributes",value:function(e){Cu(this,e)}}]),e}(),Ym=xw(Xm.prototype,"type",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wm=xw(Xm.prototype,"x",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Km=xw(Xm.prototype,"y",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zm=xw(Xm.prototype,"text",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),qm=xw(Xm.prototype,"properties",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Jm=xw(Xm.prototype,"_width",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Qm=xw(Xm.prototype,"_height",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),$m=xw(Xm.prototype,"anchorsOffset",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ew=xw(Xm.prototype,"isSelected",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tw=xw(Xm.prototype,"isHovered",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nw=xw(Xm.prototype,"isShowAnchor",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rw=xw(Xm.prototype,"isDragging",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ow=xw(Xm.prototype,"isHitable",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),iw=xw(Xm.prototype,"draggable",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),aw=xw(Xm.prototype,"visible",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uw=xw(Xm.prototype,"zIndex",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),cw=xw(Xm.prototype,"state",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),lw=xw(Xm.prototype,"autoToFront",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sw=xw(Xm.prototype,"style",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),xw(Xm.prototype,"incoming",[o["m"]],Object.getOwnPropertyDescriptor(Xm.prototype,"incoming"),Xm.prototype),xw(Xm.prototype,"outgoing",[o["m"]],Object.getOwnPropertyDescriptor(Xm.prototype,"outgoing"),Xm.prototype),xw(Xm.prototype,"addNodeMoveRules",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"addNodeMoveRules"),Xm.prototype),xw(Xm.prototype,"move",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"move"),Xm.prototype),xw(Xm.prototype,"getMoveDistance",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"getMoveDistance"),Xm.prototype),xw(Xm.prototype,"moveTo",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"moveTo"),Xm.prototype),xw(Xm.prototype,"moveText",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"moveText"),Xm.prototype),xw(Xm.prototype,"updateText",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"updateText"),Xm.prototype),xw(Xm.prototype,"setSelected",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"setSelected"),Xm.prototype),xw(Xm.prototype,"setHovered",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"setHovered"),Xm.prototype),xw(Xm.prototype,"setIsShowAnchor",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"setIsShowAnchor"),Xm.prototype),xw(Xm.prototype,"setHitable",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"setHitable"),Xm.prototype),xw(Xm.prototype,"setElementState",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"setElementState"),Xm.prototype),xw(Xm.prototype,"setProperty",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"setProperty"),Xm.prototype),xw(Xm.prototype,"setProperties",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"setProperties"),Xm.prototype),xw(Xm.prototype,"deleteProperty",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"deleteProperty"),Xm.prototype),xw(Xm.prototype,"setStyle",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"setStyle"),Xm.prototype),xw(Xm.prototype,"setStyles",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"setStyles"),Xm.prototype),xw(Xm.prototype,"updateStyles",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"updateStyles"),Xm.prototype),xw(Xm.prototype,"setZIndex",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"setZIndex"),Xm.prototype),xw(Xm.prototype,"updateAttributes",[o["k"]],Object.getOwnPropertyDescriptor(Xm.prototype,"updateAttributes"),Xm.prototype),Xm);function Pw(e){return Pw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pw(e)}function kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Aw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kw(Object(n),!0).forEach((function(t){Gw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nw(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Mw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tw(e,t,n){return t&&Dw(e.prototype,t),n&&Dw(e,n),e}function Cw(){return Cw="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Iw(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Cw.apply(this,arguments)}function Iw(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=Fw(e),null===e)break;return e}function Rw(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lw(e,t)}function Lw(e,t){return Lw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lw(e,t)}function Bw(e){var t=Hw();return function(){var n,r=Fw(e);if(t){var o=Fw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zw(this,n)}}function zw(e,t){if(t&&("object"===Pw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vw(e)}function Vw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Fw(e){return Fw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fw(e)}function Gw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uw(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Xw,Yw,Ww,Kw=(Ew=function(e){Rw(n,e);var t=Bw(n);function n(){var e;Mw(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Gw(Vw(e),"modelType",Ec.CIRCLE_NODE),Nw(Vw(e),"r",Sw,Vw(e)),e}return Tw(n,[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var e=Cw(Fw(n.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.circle;return Aw(Aw({},e),ff(t))}},{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.r;return[{x:e,y:t-n,id:"".concat(this.id,"_0")},{x:e+n,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+n,id:"".concat(this.id,"_2")},{x:e-n,y:t,id:"".concat(this.id,"_3")}]}}]),n}(jw),Sw=Uw(Ew.prototype,"r",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Uw(Ew.prototype,"width",[o["m"]],Object.getOwnPropertyDescriptor(Ew.prototype,"width"),Ew.prototype),Uw(Ew.prototype,"height",[o["m"]],Object.getOwnPropertyDescriptor(Ew.prototype,"height"),Ew.prototype),Ew);n(127);function Zw(e){return Zw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zw(e)}function qw(e,t){return tO(e)||eO(e,t)||Qw(e,t)||Jw()}function Jw(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qw(e,t){if(e){if("string"===typeof e)return $w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$w(e,t):void 0}}function $w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eO(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function tO(e){if(Array.isArray(e))return e}function nO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nO(Object(n),!0).forEach((function(t){gO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oO(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function iO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uO(e,t,n){return t&&aO(e.prototype,t),n&&aO(e,n),e}function cO(){return cO="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=lO(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},cO.apply(this,arguments)}function lO(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=vO(e),null===e)break;return e}function sO(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fO(e,t)}function fO(e,t){return fO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fO(e,t)}function pO(e){var t=yO();return function(){var n,r=vO(e);if(t){var o=vO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dO(this,n)}}function dO(e,t){if(t&&("object"===Zw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hO(e)}function hO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yO(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function vO(e){return vO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vO(e)}function gO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bO(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var mO,wO,OO,_O=(Xw=function(e){sO(n,e);var t=pO(n);function n(){var e;iO(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),gO(hO(e),"modelType",Ec.DIAMOND_NODE),oO(hO(e),"rx",Yw,hO(e)),oO(hO(e),"ry",Ww,hO(e)),e}return uO(n,[{key:"getNodeStyle",value:function(){var e=cO(vO(n.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.diamond;return rO(rO({},e),ff(t))}},{key:"points",get:function(){var e=this.x,t=this.y,n=this.rx,r=this.ry;return[[e,t-r],[e+n,t],[e,t+r],[e-n,t]]}},{key:"pointsPosition",get:function(){var e=this.points.map((function(e){return{x:e[0],y:e[1]}}));return e}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=qw(n,1),o=r[0];o<e&&(e=o),o>t&&(t=o)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=qw(n,2),o=r[1];o<e&&(e=o),o>t&&(t=o)})),t-e}},{key:"getDefaultAnchor",value:function(){var e=this;return this.points.map((function(t,n){var r=qw(t,2),o=r[0],i=r[1];return{x:o,y:i,id:"".concat(e.id,"_").concat(n)}}))}}]),n}(jw),Yw=bO(Xw.prototype,"rx",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ww=bO(Xw.prototype,"ry",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),bO(Xw.prototype,"points",[o["m"]],Object.getOwnPropertyDescriptor(Xw.prototype,"points"),Xw.prototype),bO(Xw.prototype,"pointsPosition",[o["m"]],Object.getOwnPropertyDescriptor(Xw.prototype,"pointsPosition"),Xw.prototype),bO(Xw.prototype,"width",[o["m"]],Object.getOwnPropertyDescriptor(Xw.prototype,"width"),Xw.prototype),bO(Xw.prototype,"height",[o["m"]],Object.getOwnPropertyDescriptor(Xw.prototype,"height"),Xw.prototype),Xw);function xO(e){return xO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xO(e)}function EO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EO(Object(n),!0).forEach((function(t){zO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jO(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function PO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AO(e,t,n){return t&&kO(e.prototype,t),n&&kO(e,n),e}function NO(){return NO="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=MO(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},NO.apply(this,arguments)}function MO(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=BO(e),null===e)break;return e}function DO(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TO(e,t)}function TO(e,t){return TO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},TO(e,t)}function CO(e){var t=LO();return function(){var n,r=BO(e);if(t){var o=BO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return IO(this,n)}}function IO(e,t){if(t&&("object"===xO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return RO(e)}function RO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LO(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function BO(e){return BO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},BO(e)}function zO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VO(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var HO,FO,GO=(mO=function(e){DO(n,e);var t=CO(n);function n(){var e;PO(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),zO(RO(e),"modelType",Ec.ELLIPSE_NODE),jO(RO(e),"rx",wO,RO(e)),jO(RO(e),"ry",OO,RO(e)),e}return AO(n,[{key:"getNodeStyle",value:function(){var e=NO(BO(n.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.ellipse;return SO(SO({},e),ff(t))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.rx,r=this.ry;return[{x:e,y:t-r,id:"".concat(this.id,"_0")},{x:e+n,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+r,id:"".concat(this.id,"_2")},{x:e-n,y:t,id:"".concat(this.id,"_3")}]}}]),n}(jw),wO=VO(mO.prototype,"rx",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),OO=VO(mO.prototype,"ry",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),VO(mO.prototype,"width",[o["m"]],Object.getOwnPropertyDescriptor(mO.prototype,"width"),mO.prototype),VO(mO.prototype,"height",[o["m"]],Object.getOwnPropertyDescriptor(mO.prototype,"height"),mO.prototype),mO);function UO(e){return UO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UO(e)}function XO(e,t){return qO(e)||ZO(e,t)||WO(e,t)||YO()}function YO(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function WO(e,t){if(e){if("string"===typeof e)return KO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KO(e,t):void 0}}function KO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZO(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function qO(e){if(Array.isArray(e))return e}function JO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JO(Object(n),!0).forEach((function(t){p_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $O(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function e_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n_(e,t,n){return t&&t_(e.prototype,t),n&&t_(e,n),e}function r_(){return r_="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=o_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},r_.apply(this,arguments)}function o_(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=f_(e),null===e)break;return e}function i_(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a_(e,t)}function a_(e,t){return a_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a_(e,t)}function u_(e){var t=s_();return function(){var n,r=f_(e);if(t){var o=f_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c_(this,n)}}function c_(e,t){if(t&&("object"===UO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l_(e)}function l_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s_(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f_(e){return f_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f_(e)}function p_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d_(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var h_,y_,v_=(HO=function(e){i_(n,e);var t=u_(n);function n(){var e;e_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),p_(l_(e),"modelType",Ec.POLYGON_NODE),$O(l_(e),"points",FO,l_(e)),e}return n_(n,[{key:"getNodeStyle",value:function(){var e=r_(f_(n.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.polygon;return QO(QO({},e),ff(t))}},{key:"pointsPosition",get:function(){var e=this.x,t=this.y,n=this.width,r=this.height,o=this.points.map((function(o){return{x:o[0]+e-n/2,y:o[1]+t-r/2}}));return o}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=XO(n,1),o=r[0];o<e&&(e=o),o>t&&(t=o)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=XO(n,2),o=r[1];o<e&&(e=o),o>t&&(t=o)})),t-e}},{key:"getDefaultAnchor",value:function(){var e=this,t=this.x,n=this.y,r=this.width,o=this.height,i=this.points;return i.map((function(i,a){var u=XO(i,2),c=u[0],l=u[1];return{x:t+c-r/2,y:n+l-o/2,id:"".concat(e.id,"_").concat(a)}}))}}]),n}(jw),FO=d_(HO.prototype,"points",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),d_(HO.prototype,"pointsPosition",[o["m"]],Object.getOwnPropertyDescriptor(HO.prototype,"pointsPosition"),HO.prototype),d_(HO.prototype,"width",[o["m"]],Object.getOwnPropertyDescriptor(HO.prototype,"width"),HO.prototype),d_(HO.prototype,"height",[o["m"]],Object.getOwnPropertyDescriptor(HO.prototype,"height"),HO.prototype),HO);function g_(e){return g_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g_(e)}function b_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b_(Object(n),!0).forEach((function(t){T_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w_(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function O_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function __(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x_(e,t,n){return t&&__(e.prototype,t),n&&__(e,n),e}function E_(){return E_="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=S_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E_.apply(this,arguments)}function S_(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=D_(e),null===e)break;return e}function j_(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P_(e,t)}function P_(e,t){return P_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P_(e,t)}function k_(e){var t=M_();return function(){var n,r=D_(e);if(t){var o=D_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A_(this,n)}}function A_(e,t){if(t&&("object"===g_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N_(e)}function N_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M_(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function D_(e){return D_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D_(e)}function T_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C_(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var I_,R_=(h_=function(e){j_(n,e);var t=k_(n);function n(){var e;O_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),T_(N_(e),"modelType",Ec.RECT_NODE),w_(N_(e),"radius",y_,N_(e)),e}return x_(n,[{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return[{x:e,y:t-r/2,id:"".concat(this.id,"_0")},{x:e+n/2,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+r/2,id:"".concat(this.id,"_2")},{x:e-n/2,y:t,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var e=E_(D_(n.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.rect;return m_(m_({},e),ff(t))}}]),n}(jw),y_=C_(h_.prototype,"radius",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h_);function L_(e){return L_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L_(e)}function B_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B_(Object(n),!0).forEach((function(t){Q_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F_(e,t,n){return t&&H_(e.prototype,t),n&&H_(e,n),e}function G_(){return G_="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=U_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},G_.apply(this,arguments)}function U_(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=J_(e),null===e)break;return e}function X_(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y_(e,t)}function Y_(e,t){return Y_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Y_(e,t)}function W_(e){var t=q_();return function(){var n,r=J_(e);if(t){var o=J_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K_(this,n)}}function K_(e,t){if(t&&("object"===L_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Z_(e)}function Z_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q_(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function J_(e){return J_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},J_(e)}function Q_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $_(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var ex=(I_=function(e){X_(n,e);var t=W_(n);function n(){var e;V_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Q_(Z_(e),"modelType",Ec.TEXT_NODE),e}return F_(n,[{key:"getTextStyle",value:function(){var e=G_(J_(n.prototype),"getTextStyle",this).call(this),t=this.graphModel.theme.text;return z_(z_({},e),ff(t))}},{key:"width",get:function(){var e=String(this.text.value).split(/[\r\n]/g),t=this.getTextStyle(),n=t.fontSize,r=td({rows:e,fontSize:n,rowsLength:e.length}),o=r.width;return o}},{key:"height",get:function(){var e=String(this.text.value).split(/[\r\n]/g),t=this.getTextStyle(),n=t.fontSize,r=td({rows:e,fontSize:n,rowsLength:e.length}),o=r.height;return o}}]),n}(jw),$_(I_.prototype,"width",[o["m"]],Object.getOwnPropertyDescriptor(I_.prototype,"width"),I_.prototype),$_(I_.prototype,"height",[o["m"]],Object.getOwnPropertyDescriptor(I_.prototype,"height"),I_.prototype),I_);function tx(e){return tx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(e)}function nx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ox(e,t,n){return t&&rx(e.prototype,t),n&&rx(e,n),e}function ix(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ax(e,t)}function ax(e,t){return ax=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ax(e,t)}function ux(e){var t=sx();return function(){var n,r=fx(e);if(t){var o=fx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cx(this,n)}}function cx(e,t){if(t&&("object"===tx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lx(e)}function lx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sx(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fx(e){return fx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fx(e)}function px(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dx,hx,yx,vx,gx=function(e){ix(n,e);var t=ux(n);function n(){var e;nx(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),px(lx(e),"modelType",Ec.HTML_NODE),e}return ox(n,[{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return[{x:e,y:t-r/2,id:"".concat(this.id,"_0")},{x:e+n/2,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+r/2,id:"".concat(this.id,"_2")},{x:e-n/2,y:t,id:"".concat(this.id,"_3")}]}}]),n}(jw);function bx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bx(Object(n),!0).forEach((function(t){Ex(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wx(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ox(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xx(e,t,n){return t&&_x(e.prototype,t),n&&_x(e,n),e}function Ex(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sx(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var jx=(dx=function(){function e(t){Ox(this,e),Ex(this,"graphModel",void 0),wx(this,"isShowHorizontal",hx,this),wx(this,"isShowVertical",yx,this),wx(this,"position",vx,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=t}return xx(e,[{key:"getStyle",value:function(){return mx({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(e,t){for(var n=e.x,r=e.y,o=!1,i=!1,a=0;a<t.length;a++){var u=t[a];if(u.id!==e.id&&(n===u.x&&(o=!0),r===u.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:n,y:r}}}},{key:"getHorizontalSnapline",value:function(e,t){var n,r,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Xp(a);else{var u=this.graphModel.getNodeModelById(i);r=Xp(u)}}for(var c=0;c<t.length;c++){var l=t[c];if(l.id!==e.id){var s=Xp(l);if(s.minY===r.minY||s.maxY===r.minY){o=!0,n=r.minY;break}if(s.minY===r.maxY||s.maxY===r.maxY){o=!0,n=r.maxY;break}}}return Cu({isShowHorizontal:o,position:{y:n}})}},{key:"getVerticalSnapline",value:function(e,t){var n,r,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Xp(a);else{var u=this.graphModel.getNodeModelById(i);r=Xp(u)}}for(var c=0;c<t.length;c++){var l=t[c];if(l.id!==e.id){var s=Xp(l);if(s.minX===r.minX||s.maxX===r.minX){o=!0,n=r.minX;break}if(s.minX===r.maxX||s.maxX===r.maxX){o=!0,n=r.maxX;break}}}return Cu({isShowVertical:o,position:{x:n}})}},{key:"getSnapLinePosition",value:function(e,t){var n=this.getCenterSnapLine(e,t),r=n.isShowHorizontal,o=n.isShowVertical;if(!r){var i=this.getHorizontalSnapline(e,t);i.isShowHorizontal&&(n.isShowHorizontal=i.isShowHorizontal,n.position.y=i.position.y)}if(!o){var a=this.getVerticalSnapline(e,t);a.isShowVertical&&(n.isShowVertical=a.isShowVertical,n.position.x=a.position.x)}return n}},{key:"setSnaplineInfo",value:function(e){var t=e.isShowHorizontal,n=e.isShowVertical,r=e.position;this.position=r,this.isShowHorizontal=t,this.isShowVertical=n}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(e){var t=this.graphModel.nodes,n=this.getSnapLinePosition(e,t);this.setSnaplineInfo(n)}}]),e}(),hx=Sx(dx.prototype,"isShowHorizontal",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yx=Sx(dx.prototype,"isShowVertical",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vx=Sx(dx.prototype,"position",[o["C"]],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sx(dx.prototype,"clearSnapline",[o["k"]],Object.getOwnPropertyDescriptor(dx.prototype,"clearSnapline"),dx.prototype),Sx(dx.prototype,"setNodeSnapLine",[o["k"]],Object.getOwnPropertyDescriptor(dx.prototype,"setNodeSnapLine"),dx.prototype),dx),Px=new Map,kx=function(e){var t=sp();function n(){e();var r=Px.get(t);if(r){var o=window.requestAnimationFrame(n);Px.set(t,o)}}var r=window.requestAnimationFrame(n);return Px.set(t,r),t},Ax=function(e){var t=Px.get(e);t&&(window.cancelAnimationFrame(t),Px.delete(e))};function Nx(e){return Nx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(e)}function Mx(){return Mx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mx.apply(this,arguments)}function Dx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dx(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cx(e,t){return zx(e)||Bx(e,t)||Rx(e,t)||Ix()}function Ix(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rx(e,t){if(e){if("string"===typeof e)return Lx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lx(e,t):void 0}}function Lx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bx(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function zx(e){if(Array.isArray(e))return e}function Vx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fx(e,t,n){return t&&Hx(e.prototype,t),n&&Hx(e,n),e}function Gx(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ux(e,t)}function Ux(e,t){return Ux=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ux(e,t)}function Xx(e){var t=Kx();return function(){var n,r=Zx(e);if(t){var o=Zx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yx(this,n)}}function Yx(e,t){if(t&&("object"===Nx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wx(e)}function Wx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kx(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Zx(e){return Zx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zx(e)}function qx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jx=function(e){Gx(n,e);var t=Xx(n);function n(){var e;return Vx(this,n),e=t.call(this),qx(Wx(e),"preTargetNode",void 0),qx(Wx(e),"sourceRuleResults",void 0),qx(Wx(e),"targetRuleResults",void 0),qx(Wx(e),"dragHandler",void 0),qx(Wx(e),"t",void 0),qx(Wx(e),"onDragStart",(function(t){var n=t.event,r=e.props,o=r.anchorData,i=r.nodeModel,a=r.graphModel,u=a.overlapMode;a.selectNodeById(i.id),u!==Mc.INCREASE&&i.autoToFront&&a.toFront(i.id),a.eventCenter.emit(jc.ANCHOR_DRAGSTART,{data:o,e:n,nodeModel:i}),e.setState({startX:o.x,startY:o.y,endX:o.x,endY:o.y})})),qx(Wx(e),"onDraging",(function(t){var n=t.event,r=e.props,o=r.graphModel,i=r.nodeModel,a=r.anchorData,u=o.transformModel,c=o.eventCenter,l=o.width,s=o.height,f=o.editConfigModel,p=f.autoExpand,d=f.stopMoveGraph,h=n.clientX,y=n.clientY,v=o.getPointByClient({x:h,y:y}),g=v.domOverlayPosition,b=g.x,m=g.y,w=v.canvasOverlayPosition,O=w.x,_=w.y;e.t&&Ax(e.t);var x=[],E=10;b<10?x=[E,0]:b+10>l?x=[-E,0]:m<10?x=[0,E]:m+10>s&&(x=[0,-E]),e.setState({endX:O,endY:_,draging:!0}),e.moveAnchorEnd(O,_),x.length>0&&!d&&p&&(e.t=kx((function(){var t=x,n=Cx(t,2),r=n[0],o=n[1];u.translate(r,o);var i=e.state,a=i.endX,c=i.endY;e.setState({endX:a-r,endY:c-o}),e.moveAnchorEnd(a-r,c-o)}))),c.emit(jc.ANCHOR_DRAG,{data:a,e:n,nodeModel:i})})),qx(Wx(e),"onDragEnd",(function(t){e.t&&Ax(e.t),e.checkEnd(t),e.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),e.sourceRuleResults.clear(),e.targetRuleResults.clear();var n=e.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData;r.eventCenter.emit(jc.ANCHOR_DRAGEND,{data:i,e:t,nodeModel:o})})),qx(Wx(e),"checkEnd",(function(t){var n=e.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,a=i.x,u=i.y,c=i.id,l=(r.edgeType,e.state),s=l.endX,f=l.endY,p=l.draging,d=zp({x:s,y:f},r);if(e.preTargetNode&&e.preTargetNode.state!==_c.DEFAULT&&e.preTargetNode.setElementState(_c.DEFAULT),p&&d&&d.node){var h=d.node,y=d.anchor.id,v="".concat(o.id,"_").concat(h.id,"_").concat(y,"_").concat(c),g=e.sourceRuleResults.get(v)||{},b=g.isAllPass,m=g.msg,w=e.targetRuleResults.get(v)||{},O=w.isAllPass,_=w.msg;if(b&&O){h.setElementState(_c.DEFAULT);var x=r.edgeGenerator(o.getData(),r.getNodeModelById(d.node.id).getData()),E=r.addEdge(Tx(Tx({},x),{},{sourceNodeId:o.id,sourceAnchorId:c,startPoint:{x:a,y:u},targetNodeId:d.node.id,targetAnchorId:d.anchor.id,endPoint:{x:d.anchor.x,y:d.anchor.y}})),S=e.props.anchorData;r.eventCenter.emit(jc.ANCHOR_DROP,{data:S,e:t,nodeModel:o,edgeModel:E})}else{var j=h.getData();r.eventCenter.emit(jc.CONNECTION_NOT_ALLOWED,{data:j,msg:_||m})}}})),e.sourceRuleResults=new Map,e.targetRuleResults=new Map,e.state={startX:0,startY:0,endX:0,endY:0,draging:!1},e.dragHandler=new Ry({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return Fx(n,[{key:"getAnchorShape",value:function(){var e=this.props,t=e.anchorData,n=e.style,r=e.node,o=r.getAnchorShape(t);if(o)return o;var i=t.x,a=t.y,u=Tx(Tx({},n),n.hover);return Object(de["g"])("g",null,Object(de["g"])(pb,Mx({className:"lf-node-anchor-hover"},u,{x:i,y:a})),Object(de["g"])(pb,Mx({className:"lf-node-anchor"},n,{x:i,y:a})))}},{key:"moveAnchorEnd",value:function(e,t){var n=this.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,a=zp({x:e,y:t},r);if(a){var u=a.node,c=a.anchor.id;if(this.preTargetNode&&this.preTargetNode!==a.node&&this.preTargetNode.setElementState(_c.DEFAULT),i.id===c)return;this.preTargetNode=u;var l="".concat(o.id,"_").concat(u.id,"_").concat(c,"_").concat(i.id);if(!this.targetRuleResults.has(l)){var s=a.anchor,f=o.isAllowConnectedAsSource(u,i,s),p=u.isAllowConnectedAsTarget(o,i,s);this.sourceRuleResults.set(l,nd(f)),this.targetRuleResults.set(l,nd(p))}var d=this.sourceRuleResults.get(l),h=d.isAllPass,y=this.targetRuleResults.get(l),v=y.isAllPass;h&&v?u.setElementState(_c.ALLOW_CONNECT):u.setElementState(_c.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==_c.DEFAULT&&this.preTargetNode.setElementState(_c.DEFAULT)}},{key:"isShowLine",value:function(){var e=this.state,t=e.startX,n=e.startY,r=e.endX,o=e.endY,i=Fp(t,n,r,o);return i>10}},{key:"render",value:function(){var e=this,t=this.state,n=t.startX,r=t.startY,o=t.endX,i=t.endY,a=this.props,u=a.anchorData.edgeAddable,c=a.edgeStyle;return Object(de["g"])("g",{className:"lf-anchor"},Object(de["g"])("g",{onMouseDown:function(t){!1!==u&&e.dragHandler.handleMouseDown(t)}},this.getAnchorShape()),this.isShowLine()&&Object(de["g"])(gg,Mx({x1:n,y1:r,x2:o,y2:i},c,{"pointer-events":"none"})))}}]),n}(de["a"]),Qx=Jx;n(63);function $x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$x(Object(n),!0).forEach((function(t){tE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nE(e){return nE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nE(e)}function rE(e,t){return cE(e)||uE(e,t)||iE(e,t)||oE()}function oE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function iE(e,t){if(e){if("string"===typeof e)return aE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aE(e,t):void 0}}function aE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uE(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function cE(e){if(Array.isArray(e))return e}function lE(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.value,a=e.fontSize,u=e.fill,c=void 0===u?"currentColor":u,l=e.overflowMode,s=void 0===l?"default":l,f=e.textWidth,p=void 0===f?"":f,d=e.model,h={textAnchor:"middle","dominant-baseline":"middle",x:n,y:o,fill:c};if(Object.entries(e).forEach((function(e){var t=rE(e,2),n=t[0],r=t[1],o=nE(r);"object"!==o&&(h[n]=r)})),i){var y=String(i).split(/[\r\n]/g),v=y.length;if("default"!==s){var g=d.BaseType,b=d.modelType;if(g===Sc.NODE&&b!==Ec.TEXT_NODE||g===Sc.EDGE&&p)return sE(e)}if(v>1){var m=y.map((function(e,t){var r=a+2,i=(t-(v-1)/2)*r;return Object(de["g"])("tspan",{className:"lf-text-tspan",x:n,y:o+i},e)}));return Object(de["g"])("text",h,m)}return Object(de["g"])("text",h,i)}}function sE(e){var t=e.value,n=e.fontSize,r=e.model,o=e.fontFamily,i=void 0===o?"":o,a=e.lineHeight,u=e.wrapPadding,c=void 0===u?"0, 0":u,l=e.overflowMode,s=e.x,f=e.y,p=r.width,d=r.textHeight,h=e.textWidth||p,y=String(t).split(/[\r\n]/g),v=y.length,g=ed({rows:y,style:{fontSize:"".concat(n,"px"),width:"".concat(h,"px"),fontFamily:i,lineHeight:a,padding:c},rowsLength:v,className:"lf-get-text-height"}),b=r.height>g?r.height:g;d&&(b=d);var m="ellipsis"===l;return Object(de["g"])("g",null,Object(de["g"])("foreignObject",{width:h,height:b,x:s-h/2,y:f-b/2},Object(de["g"])("div",{className:"lf-node-text-auto-wrap",style:{minHeight:b,width:h,padding:c}},Object(de["g"])("div",{className:m?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:eE({},e)},y.map((function(e){return Object(de["g"])("div",{className:"lf-node-text--auto-wrap-inner"},e)}))))))}function fE(e){return fE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fE(e)}function pE(){return pE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pE.apply(this,arguments)}function dE(e,t){return bE(e)||gE(e,t)||yE(e,t)||hE()}function hE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yE(e,t){if(e){if("string"===typeof e)return vE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vE(e,t):void 0}}function vE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gE(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function bE(e){if(Array.isArray(e))return e}function mE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OE(e,t,n){return t&&wE(e.prototype,t),n&&wE(e,n),e}function _E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xE(e,t)}function xE(e,t){return xE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xE(e,t)}function EE(e){var t=PE();return function(){var n,r=kE(e);if(t){var o=kE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SE(this,n)}}function SE(e,t){if(t&&("object"===fE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jE(e)}function jE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PE(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function kE(e){return kE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kE(e)}function AE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var NE=function(e){_E(n,e);var t=EE(n);function n(e){var r;mE(this,n),r=t.call(this),AE(jE(r),"dragHandler",void 0),AE(jE(r),"sumDeltaX",0),AE(jE(r),"sumDeltaY",0),AE(jE(r),"stepDrag",void 0),AE(jE(r),"onDraging",(function(e){var t=e.deltaX,n=e.deltaY,o=r.props,i=o.model,a=o.graphModel.transformModel,u=a.fixDeltaXY(t,n),c=dE(u,2),l=c[0],s=c[1];i.moveText(l,s)})),AE(jE(r),"dblClickHandler",(function(){var e=r.props.editable;if(e){var t=r.props.model;t.setElementState(_c.TEXT_EDIT)}})),AE(jE(r),"mouseDownHandle",(function(e){var t=r.props,n=t.draggable,o=t.graphModel.editConfigModel.nodeTextDraggable;(n||o)&&r.stepDrag.handleMouseDown(e)}));var o=e.model,i=e.draggable;return r.stepDrag=new Ry({onDraging:r.onDraging,step:1,model:o,isStopPropagation:i}),r}return OE(n,[{key:"getShape",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=t.text,o=n.editConfigModel,i=r.value,a=r.x,u=r.y,c=r.editable,l=r.draggable,s={x:a,y:u,className:"",value:i};c?s.className="lf-element-text":l||o.nodeTextDraggable?s.className="lf-text-draggable":s.className="lf-text-disabled";var f=t.getTextStyle();return Object(de["g"])(lE,pE({},s,f,{model:t}))}},{key:"render",value:function(){var e=this.props.model.text;if(e)return Object(de["g"])("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),n}(de["a"]),ME=null!==window.navigator.userAgent.match(/MSIE|Trident/);function DE(e){return DE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DE(e)}function TE(e,t){return BE(e)||LE(e,t)||IE(e,t)||CE()}function CE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function IE(e,t){if(e){if("string"===typeof e)return RE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RE(e,t):void 0}}function RE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LE(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function BE(e){if(Array.isArray(e))return e}function zE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HE(e,t,n){return t&&VE(e.prototype,t),n&&VE(e,n),e}function FE(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GE(e,t)}function GE(e,t){return GE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},GE(e,t)}function UE(e){var t=WE();return function(){var n,r=KE(e);if(t){var o=KE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return XE(this,n)}}function XE(e,t){if(t&&("object"===DE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return YE(e)}function YE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WE(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function KE(e){return KE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},KE(e)}function ZE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qE=function(e){FE(n,e);var t=UE(n);function n(e){var r;zE(this,n),r=t.call(this),ZE(YE(r),"t",void 0),ZE(YE(r),"moveOffset",void 0),ZE(YE(r),"stepDrag",void 0),ZE(YE(r),"contextMenuTime",void 0),ZE(YE(r),"startTime",void 0),ZE(YE(r),"clickTimer",void 0),ZE(YE(r),"onDragStart",(function(e){var t=e.event,n=t.clientX,o=t.clientY,i=r.props,a=i.model,u=i.graphModel,c=u.getPointByClient({x:n,y:o}),l=c.canvasOverlayPosition,s=l.x,f=l.y;r.moveOffset={x:a.x-s,y:a.y-f}})),ZE(YE(r),"onDraging",(function(e){var t=e.event,n=r.props,o=n.model,i=n.graphModel,a=i.editConfigModel,u=a.stopMoveGraph,c=a.autoExpand,l=i.transformModel,s=i.width,f=i.height,p=i.gridSize;o.isDragging=!0;var d=t.clientX,h=t.clientY,y=i.getPointByClient({x:d,y:h}),v=y.canvasOverlayPosition,g=v.x,b=v.y,m=l.CanvasPointToHtmlPoint([g,b]),w=TE(m,2),O=w[0],_=w[1];if(g+=r.moveOffset.x,b+=r.moveOffset.y,g=Ff(g,p),b=Ff(b,p),s&&f){var x=O<0||_<0||O>s||_>f;if(!c||u||!x){var E=l.CanvasPointToHtmlPoint([g-o.width/2,b-o.height/2]),S=TE(E,2),j=S[0],P=S[1],k=l.CanvasPointToHtmlPoint([g+o.width/2,b+o.height/2]),A=TE(k,2),N=A[0],M=A[1],D=Math.max(p,20),T=[];j<0?T=[D,0]:N>i.width?T=[-D,0]:P<0?T=[0,D]:M>i.height&&(T=[0,-D]),r.t&&Ax(r.t),T.length>0&&!u&&c?r.t=kx((function(){var e=T,t=TE(e,2),n=t[0],r=t[1];l.translate(n,r),i.moveNode(o.id,-n/l.SCALE_X,-r/l.SCALE_X)})):i.moveNode2Coordinate(o.id,g,b)}}else i.moveNode2Coordinate(o.id,g,b)})),ZE(YE(r),"onDragEnd",(function(){r.t&&Ax(r.t);var e=r.props.model;e.isDragging=!1})),ZE(YE(r),"handleClick",(function(e){if(r.startTime){var t=(new Date).getTime()-r.startTime;if(!(t>200)){var n=r.props,o=n.model,i=n.graphModel,a=o.getData(),u=i.getPointByClient({x:e.clientX,y:e.clientY}),c={data:a,e:e,position:u},l=2===e.button,s=2===e.detail;if(!l){var f=i.editConfigModel;i.selectNodeById(o.id,Qf(e,f)),r.toFront(),s?(f.nodeTextEdit&&o.text.editable&&(o.setSelected(!1),i.setElementStateById(o.id,_c.TEXT_EDIT)),i.eventCenter.emit(jc.NODE_DBCLICK,c)):(i.eventCenter.emit(jc.ELEMENT_CLICK,c),i.eventCenter.emit(jc.NODE_CLICK,c))}}}})),ZE(YE(r),"handleContextMenu",(function(e){e.preventDefault();var t=r.props,n=t.model,o=t.graphModel,i=n.getData(),a=o.getPointByClient({x:e.clientX,y:e.clientY});o.setElementStateById(n.id,_c.SHOW_MENU,a.domOverlayPosition),o.selectNodeById(n.id),o.eventCenter.emit(jc.NODE_CONTEXTMENU,{data:i,e:e,position:a}),r.toFront()})),ZE(YE(r),"handleMouseDown",(function(e){var t=r.props,n=t.model,o=t.graphModel;r.startTime=(new Date).getTime();var i=o.editConfigModel;i.adjustNodePosition&&n.draggable&&r.stepDrag&&r.stepDrag.handleMouseDown(e)})),ZE(YE(r),"setHoverON",(function(e){var t=r.props,n=t.model,o=t.graphModel;if(!n.isHovered){var i=n.getData();n.setHovered(!0),o.eventCenter.emit(jc.NODE_MOUSEENTER,{data:i,e:e})}})),ZE(YE(r),"setHoverOFF",(function(e){var t=r.props,n=t.model,o=t.graphModel,i=n.getData();n.isHovered&&(n.setHovered(!1),o.eventCenter.emit(jc.NODE_MOUSELEAVE,{data:i,e:e}))})),ZE(YE(r),"onMouseOut",(function(e){ME&&r.setHoverOFF(e)}));var o=e.graphModel,i=o.gridSize,a=o.eventCenter,u=e.model;return r.stepDrag=new Ry({onDragStart:r.onDragStart,onDraging:r.onDraging,onDragEnd:r.onDragEnd,step:i,eventType:"NODE",isStopPropagation:!1,eventCenter:a,model:u}),r}return HE(n,[{key:"getAnchorShape",value:function(e){return null}},{key:"getAnchors",value:function(){var e=this,t=this.props,n=t.model,r=t.graphModel,o=n.isSelected,i=n.isHitable,a=n.isDragging,u=n.isShowAnchor;return i&&(o||u)&&!a?Qa(n.anchors,(function(t,o){var i=n.getAnchorLineStyle(t),a=n.getAnchorStyle(t);return Object(de["g"])(Qx,{anchorData:t,node:e,style:a,edgeStyle:i,anchorIndex:o,nodeModel:n,graphModel:r,setHoverOFF:e.setHoverOFF})})):[]}},{key:"getText",value:function(){var e=this.props,t=e.model,n=e.graphModel;if(t.state===_c.TEXT_EDIT)return"";if(t.text){var r=n.editConfigModel,o=!1;return(t.text.draggable||r.nodeTextDraggable)&&(o=!0),Object(de["g"])(NE,{editable:r.nodeTextEdit&&t.text.editable,model:t,graphModel:n,draggable:o})}}},{key:"getStateClassName",value:function(){var e=this.props.model,t=e.state,n=e.isDraging,r=e.isSelected,o="lf-node";switch(t){case _c.ALLOW_CONNECT:o+=" lf-node-allow";break;case _c.NOT_ALLOW_CONNECT:o+=" lf-node-not-allow";break;default:o+=" lf-node-default";break}return n&&(o+=" lf-isDragging"),r&&(o+=" lf-node-selected"),o}},{key:"toFront",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=n.overlapMode;r!==Mc.INCREASE&&t.autoToFront&&n.toFront(t.id)}},{key:"render",value:function(){var e,t=this.props,n=t.model,r=t.graphModel,o=r.editConfigModel,i=o.hideAnchors,a=o.adjustNodePosition,u=r.gridSize,c=r.transformModel.SCALE_X,l=n.isHitable,s=n.draggable,f=Object(de["g"])("g",{className:"lf-node-content"},this.getShape(),this.getText(),i?null:this.getAnchors());return l?(a&&s&&this.stepDrag.setStep(u*c),e=Object(de["g"])("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},f)):e=Object(de["g"])("g",{className:this.getStateClassName()},f),e}}],[{key:"getModel",value:function(e){return e}}]),n}(de["a"]);function JE(e){return JE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JE(e)}function QE(){return QE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QE.apply(this,arguments)}function $E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tS(e,t,n){return t&&eS(e.prototype,t),n&&eS(e,n),e}function nS(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rS(e,t)}function rS(e,t){return rS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rS(e,t)}function oS(e){var t=uS();return function(){var n,r=cS(e);if(t){var o=cS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iS(this,n)}}function iS(e,t){if(t&&("object"===JE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return aS(e)}function aS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uS(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function cS(e){return cS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cS(e)}var lS=function(e){nS(n,e);var t=oS(n);function n(){return $E(this,n),t.apply(this,arguments)}return tS(n,[{key:"getShape",value:function(){var e=this.props.model,t=e.getNodeStyle();return Object(de["g"])(Hg,QE({},t,{x:e.x,y:e.y,width:e.width,height:e.height,radius:e.radius}))}}]),n}(qE);function sS(e){return sS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sS(e)}function fS(){return fS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fS.apply(this,arguments)}function pS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hS(e,t,n){return t&&dS(e.prototype,t),n&&dS(e,n),e}function yS(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vS(e,t)}function vS(e,t){return vS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vS(e,t)}function gS(e){var t=wS();return function(){var n,r=OS(e);if(t){var o=OS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bS(this,n)}}function bS(e,t){if(t&&("object"===sS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mS(e)}function mS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wS(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function OS(e){return OS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},OS(e)}var _S=function(e){yS(n,e);var t=gS(n);function n(){return pS(this,n),t.apply(this,arguments)}return hS(n,[{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.r,o=e.getNodeStyle();return Object(de["g"])(pb,fS({},o,{x:t,y:n,r:r}))}}]),n}(qE);function xS(e){return xS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xS(e)}function ES(e,t){return AS(e)||kS(e,t)||jS(e,t)||SS()}function SS(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jS(e,t){if(e){if("string"===typeof e)return PS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PS(e,t):void 0}}function PS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kS(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function AS(e){if(Array.isArray(e))return e}function NS(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach((function(e){var t=ES(e,2),n=t[0],o=t[1],i=xS(o);"object"!==i&&(r[n]=o)})),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map((function(e){return e.join(",")})).join(" "),Object(de["g"])("polygon",r)}function MS(e){return MS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MS(e)}function DS(){return DS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DS.apply(this,arguments)}function TS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IS(e,t,n){return t&&CS(e.prototype,t),n&&CS(e,n),e}function RS(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LS(e,t)}function LS(e,t){return LS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},LS(e,t)}function BS(e){var t=HS();return function(){var n,r=FS(e);if(t){var o=FS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zS(this,n)}}function zS(e,t){if(t&&("object"===MS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return VS(e)}function VS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HS(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function FS(e){return FS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},FS(e)}var GS=function(e){RS(n,e);var t=BS(n);function n(){return TS(this,n),t.apply(this,arguments)}return IS(n,[{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.points,a=e.getNodeStyle(),u={transform:"matrix(1 0 0 1 ".concat(t-r/2," ").concat(n-o/2,")")};return Object(de["g"])("g",u,Object(de["g"])(NS,DS({},a,{points:i,x:t,y:n})))}}]),n}(qE);function US(e){return US="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},US(e)}function XS(){return XS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XS.apply(this,arguments)}function YS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KS(e,t,n){return t&&WS(e.prototype,t),n&&WS(e,n),e}function ZS(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qS(e,t)}function qS(e,t){return qS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qS(e,t)}function JS(e){var t=ej();return function(){var n,r=tj(e);if(t){var o=tj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QS(this,n)}}function QS(e,t){if(t&&("object"===US(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $S(e)}function $S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ej(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tj(e){return tj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tj(e)}var nj=function(e){ZS(n,e);var t=JS(n);function n(){return YS(this,n),t.apply(this,arguments)}return KS(n,[{key:"getShape",value:function(){var e=this.props.model,t=e.getNodeStyle();return Object(de["g"])("g",null,Object(de["g"])(NS,XS({},t,{points:e.points,x:e.x,y:e.y})))}}]),n}(qE);function rj(e){return rj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rj(e)}function oj(e,t){return lj(e)||cj(e,t)||aj(e,t)||ij()}function ij(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function aj(e,t){if(e){if("string"===typeof e)return uj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uj(e,t):void 0}}function uj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cj(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function lj(e){if(Array.isArray(e))return e}function sj(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.rx,a=void 0===i?4:i,u=e.ry,c=void 0===u?4:u,l=e.className,s={cx:n,cy:o,rx:a,ry:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach((function(e){var t=oj(e,2),n=t[0],r=t[1],o=rj(r);"object"!==o&&(s[n]=r)})),s.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",Object(de["g"])("ellipse",s)}function fj(e){return fj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fj(e)}function pj(){return pj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pj.apply(this,arguments)}function dj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yj(e,t,n){return t&&hj(e.prototype,t),n&&hj(e,n),e}function vj(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gj(e,t)}function gj(e,t){return gj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gj(e,t)}function bj(e){var t=Oj();return function(){var n,r=_j(e);if(t){var o=_j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mj(this,n)}}function mj(e,t){if(t&&("object"===fj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wj(e)}function wj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oj(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _j(e){return _j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_j(e)}var xj=function(e){vj(n,e);var t=bj(n);function n(){return dj(this,n),t.apply(this,arguments)}return yj(n,[{key:"getShape",value:function(){var e=this.props.model,t=e.getNodeStyle();return Object(de["g"])(sj,pj({},t,{x:e.x,y:e.y,rx:e.rx,ry:e.ry}))}}]),n}(qE);function Ej(e){return Ej="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ej(e)}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sj(Object(n),!0).forEach((function(t){Pj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nj(e,t,n){return t&&Aj(e.prototype,t),n&&Aj(e,n),e}function Mj(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dj(e,t)}function Dj(e,t){return Dj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Dj(e,t)}function Tj(e){var t=Rj();return function(){var n,r=Lj(e);if(t){var o=Lj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cj(this,n)}}function Cj(e,t){if(t&&("object"===Ej(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ij(e)}function Ij(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rj(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Lj(e){return Lj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lj(e)}var Bj=function(e){Mj(n,e);var t=Tj(n);function n(){return kj(this,n),t.apply(this,arguments)}return Nj(n,[{key:"getBackground",value:function(){var e=this.props.model,t=e.getTextStyle(),n=e.text;if(n&&n.value&&t.background&&"transparnet"!==t.background.fill){var r=n.x,o=n.y,i=e.width,a=e.height,u=jj(jj({},t.background),{},{x:r,y:o-1,width:i,height:a});return Object(de["g"])(Hg,u)}}},{key:"getShape",value:function(){return Object(de["g"])("g",null,this.getBackground())}}]),n}(qE);function zj(e){return zj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zj(e)}function Vj(){return Vj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vj.apply(this,arguments)}function Hj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gj(e,t,n){return t&&Fj(e.prototype,t),n&&Fj(e,n),e}function Uj(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xj(e,t)}function Xj(e,t){return Xj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xj(e,t)}function Yj(e){var t=Zj();return function(){var n,r=qj(e);if(t){var o=qj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wj(this,n)}}function Wj(e,t){if(t&&("object"===zj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kj(e)}function Kj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zj(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qj(e){return qj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qj(e)}function Jj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qj=function(e){Uj(n,e);var t=Yj(n);function n(){var e;Hj(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Jj(Kj(e),"ref",void 0),Jj(Kj(e),"currentProperties",void 0),Jj(Kj(e),"preProperties",void 0),Jj(Kj(e),"setRef",(function(t){e.ref=t})),e}return Gj(n,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(e){e.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.height,o=e.width,i=e.getNodeStyle();return this.currentProperties=JSON.stringify(e.properties),Object(de["g"])("foreignObject",Vj({},i,{x:t-o/2,y:n-r/2,width:o,height:r,ref:this.setRef}))}}]),n}(qE);function $j(e){return $j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$j(e)}function eP(){return eP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eP.apply(this,arguments)}function tP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tP(Object(n),!0).forEach((function(t){dP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iP(e,t,n){return t&&oP(e.prototype,t),n&&oP(e,n),e}function aP(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uP(e,t)}function uP(e,t){return uP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},uP(e,t)}function cP(e){var t=fP();return function(){var n,r=pP(e);if(t){var o=pP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lP(this,n)}}function lP(e,t){if(t&&("object"===$j(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sP(e)}function sP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function pP(e){return pP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pP(e)}function dP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hP,yP=function(e){aP(n,e);var t=cP(n);function n(e){var r;return rP(this,n),r=t.call(this,e),dP(sP(r),"setHoverON",(function(){r.setState({isHoverd:!0})})),dP(sP(r),"setHoverOFF",(function(){r.setState({isHoverd:!1})})),r.state={isHoverd:!1},r}return iP(n,[{key:"getBackground",value:function(){var e=this.props.model,t=e.getTextStyle(),n=e.text,r=t.background||{},o=this.state.isHoverd;if(o&&t.hover&&t.hover.background&&(r=nP(nP({},r),t.hover.background)),n&&n.value&&"transparent"!==r.fill){var i,a=t.fontSize,u=t.overflowMode,c=t.lineHeight,l=t.wrapPadding,s=t.textWidth,f=n.value,p=n.x,d=n.y,h=String(f).split(/[\r\n]/g),y=h.length;if("autoWrap"===u&&s){var v=ed({rows:h,style:{fontSize:"".concat(a,"px"),width:"".concat(s,"px"),lineHeight:c,padding:l},rowsLength:y,className:"lf-get-text-height"});i=nP(nP({},r),{},{x:p-1,y:d-1,width:s,height:v})}else{var g=0;h&&h.forEach((function(e){var t=oy(e);g=t>g?t:g}));var b=td({rows:h,fontSize:a,rowsLength:y}),m=b.width,w=b.height;if("string"===typeof r.wrapPadding){var O=r.wrapPadding.split(",").filter((function(e){return e.trim()})).map((function(e){return parseFloat(e.trim())}));O.length>0&&O.length<=4&&(1===O.length?O=[O[0],O[0],O[0],O[0]]:2===O.length?O=[O[0],O[1],O[0],O[1]]:3===O.length&&(O=[O[0],O[1],O[2],O[1]]),m+=O[1]+O[3],w+=O[0]+O[2],p+=(O[1]-O[3])/2,d+=(O[2]-O[0])/2)}i=nP(nP({},r),{},{x:p-1,y:d-1,width:m,height:w})}return Object(de["g"])(Hg,i)}}},{key:"getShape",value:function(){var e=this.props.model,t=e.text,n=t.value,r=t.x,o=t.y;if(n){var i=e.getTextStyle(),a=nP({x:r,y:o,className:"lf-element-text",value:n},i);return Object(de["g"])("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(de["g"])(lE,eP({},a,{model:e})))}}}]),n}(NE);function vP(e){return vP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vP(e)}function gP(){return gP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gP.apply(this,arguments)}function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bP(Object(n),!0).forEach((function(t){RP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wP(e,t){return SP(e)||EP(e,t)||_P(e,t)||OP()}function OP(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _P(e,t){if(e){if("string"===typeof e)return xP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xP(e,t):void 0}}function xP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EP(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function SP(e){if(Array.isArray(e))return e}function jP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kP(e,t,n){return t&&PP(e.prototype,t),n&&PP(e,n),e}function AP(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NP(e,t)}function NP(e,t){return NP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},NP(e,t)}function MP(e){var t=CP();return function(){var n,r=IP(e);if(t){var o=IP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DP(this,n)}}function DP(e,t){if(t&&("object"===vP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return TP(e)}function TP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function IP(e){return IP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},IP(e)}function RP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e["SOURCE"]="SOURCE",e["TARGET"]="TARGET"})(hP||(hP={}));var LP=function(e){AP(n,e);var t=MP(n);function n(){var e;return jP(this,n),e=t.call(this),RP(TP(e),"dragHandler",void 0),RP(TP(e),"oldEdge",void 0),RP(TP(e),"preTargetNode",void 0),RP(TP(e),"targetRuleResults",void 0),RP(TP(e),"sourceRuleResults",void 0),RP(TP(e),"onDragStart",(function(){var t=e.props,n=t.x,r=t.y,o=t.edgeModel,i=o.startPoint,a=o.endPoint,u=o.pointsList;e.oldEdge={startPoint:i,endPoint:a,pointsList:u},e.setState({endX:n,endY:r,draging:!0}),o.isHitable=!1})),RP(TP(e),"onDraging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.state,i=o.endX,a=o.endY,u=e.props,c=u.graphModel,l=u.type,s=c.transformModel,f=s.moveCanvasPointByHtml([i,a],n,r),p=wP(f,2),d=p[0],h=p[1];e.setState({endX:d,endY:h,draging:!0});var y=e.props.edgeModel,v=zp({x:i,y:a},c);if(v&&v.node&&e.isAllowAdjust(v)){var g,b=y.startPoint,m=y.endPoint,w=y.sourceNode,O=y.targetNode;l===hP.SOURCE?g={startPoint:{x:v.anchor.x,y:v.anchor.y},endPoint:{x:m.x,y:m.y},sourceNode:v.node,targetNode:O}:l===hP.TARGET&&(g={startPoint:{x:b.x,y:b.y},endPoint:{x:v.anchor.x,y:v.anchor.y},sourceNode:w,targetNode:v.node}),y.updateAfterAdjustStartAndEnd(g)}else l===hP.SOURCE?y.updateStartPoint({x:d,y:h}):l===hP.TARGET&&y.updateEndPoint({x:d,y:h})})),RP(TP(e),"onDragEnd",(function(){var t;e.setState({draging:!1});var n=e.props,r=n.graphModel,o=n.edgeModel,i=n.type;o.isHitable=!0;var a=e.state,u=a.endX,c=a.endY,l=a.draging,s=zp({x:u,y:c},r);if(l){if(s&&s.node&&e.isAllowAdjust(s)){var f,p=o.getData(),d=mP(mP({},p),{},{sourceAnchorId:"",targetAnchorId:"",text:(null===p||void 0===p||null===(f=p.text)||void 0===f?void 0:f.value)||""});if(i===hP.SOURCE){var h=r.edgeGenerator(r.getNodeModelById(s.node.id).getData(),r.getNodeModelById(o.targetNodeId).getData(),d);d=mP(mP({},h),{},{sourceNodeId:s.node.id,sourceAnchorId:s.anchor.id,startPoint:{x:s.anchor.x,y:s.anchor.y},targetNodeId:o.targetNodeId,endPoint:mP({},o.endPoint)})}else if(i===hP.TARGET){var y=r.edgeGenerator(r.getNodeModelById(o.sourceNodeId).getData(),r.getNodeModelById(s.node.id).getData(),d);d=mP(mP({},y),{},{sourceNodeId:o.sourceNodeId,startPoint:mP({},o.startPoint),targetNodeId:s.node.id,targetAnchorId:s.anchor.id,endPoint:{x:s.anchor.x,y:s.anchor.y}})}r.deleteEdgeById(o.id);var v=r.addEdge(mP({},d));r.eventCenter.emit(jc.EDGE_EXCHANGE_NODE,{data:{newEdge:v.getData(),oldEdge:o.getData()}})}else e.recoveryEdge();null===(t=e.preTargetNode)||void 0===t||t.setElementState(_c.DEFAULT)}})),RP(TP(e),"recoveryEdge",(function(){var t=e.props.edgeModel,n=e.oldEdge,r=n.startPoint,o=n.endPoint,i=n.pointsList;t.updateStartPoint(r),t.updateEndPoint(o),t.modelType!==Ec.LINE_EDGE&&(t.pointsList=i,t.initPoints())})),RP(TP(e),"getAdjustPointStyle",(function(){var t=e.props.graphModel.theme,n=t.edgeAdjust;return n})),e.state={draging:!1,endX:0,endY:0},e.targetRuleResults=new Map,e.sourceRuleResults=new Map,e.dragHandler=_y({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return kP(n,[{key:"isAllowAdjust",value:function(e){var t=this.props,n=t.edgeModel,r=(n.id,n.sourceNode),o=n.targetNode,i=n.sourceAnchorId,a=n.targetAnchorId,u=t.type,c=null,l=null,s=null,f=null;if(u===hP.SOURCE?(c=e.node,l=o,s=e.anchor,f=o.getAnchorInfo(a)):(c=r,l=e.node,f=e.anchor,s=r.getAnchorInfo(i)),this.preTargetNode&&this.preTargetNode!==e.node&&this.preTargetNode.setElementState(_c.DEFAULT),this.preTargetNode=e.node,f.id===s.id)return!1;var p="".concat(c.id,"_").concat(l.id,"_").concat(s.id,"_").concat(f.id);if(!this.targetRuleResults.has(p)){var d=c.isAllowConnectedAsSource(l,s,f),h=l.isAllowConnectedAsTarget(c,s,f);this.sourceRuleResults.set(p,nd(d)),this.targetRuleResults.set(p,nd(h))}var y=this.sourceRuleResults.get(p),v=y.isAllPass,g=this.targetRuleResults.get(p),b=g.isAllPass,m=v&&b?_c.ALLOW_CONNECT:_c.NOT_ALLOW_CONNECT;return u===hP.SOURCE?c.setElementState(m):l.setElementState(m),v&&b}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=this.state.draging,o=this.getAdjustPointStyle();return Object(de["g"])("g",null,Object(de["g"])(pb,gP({className:"lf-edge-adjust-point"},o,{x:t,y:n,onMouseDown:this.dragHandler,"pointer-events":r?"none":""})))}}]),n}(de["a"]);function BP(e){return BP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BP(e)}function zP(){return zP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zP.apply(this,arguments)}function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VP(Object(n),!0).forEach((function(t){QP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UP(e,t,n){return t&&GP(e.prototype,t),n&&GP(e,n),e}function XP(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YP(e,t)}function YP(e,t){return YP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},YP(e,t)}function WP(e){var t=qP();return function(){var n,r=JP(e);if(t){var o=JP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KP(this,n)}}function KP(e,t){if(t&&("object"===BP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ZP(e)}function ZP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function JP(e){return JP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},JP(e)}function QP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $P=function(e){XP(n,e);var t=WP(n);function n(){var e;FP(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),QP(ZP(e),"startTime",void 0),QP(ZP(e),"contextMenuTime",void 0),QP(ZP(e),"clickTimer",void 0),QP(ZP(e),"handleHover",(function(t,n){var r=e.props,o=r.model,i=r.graphModel.eventCenter;o.setHovered(t);var a=t?jc.EDGE_MOUSEENTER:jc.EDGE_MOUSELEAVE,u=o.getData();i.emit(a,{data:u,e:n})})),QP(ZP(e),"setHoverON",(function(t){var n=e.props.model.isHovered;n||e.handleHover(!0,t)})),QP(ZP(e),"setHoverOFF",(function(t){e.handleHover(!1,t)})),QP(ZP(e),"handleContextMenu",(function(t){t.preventDefault(),e.contextMenuTime=(new Date).getTime(),e.clickTimer&&clearTimeout(e.clickTimer);var n=e.props,r=n.model,o=n.graphModel,i=o.getPointByClient({x:t.clientX,y:t.clientY});o.setElementStateById(r.id,_c.SHOW_MENU,i.domOverlayPosition),e.toFront(),o.selectEdgeById(r.id);var a=null===r||void 0===r?void 0:r.getData();o.eventCenter.emit(jc.EDGE_CONTEXTMENU,{data:a,e:t,position:i})})),QP(ZP(e),"handleMouseDown",(function(t){t.stopPropagation(),e.startTime=(new Date).getTime()})),QP(ZP(e),"handleMouseUp",(function(t){if(e.startTime){var n=(new Date).getTime()-e.startTime;if(!(n>200)){var r=2===t.button;if(!r){var o=2===t.detail,i=e.props,a=i.model,u=i.graphModel,c=null===a||void 0===a?void 0:a.getData(),l=u.getPointByClient({x:t.clientX,y:t.clientY});if(o){var s=u.editConfigModel,f=u.textEditElement;if(f&&f.id===a.id&&u.setElementStateById(a.id,_c.DEFAULT),s.edgeTextEdit&&a.text.editable&&u.setElementStateById(a.id,_c.TEXT_EDIT),a.modelType===Ec.POLYLINE_EDGE){var p=a,d=u.getPointByClient({x:t.x,y:t.y}),h=d.canvasOverlayPosition,y=h.x,v=h.y,g=sy({x:y,y:v},p.points);p.dbClickPosition=g}u.eventCenter.emit(jc.EDGE_DBCLICK,{data:c,e:t,position:l})}else u.eventCenter.emit(jc.ELEMENT_CLICK,{data:c,e:t,position:l}),u.eventCenter.emit(jc.EDGE_CLICK,{data:c,e:t,position:l});var b=u.editConfigModel;u.selectEdgeById(a.id,Qf(t,b)),e.toFront()}}}})),QP(ZP(e),"getIsDragging",(function(){return!1})),e}return UP(n,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var e=this.props,t=e.model,n=e.graphModel;if(t.state===_c.TEXT_EDIT)return"";var r=!1,o=n.editConfigModel;return(t.text.draggable||o.edgeTextDraggable)&&(r=!0),Object(de["g"])(yP,{editable:o.edgeTextEdit&&t.text.editable,model:t,graphModel:n,draggable:r})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint,r=e.isSelected,o=this.state,i=o.hover;return{start:t,end:n,hover:i,isSelected:r}}},{key:"getArrowStyle",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=t.getEdgeStyle(),o=t.getEdgeAnimationStyle(),i=n.theme.arrow,a=t.isAnimation?o.stroke:r.stroke;return HP(HP({},r),{},{fill:a,stroke:a},i)}},{key:"getArrow",value:function(){var e=this.props.model.id,t=this.getArrowStyle(),n=t.refY,r=void 0===n?0:n,o=t.refX,i=void 0===o?2:o;return Object(de["g"])("g",null,Object(de["g"])("defs",null,Object(de["g"])("marker",{id:"marker-start-".concat(e),refX:-i,refY:r,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(de["g"])("marker",{id:"marker-end-".concat(e),refX:i,refY:r,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var e=this.getArrowStyle(),t=e.stroke,n=e.strokeWidth,r=e.offset,o=e.verticalLength;return Object(de["g"])("path",{stroke:t,fill:t,strokeWidth:n,d:"M 0 0 L ".concat(r," -").concat(o," L ").concat(r," ").concat(o," Z")})}},{key:"getEndArrow",value:function(){var e=this.getArrowStyle(),t=e.stroke,n=e.strokeWidth,r=e.offset,o=e.verticalLength;return Object(de["g"])("path",{stroke:t,fill:t,strokeWidth:n,transform:"rotate(180)",d:"M 0 0 L ".concat(r," -").concat(o," L ").concat(r," ").concat(o," Z")})}},{key:"getAdjustPoints",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=t.getAdjustStart(),o=t.getAdjustEnd();return Object(de["g"])("g",null,Object(de["g"])(LP,zP({type:"SOURCE"},r,{edgeModel:t,graphModel:n})),Object(de["g"])(LP,zP({type:"TARGET"},o,{edgeModel:t,graphModel:n})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(de["g"])("g",null)}},{key:"getAppend",value:function(){return Object(de["g"])("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var e=this.props,t=e.graphModel,n=e.model,r=t.overlapMode;r!==Mc.INCREASE&&t.toFront(n.id)}},{key:"render",value:function(){var e=this.props,t=e.model,n=t.isSelected,r=t.isHitable,o=e.graphModel,i=this.getIsDragging(),a=o.editConfigModel.adjustEdgeStartAndEnd,u=o.animation,c=n&&u.edge&&1===o.getSelectElements().edges.length;return Object(de["g"])("g",null,Object(de["g"])("g",{className:["lf-edge",!r&&"pointer-none",n&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),c&&this.getAnimation(),this.getText(),this.getArrow()),a&&n&&!i?this.getAdjustPoints():"")}}]),n}(de["a"]);function ek(e){return ek="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ek(e)}function tk(e,t){return ak(e)||ik(e,t)||rk(e,t)||nk()}function nk(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rk(e,t){if(e){if("string"===typeof e)return ok(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ok(e,t):void 0}}function ok(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ik(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function ak(e){if(Array.isArray(e))return e}function uk(e){var t={d:""};return Object.entries(e).forEach((function(e){var n=tk(e,2),r=n[0],o=n[1],i=ek(o);"style"!==r&&"object"===i||(t[r]=o)})),Object(de["g"])("path",t)}var ck=uk;function lk(e){return lk="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lk(e)}function sk(){return sk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sk.apply(this,arguments)}function fk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dk(e,t,n){return t&&pk(e.prototype,t),n&&pk(e,n),e}function hk(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yk(e,t)}function yk(e,t){return yk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yk(e,t)}function vk(e){var t=mk();return function(){var n,r=wk(e);if(t){var o=wk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gk(this,n)}}function gk(e,t){if(t&&("object"===lk(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bk(e)}function bk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mk(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wk(e){return wk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wk(e)}var Ok=function(e){hk(n,e);var t=vk(n);function n(){return fk(this,n),t.apply(this,arguments)}return dk(n,[{key:"getEdge",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint,r=e.isAnimation,o=e.arrowConfig,i=e.getEdgeStyle(),a=e.getEdgeAnimationStyle(),u=a.strokeDasharray,c=a.stroke,l=a.strokeDashoffset,s=a.animationName,f=a.animationDuration,p=a.animationIterationCount,d=a.animationTimingFunction,h=a.animationDirection;return Object(de["g"])(gg,sk({},i,{x1:t.x,y1:t.y,x2:n.x,y2:n.y},o,r?{strokeDasharray:u,stroke:c,style:{strokeDashoffset:l,animationName:s,animationDuration:f,animationIterationCount:p,animationTimingFunction:d,animationDirection:h}}:{}))}},{key:"getShape",value:function(){return Object(de["g"])("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var e=this.props.model,t=e.getAnimation(),n=t.stroke,r=t.className,o=t.strokeDasharray,i=e.startPoint,a=e.endPoint,u=e.getEdgeStyle();return Object(de["g"])("g",null,Object(de["g"])(gg,sk({},u,{x1:i.x,y1:i.y,x2:a.x,y2:a.y,className:r,strokeDasharray:o,stroke:n})))}},{key:"getAppendWidth",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint,r={start:t,end:n},o=iy(r),i=o.d,a=o.strokeWidth,u=o.fill,c=o.strokeDasharray,l=o.stroke;return Object(de["g"])(ck,{d:i,fill:u,strokeWidth:a,stroke:l,strokeDasharray:c})}}]),n}($P);function _k(e){return _k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_k(e)}function xk(e,t){return kk(e)||Pk(e,t)||Sk(e,t)||Ek()}function Ek(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sk(e,t){if(e){if("string"===typeof e)return jk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jk(e,t):void 0}}function jk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pk(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function kk(e){if(Array.isArray(e))return e}function Ak(e){var t={points:"",fill:"none"};return Object.entries(e).forEach((function(e){var n=xk(e,2),r=n[0],o=n[1];if("style"===r)t[r]=o;else{var i=_k(o);"object"!==i&&(t[r]=o)}})),Object(de["g"])("polyline",t)}var Nk=Ak;function Mk(e){return Mk="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mk(e)}function Dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dk(Object(n),!0).forEach((function(t){Jk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ck(){return Ck=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ck.apply(this,arguments)}function Ik(e,t){return Vk(e)||zk(e,t)||Lk(e,t)||Rk()}function Rk(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lk(e,t){if(e){if("string"===typeof e)return Bk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bk(e,t):void 0}}function Bk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zk(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function Vk(e){if(Array.isArray(e))return e}function Hk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gk(e,t,n){return t&&Fk(e.prototype,t),n&&Fk(e,n),e}function Uk(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xk(e,t)}function Xk(e,t){return Xk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xk(e,t)}function Yk(e){var t=Zk();return function(){var n,r=qk(e);if(t){var o=qk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wk(this,n)}}function Wk(e,t){if(t&&("object"===Mk(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kk(e)}function Kk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zk(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qk(e){return qk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qk(e)}function Jk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qk=function(e){Uk(n,e);var t=Yk(n);function n(){var e;return Hk(this,n),e=t.call(this),Jk(Kk(e),"drag",void 0),Jk(Kk(e),"isDraging",void 0),Jk(Kk(e),"appendInfo",void 0),Jk(Kk(e),"dragHandler",void 0),Jk(Kk(e),"onDragStart",(function(){var t=e.props.model;t.dragAppendStart()})),Jk(Kk(e),"onDraging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.props,i=o.model,a=o.graphModel;e.isDraging=!0;var u=a.transformModel,c=a.editConfigModel,l=u.fixDeltaXY(n,r),s=Ik(l,2),f=s[0],p=s[1],d=i,h=c.adjustEdgeMiddle;e.appendInfo=h?d.dragAppendSimple(e.appendInfo,{x:f,y:p}):d.dragAppend(e.appendInfo,{x:f,y:p})})),Jk(Kk(e),"onDragEnd",(function(){var t=e.props,n=t.model,r=t.graphModel.eventCenter,o=n;o.dragAppendEnd(),e.isDraging=!1,e.appendInfo=void 0,r.emit(jc.EDGE_ADJUST,{data:o.getData()})})),Jk(Kk(e),"beforeDragStart",(function(t,n){n.dragAble&&e.dragHandler(t),e.appendInfo=n})),Jk(Kk(e),"getIsDragging",(function(){return e.isDraging})),e.drag=_y({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd,isStopPropagation:!1}),e}return Gk(n,[{key:"getEdge",value:function(){var e=this.props.model,t=e.points,n=e.isAnimation,r=e.arrowConfig,o=e.getEdgeStyle(),i=e.getEdgeAnimationStyle(),a=i.strokeDasharray,u=i.stroke,c=i.strokeDashoffset,l=i.animationName,s=i.animationDuration,f=i.animationIterationCount,p=i.animationTimingFunction,d=i.animationDirection;return Object(de["g"])(Nk,Ck({points:t},o,r,n?{strokeDasharray:a,stroke:u,style:{strokeDashoffset:c,animationName:l,animationDuration:s,animationIterationCount:f,animationTimingFunction:p,animationDirection:d}}:{}))}},{key:"getShape",value:function(){return Object(de["g"])("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var e=this.props.model,t=e.getAnimation(),n=t.stroke,r=t.className,o=t.strokeDasharray,i=e.getEdgeStyle();return Object(de["g"])("g",null,Object(de["g"])(Nk,Ck({points:e.points},i,{className:r,strokeDasharray:o,stroke:n})))}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.points,n=e.isSelected,r=this.state,o=r.hover,i={start:null,end:null,hover:o,isSelected:n},a=ty(t);return a.length>=2&&(i.start=a[a.length-2],i.end=a[a.length-1]),i}},{key:"getAppendAttributes",value:function(e){var t,n=e.start,r=e.end;if(n.x===r.x&&n.y===r.y)t="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=fh(Tk(Tk({},o),{},{type:"start"})),a=fh(Tk(Tk({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(e){var t=this.getAppendAttributes(e),n=t.d,r=t.strokeWidth,o=t.fill,i=t.strokeDasharray,a=t.stroke;return Object(de["g"])(ck,{d:n,fill:o,strokeWidth:r,stroke:a,strokeDasharray:i})}},{key:"getAppendWidth",value:function(){for(var e=this,t=this.props,n=t.model,r=t.graphModel,o=n.pointsList,i=n.draggable,a=[],u=o.length,c=function(t){var n="lf-polyline-append",c={start:{x:o[t].x,y:o[t].y},end:{x:o[t+1].x,y:o[t+1].y},startIndex:t,endIndex:t+1,direction:"",dragAble:!0},l=Object(de["g"])("g",{className:n},e.getAppendShape(c)),s=r.editConfigModel,f=s.adjustEdge,p=s.adjustEdgeMiddle;if(f&&i){e.dragHandler=e.drag;var d=c.startIndex,h=c.endIndex,y=p&&(0===d||h===u-1);c.dragAble=!y,c.start.x===c.end.x?(c.dragAble&&(n+="-ew-resize"),c.direction=Pc.VERTICAL):c.start.y===c.end.y&&(c.dragAble&&(n+="-ns-resize"),c.direction=Pc.HORIZONTAL),l=Object(de["g"])("g",{className:e.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(t){return e.beforeDragStart(t,c)}},Object(de["g"])("g",{className:n},e.getAppendShape(c)))}else e.dragHandler=function(){};a.push(l)},l=0;l<u-1;l++)c(l);return Object(de["g"])("g",null,a)}}]),n}($P);function $k(e){return $k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$k(e)}function eA(e,t){return iA(e)||oA(e,t)||nA(e,t)||tA()}function tA(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nA(e,t){if(e){if("string"===typeof e)return rA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rA(e,t):void 0}}function rA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oA(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function iA(e){if(Array.isArray(e))return e}function aA(){return aA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aA.apply(this,arguments)}function uA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lA(e,t,n){return t&&cA(e.prototype,t),n&&cA(e,n),e}function sA(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fA(e,t)}function fA(e,t){return fA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fA(e,t)}function pA(e){var t=yA();return function(){var n,r=vA(e);if(t){var o=vA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dA(this,n)}}function dA(e,t){if(t&&("object"===$k(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hA(e)}function hA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function vA(e){return vA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vA(e)}var gA=function(e){sA(n,e);var t=pA(n);function n(){return uA(this,n),t.apply(this,arguments)}return lA(n,[{key:"getEdge",value:function(){var e=this.props.model,t=e.getEdgeStyle(),n=e.path,r=e.isAnimation,o=e.arrowConfig,i=e.getEdgeAnimationStyle(),a=i.strokeDasharray,u=i.stroke,c=i.strokeDashoffset,l=i.animationName,s=i.animationDuration,f=i.animationIterationCount,p=i.animationTimingFunction,d=i.animationDirection;return Object(de["g"])(ck,aA({d:n},t,o,r?{strokeDasharray:a,stroke:u,style:{strokeDashoffset:c,animationName:l,animationDuration:s,animationIterationCount:f,animationTimingFunction:p,animationDirection:d}}:{}))}},{key:"getShape",value:function(){return Object(de["g"])("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var e=this.props.model,t=e.getAnimation(),n=t.stroke,r=t.className,o=t.strokeDasharray,i=e.getEdgeStyle();return Object(de["g"])("g",null,Object(de["g"])(ck,aA({d:e.path},i,{className:r,strokeDasharray:o,stroke:n})))}},{key:"getAppendWidth",value:function(){var e=this.props.model.path;return Object(de["g"])(ck,{d:e,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=this.state,n=t.hover,r=e,o=r.path,i=r.isSelected,a=ly(o),u=eA(a,2),c=u[0],l=u[1],s={start:c,end:l,hover:n,isSelected:i};return s}}]),n}($P);function bA(e){return bA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bA(e)}function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mA(Object(n),!0).forEach((function(t){OA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EA(e,t,n){return t&&xA(e.prototype,t),n&&xA(e,n),e}function SA(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jA(e,t)}function jA(e,t){return jA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jA(e,t)}function PA(e){var t=NA();return function(){var n,r=MA(e);if(t){var o=MA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kA(this,n)}}function kA(e,t){if(t&&("object"===bA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return AA(e)}function AA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function MA(e){return MA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},MA(e)}var DA=function(e){SA(n,e);var t=PA(n);function n(){return _A(this,n),t.apply(this,arguments)}return EA(n,[{key:"getArrowAttributes",value:function(){var e=this.props,t=e.arrowInfo,n=e.style,r=t.start,o=t.end,i={start:r,end:o,offset:n.offset,verticalLength:n.verticalLength,type:"end"},a=fh(i),u=a.leftX,c=a.leftY,l=a.rightX,s=a.rightY;return wA({d:"M".concat(u," ").concat(c," L").concat(o.x," ").concat(o.y," L").concat(l," ").concat(s," z")},n)}},{key:"getShape",value:function(){var e=this.getArrowAttributes(),t=e.d,n=e.strokeWidth,r=e.stroke,o=e.fill;return Object(de["g"])(ck,{d:t,fill:o,strokeWidth:n,stroke:r})}},{key:"render",value:function(){return Object(de["g"])("g",{className:"lf-arrow"},this.getShape())}}]),n}(de["a"]);function TA(e,t){return Pi(e,t)}var CA=TA;function IA(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var RA=IA,LA=function(){return Fe["a"].Date.now()},BA=LA,zA=/\s/;function VA(e){var t=e.length;while(t--&&zA.test(e.charAt(t)));return t}var HA=VA,FA=/^\s+/;function GA(e){return e?e.slice(0,HA(e)+1).replace(FA,""):e}var UA=GA,XA=NaN,YA=/^[-+]0x[0-9a-f]+$/i,WA=/^0b[01]+$/i,KA=/^0o[0-7]+$/i,ZA=parseInt;function qA(e){if("number"==typeof e)return e;if(Fi(e))return XA;if(ut(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ut(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=UA(e);var n=WA.test(e);return n||KA.test(e)?ZA(e.slice(2),n?2:8):YA.test(e)?XA:+e}var JA=qA,QA="Expected a function",$A=Math.max,eN=Math.min;function tN(e,t,n){var r,o,i,a,u,c,l=0,s=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError(QA);function d(t){var n=r,i=o;return r=o=void 0,l=t,a=e.apply(i,n),a}function h(e){return l=e,u=setTimeout(g,t),s?d(e):a}function y(e){var n=e-c,r=e-l,o=t-n;return f?eN(o,i-r):o}function v(e){var n=e-c,r=e-l;return void 0===c||n>=t||n<0||f&&r>=i}function g(){var e=BA();if(v(e))return b(e);u=setTimeout(g,y(e))}function b(e){return u=void 0,p&&r?d(e):(r=o=void 0,a)}function m(){void 0!==u&&clearTimeout(u),l=0,r=c=o=u=void 0}function w(){return void 0===u?a:b(BA())}function O(){var e=BA(),n=v(e);if(r=arguments,o=this,c=e,n){if(void 0===u)return h(c);if(f)return clearTimeout(u),u=setTimeout(g,t),d(c)}return void 0===u&&(u=setTimeout(g,t)),a}return t=JA(t)||0,ut(n)&&(s=!!n.leading,f="maxWait"in n,i=f?$A(JA(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),O.cancel=m,O.flush=w,O}var nN=tN,rN=n(166);function oN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aN(e,t,n){return t&&iN(e.prototype,t),n&&iN(e,n),e}function uN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cN,lN,sN,fN=function(){function e(t){oN(this,e),uN(this,"undos",[]),uN(this,"redos",[]),uN(this,"callbacks",[]),uN(this,"stopWatch",null),uN(this,"curData",null),uN(this,"maxSize",50),uN(this,"waitTime",100),uN(this,"eventCenter",void 0),this.eventCenter=t}return aN(e,[{key:"add",value:function(e){CA(RA(this.undos),e)||(this.undos.push(e),CA(this.curData,e)||(this.redos=[]),this.eventCenter.emit(jc.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var e=this.undos.pop();this.redos.push(e);var t=this.undos.pop();return this.curData=ff(t),t}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var e=this.redos.pop();return this.curData=ff(e),e}}},{key:"watch",value:function(e){var t=this;this.stopWatch&&this.stopWatch(),this.undos.push(e.modelToGraphData()),this.stopWatch=Object(rN["a"])(e,nN((function(){var n=e.modelToHistoryData();n&&t.add(n)}),this.waitTime))}}]),e}(),pN=fN;function dN(e){return dN="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dN(e)}function hN(e,t){return mN(e)||bN(e,t)||vN(e,t)||yN()}function yN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vN(e,t){if(e){if("string"===typeof e)return gN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gN(e,t):void 0}}function gN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bN(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function mN(e){if(Array.isArray(e))return e}function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ON(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wN(Object(n),!0).forEach((function(t){DN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EN(e,t,n){return t&&xN(e.prototype,t),n&&xN(e,n),e}function SN(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jN(e,t)}function jN(e,t){return jN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jN(e,t)}function PN(e){var t=NN();return function(){var n,r=MN(e);if(t){var o=MN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kN(this,n)}}function kN(e,t){if(t&&("object"===dN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return AN(e)}function AN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NN(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function MN(e){return MN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},MN(e)}function DN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TN,CN,IN,RN=BM((sN=lN=function(e){SN(n,e);var t=PN(n);function n(){var e;return _N(this,n),e=t.call(this),DN(AN(e),"ref",Object(de["f"])()),DN(AN(e),"__prevText",{type:"",text:"",id:""}),DN(AN(e),"keyupHandler",(function(t){var n=e.props.graphModel.textEditElement;"Enter"===t.key&&t.altKey&&n.setElementState(0)})),DN(AN(e),"inputHandler",(function(t){var n=t.target,r=n.innerText,o=e.props.graphModel.textEditElement;e.__prevText={type:o.type,text:r.replace(/(\r\n)+$|(\n)+$/,""),id:o.id}})),DN(AN(e),"keydownHandler",(function(e){e.stopPropagation()})),e.state={style:{left:0,top:0}},e}return EN(n,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var e=this.props.graphModel,t=e.eventCenter;t.on("".concat(jc.GRAPH_TRANSFORM,",").concat(jc.NODE_CLICK,",").concat(jc.BLANK_CLICK," "),(function(){var t=e.textEditElement,n=e.editConfigModel,r=n.edgeTextEdit,o=n.nodeTextEdit;(r||o)&&t&&e.textEditElement.setElementState(_c.DEFAULT)}))}},{key:"componentDidUpdate",value:function(){var e=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var t=this.__prevText,n=t.text,r=t.id;e.updateText(r,n),e.eventCenter.emit(jc.TEXT_UPDATE,ON({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(e){if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}}},{key:"render",value:function(){var e,t=this.props.graphModel.textEditElement,n=this.state.style;return t?Object(de["g"])("div",{contentEditable:!0,className:"lf-text-input",style:n,ref:this.ref,key:t.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},null===(e=t.text)||void 0===e?void 0:e.value):null}}],[{key:"getDerivedStateFromProps",value:function(e){var t,n=e.graphModel,r=n.transformModel,o=n.theme,i=n.textEditElement;if(i){var a;if((null===(a=i.text)||void 0===a||!a.value)&&i.BaseType===Sc.EDGE){var u=i.text,c=i.textPosition,l=c.x,s=c.y;u.x=l,u.y=s,i.setText(u)}var f={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(i.BaseType===Sc.EDGE){var p=o.edgeText,d=p.overflowMode,h=p.lineHeight,y=p.wrapPadding,v=p.textWidth;v&&"autoWrap"===d&&(t=ON(ON({},f),{},{width:v,minWidth:v,lineHeight:h,padding:y}))}else if(i.BaseType===Sc.NODE){var g=o.nodeText,b=g.overflowMode,m=g.lineHeight,w=g.wrapPadding,O=g.textWidth,_=i,x=_.width,E=_.modelType;(E!==Ec.TEXT_NODE&&"autoWrap"===b||E===Ec.TEXT_NODE&&O)&&(t=ON(ON({},f),{},{width:O||x,minWidth:O||x,lineHeight:m,padding:w}))}var S=i.text,j=S.x,P=S.y,k=r.CanvasPointToHtmlPoint([j,P]),A=hN(k,2),N=A[0],M=A[1];return{style:ON({left:N,top:M},t)}}}}]),n}(de["a"]),DN(lN,"toolName","textEdit"),cN=sN))||cN,LN=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{x:t-r/2,y:n-o/2,x1:t+r/2,y1:n+o/2}},BN=function(e){var t=e.startPoint,n=e.endPoint,r=(t.x+n.x)/2,o=(t.y+n.y)/2,i=Math.abs(t.x-n.x)+10,a=Math.abs(t.y-n.y)+10;return{x:r-i/2,y:o-a/2,x1:r+i/2,y1:o+a/2}},zN=function(e){var t=e.points,n=ty(t),r=Dh(n,8),o=r.x,i=r.y,a=r.width,u=r.height;return{x:o-a/2,y:i-u/2,x1:o+a/2,y1:i+u/2}},VN=function(e){var t=e.path,n=uy(t),r=Dh(n,8),o=r.x,i=r.y,a=r.width,u=r.height;return{x:o-a/2,y:i-u/2,x1:o+a/2,y1:i+u/2}},HN=function(e){return e.modelType===Ec.LINE_EDGE?BN(e):e.modelType===Ec.POLYLINE_EDGE?zN(e):e.modelType===Ec.BEZIER_EDGE?VN(e):void 0};function FN(e){return FN="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FN(e)}function GN(e,t){return YN(e)||XN(e,t)||ZN(e,t)||UN()}function UN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function XN(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}function YN(e){if(Array.isArray(e))return e}function WN(e){return JN(e)||qN(e)||ZN(e)||KN()}function KN(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ZN(e,t){if(e){if("string"===typeof e)return QN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QN(e,t):void 0}}function qN(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function JN(e){if(Array.isArray(e))return QN(e)}function QN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tM(e,t,n){return t&&eM(e.prototype,t),n&&eM(e,n),e}function nM(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rM(e,t)}function rM(e,t){return rM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rM(e,t)}function oM(e){var t=uM();return function(){var n,r=cM(e);if(t){var o=cM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iM(this,n)}}function iM(e,t){if(t&&("object"===FN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return aM(e)}function aM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uM(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function cM(e){return cM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cM(e)}function lM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sM=BM((IN=CN=function(e){nM(n,e);var t=oM(n);function n(e){var r;$N(this,n),r=t.call(this),lM(aM(r),"stepDrag",void 0),lM(aM(r),"handleMouseDown",(function(e){r.stepDrag.handleMouseDown(e)})),lM(aM(r),"onDraging",(function(e){var t=e.deltaX,n=e.deltaY,o=r.props.graphModel,i=o.getSelectElements(!0);o.moveNodes(i.nodes.map((function(e){return e.id})),t,n)})),lM(aM(r),"handleContextMenu",(function(e){e.preventDefault();var t=r.props,n=t.graphModel,o=t.graphModel,i=o.eventCenter,a=o.selectElements,u=n.getPointByClient({x:e.clientX,y:e.clientY}),c={nodes:[],edges:[]},l=WN(a.values());l.forEach((function(e){e.BaseType===Sc.NODE&&c.nodes.push(e.getData()),e.BaseType===Sc.EDGE&&c.edges.push(e.getData())})),i.emit(jc.SELECTION_CONTEXTMENU,{data:c,e:e,position:u})}));var o=e.graphModel,i=o.gridSize,a=o.eventCenter;return r.stepDrag=new Ry({onDraging:r.onDraging,step:i,eventType:"SELECTION",eventCenter:a}),r}return tM(n,[{key:"render",value:function(){var e=this.props.graphModel,t=e.selectElements,n=e.transformModel;if(!(t.size<=1)){var r=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;t.forEach((function(e){var t={x:0,y:0,x1:0,y1:0};e.BaseType===Sc.NODE&&(t=LN(e)),e.BaseType===Sc.EDGE&&(t=HN(e)),r=Math.min(r,t.x),o=Math.min(o,t.y),i=Math.max(i,t.x1),a=Math.max(a,t.y1)}));var u=n.CanvasPointToHtmlPoint([r,o]),c=GN(u,2);r=c[0],o=c[1];var l=n.CanvasPointToHtmlPoint([i,a]),s=GN(l,2);i=s[0],a=s[1];var f={left:"".concat(r-10,"px"),top:"".concat(o-10,"px"),width:"".concat(i-r+20,"px"),height:"".concat(a-o+20,"px")};return Object(de["g"])("div",{className:"lf-multiple-select",style:f,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),n}(de["a"]),lM(CN,"toolName","multipleSelect"),TN=IN))||TN;function fM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dM(e,t,n){return t&&pM(e.prototype,t),n&&pM(e,n),e}function hM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yM=function(){function e(t){fM(this,e),hM(this,"tools",void 0),hM(this,"components",void 0),hM(this,"toolMap",new Map),hM(this,"instance",void 0),this.instance=t,this.isDisabledTool(RN.toolName)||this.registerTool(RN.toolName,RN),this.isDisabledTool(sM.toolName)||this.registerTool(sM.toolName,sM)}return dM(e,[{key:"isDisabledTool",value:function(e){return-1!==this.instance.options.disabledTools.indexOf(e)}},{key:"registerTool",value:function(e,t){this.toolMap.set(e,t)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),vM=n(167),gM=n.n(vM);function bM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wM(e,t,n){return t&&mM(e.prototype,t),n&&mM(e,n),e}function OM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _M=function(){function e(t){bM(this,e),OM(this,"mousetrap",void 0),OM(this,"options",void 0),OM(this,"target",void 0),t.keyboard||(t.keyboard={enabled:!1}),this.options=t;var n=t.lf;this.target=n.container,this.mousetrap=new gM.a(this.target),t.keyboard.enabled&&this.enable(!0)}return wM(e,[{key:"initShortcuts",value:function(){var e=this,t=this.options.keyboard.shortcuts;if(t)if(dr(t))t.forEach((function(t){var n=t.keys,r=t.callback,o=t.action;return e.on(n,r,o)}));else{var n=t.keys,r=t.callback,o=t.action;this.on(n,r,o)}}},{key:"on",value:function(e,t,n){this.mousetrap.bind(this.getKeys(e),t,n)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(e,t){this.mousetrap.unbind(this.getKeys(e),t)}},{key:"enable",value:function(e){(this.disabled||e)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(e){var t=this;return(Array.isArray(e)?e:[e]).map((function(e){return t.formatkey(e)}))}},{key:"formatkey",value:function(e){var t=e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return t}}]),e}(),xM=_M,EM=null;function SM(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function jM(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach((function(e){e.x+=t,e.y+=t})),e.text&&(e.text.x+=t,e.text.y+=t),e}var PM=40;function kM(e,t){var n=e.keyboard,r=n.options.keyboard;n.on(["cmd + c","ctrl + c"],(function(){if(r.enabled&&!t.textEditElement){var n=e.options.guards,o=t.getSelectElements(!1),i=!n||!n.beforeClone||n.beforeClone(o);return i?(EM=o,EM.nodes.forEach((function(e){return SM(e,PM)})),EM.edges.forEach((function(e){return jM(e,PM)})),!1):(EM=null,!1)}})),n.on(["cmd + v","ctrl + v"],(function(){if(r.enabled&&!t.textEditElement){if(EM&&(EM.nodes||EM.edges)){e.clearSelectElements();var n=e.addElements(EM);if(!n)return;n.nodes.forEach((function(t){return e.selectElementById(t.id,!0)})),n.edges.forEach((function(t){return e.selectElementById(t.id,!0)})),EM.nodes.forEach((function(e){return SM(e,PM)})),EM.edges.forEach((function(e){return jM(e,PM)}))}return!1}})),n.on(["cmd + z","ctrl + z"],(function(){if(r.enabled&&!t.textEditElement)return e.undo(),!1})),n.on(["cmd + y","ctrl + y"],(function(){if(r.enabled&&!t.textEditElement)return e.redo(),!1})),n.on(["backspace"],(function(){if(r.enabled&&!t.textEditElement){var n=t.getSelectElements(!0);return e.clearSelectElements(),n.edges.forEach((function(t){return e.deleteEdge(t.id)})),n.nodes.forEach((function(t){return e.deleteNode(t.id)})),!1}}))}function AM(e,t){e.on("node:mousemove",(function(e){var n=e.data;t.setNodeSnapLine(n)})),e.on("node:mouseup",(function(){t.clearSnapline()}))}function NM(e){return NM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NM(e)}function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MM(Object(n),!0).forEach((function(t){RM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IM(e,t,n){return t&&CM(e.prototype,t),n&&CM(e,n),e}function RM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LM=function(){function e(t){var n=this;TM(this,e),RM(this,"container",void 0),RM(this,"width",void 0),RM(this,"height",void 0),RM(this,"graphModel",void 0),RM(this,"history",void 0),RM(this,"viewMap",new Map),RM(this,"tool",void 0),RM(this,"keyboard",void 0),RM(this,"dnd",void 0),RM(this,"options",void 0),RM(this,"snaplineModel",void 0),RM(this,"components",[]),RM(this,"plugins",void 0),RM(this,"extension",{}),RM(this,"adapterIn",void 0),RM(this,"adapterOut",void 0),RM(this,"getView",(function(e){return n.viewMap.get(e)})),t=ym(t),this.options=t,this.container=t.container,this.plugins=t.plugins,this.graphModel=new av(DM({},t)),this.tool=new yM(this),this.history=new pN(this.graphModel.eventCenter),this.dnd=new hm({lf:this}),this.keyboard=new xM({lf:this,keyboard:t.keyboard}),!1!==t.snapline&&(this.snaplineModel=new jx(this.graphModel),AM(this.graphModel.eventCenter,this.snaplineModel)),kM(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(t.disabledPlugins)}return IM(e,[{key:"register",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"===typeof e){var r={BaseEdge:$P,BaseEdgeModel:md,BaseNode:qE,BaseNodeModel:jw,RectNode:lS,RectNodeModel:R_,CircleNode:_S,CircleNodeModel:Kw,PolygonNode:GS,PolygonNodeModel:v_,TextNode:Bj,TextNodeModel:ex,LineEdge:Ok,LineEdgeModel:zd,DiamondNode:nj,DiamondNodeModel:_O,PolylineEdge:Qk,PolylineEdgeModel:sh,BezierEdge:gA,BezierEdgeModel:Gm,EllipseNode:xj,EllipseNodeModel:GO,HtmlNode:Qj,HtmlNodeModel:gx,h:de["g"],type:e};this.viewMap.forEach((function(e){var t=e.extendKey;t&&(r[t]=e)})),this.graphModel.modelMap.forEach((function(e){var t=e.extendKey;t&&(r[t]=e)}));var o=t(r),i=o.view,a=o.model,u=i;n&&!u.isObervered&&(u.isObervered=!0,u=ce(u)),this.setView(e,u),this.graphModel.setModel(e,a)}else this.registerElement(e)}},{key:"registerElement",value:function(e){var t=e.view;!1===e.isObserverView||t.isObervered||(t.isObervered=!0,t=ce(t)),this.setView(e.type,t),this.graphModel.setModel(e.type,e.model)}},{key:"batchRegister",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){e.registerElement(t)}))}},{key:"defaultRegister",value:function(){this.registerElement({view:lS,model:R_,type:"rect"}),this.registerElement({type:"circle",view:_S,model:Kw}),this.registerElement({type:"polygon",view:GS,model:v_}),this.registerElement({type:"line",view:Ok,model:zd}),this.registerElement({type:"polyline",view:Qk,model:sh}),this.registerElement({type:"bezier",view:gA,model:Gm}),this.registerElement({type:"text",view:Bj,model:ex}),this.registerElement({type:"ellipse",view:xj,model:GO}),this.registerElement({type:"diamond",view:nj,model:_O}),this.registerElement({type:"html",view:Qj,model:gx})}},{key:"selectElementById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.graphModel.selectElementById(e,t),!t&&n&&this.graphModel.toFront(e)}},{key:"focusOn",value:function(e){var t=this.graphModel.transformModel,n=e.coordinate,r=e.id;if(!n){var o=this.getNodeModelById(r);o&&(n=o.getData());var i=this.getEdgeModelById(r);i&&(n=i.textPosition)}var a=n,u=a.x,c=a.y;t.focusOn(u,c,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(e){this.graphModel.setTheme(e)}},{key:"resize",value:function(e,t){this.graphModel.resize(e,t),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(e){this.graphModel.setDefaultEdgeType(e)}},{key:"updateText",value:function(e,t){this.graphModel.updateText(e,t)}},{key:"deleteElement",value:function(e){var t,n,r,o=this.getModelById(e);if(!o)return!1;var i=(t={},RM(t,Sc.NODE,this.deleteNode),RM(t,Sc.EDGE,this.deleteEdge),t),a=o.BaseType;return null!==(n=null===(r=i[a])||void 0===r?void 0:r.call(this,e))&&void 0!==n&&n}},{key:"getModelById",value:function(e){return this.graphModel.getElement(e)}},{key:"getDataById",value:function(e){return this.graphModel.getElement(e).getData()}},{key:"changeNodeType",value:function(e,t){this.graphModel.changeNodeType(e,t)}},{key:"changeEdgeType",value:function(e,t){this.graphModel.changeEdgeType(e,t)}},{key:"getNodeEdges",value:function(e){return this.graphModel.getNodeEdges(e)}},{key:"addNode",value:function(e){return this.graphModel.addNode(e)}},{key:"deleteNode",value:function(e){var t=this.graphModel.getNodeModelById(e);if(!t)return!1;var n=t.getData(),r=this.options.guards,o=!r||!r.beforeDelete||r.beforeDelete(n);return o&&this.graphModel.deleteNode(e),o}},{key:"cloneNode",value:function(e){var t=this.graphModel.getNodeModelById(e),n=t.getData(),r=this.options.guards,o=!r||!r.beforeClone||r.beforeClone(n);if(o)return this.graphModel.cloneNode(e)}},{key:"changeNodeId",value:function(e,t){return this.graphModel.changeNodeId(e,t)}},{key:"getNodeModelById",value:function(e){return this.graphModel.getNodeModelById(e)}},{key:"getNodeDataById",value:function(e){return this.graphModel.getNodeModelById(e).getData()}},{key:"addEdge",value:function(e){return this.graphModel.addEdge(e)}},{key:"deleteEdge",value:function(e){var t=this.options.guards,n=this.graphModel.edgesMap[e];if(!n)return!1;var r=n.model.getData(),o=!t||!t.beforeDelete||t.beforeDelete(r);return o&&this.graphModel.deleteEdgeById(e),o}},{key:"deleteEdgeByNodeId",value:function(e){var t=e.sourceNodeId,n=e.targetNodeId;t&&n?this.graphModel.deleteEdgeBySourceAndTarget(t,n):t?this.graphModel.deleteEdgeBySource(t):n&&this.graphModel.deleteEdgeByTarget(n)}},{key:"changeEdgeId",value:function(e,t){return this.graphModel.changeEdgeId(e,t)}},{key:"getEdgeModelById",value:function(e){var t,n=this.graphModel.edgesMap;return null===(t=n[e])||void 0===t?void 0:t.model}},{key:"getEdgeModels",value:function(e){var t=this.graphModel.edges,n=e.sourceNodeId,r=e.targetNodeId;if(n&&r){var o=[];return t.forEach((function(e){e.sourceNodeId===n&&e.targetNodeId===r&&o.push(e)})),o}if(n){var i=[];return t.forEach((function(e){e.sourceNodeId===n&&i.push(e)})),i}if(r){var a=[];return t.forEach((function(e){e.targetNodeId===r&&a.push(e)})),a}return[]}},{key:"getEdgeDataById",value:function(e){var t;return null===(t=this.getEdgeModelById(e))||void 0===t?void 0:t.getData()}},{key:"getNodeIncomingEdge",value:function(e){return this.graphModel.getNodeIncomingEdge(e)}},{key:"getNodeOutgoingEdge",value:function(e){return this.graphModel.getNodeOutgoingEdge(e)}},{key:"getNodeIncomingNode",value:function(e){return this.graphModel.getNodeIncomingNode(e)}},{key:"getNodeOutgoingNode",value:function(e){return this.graphModel.getNodeOutgoingNode(e)}},{key:"editText",value:function(e){this.graphModel.editText(e)}},{key:"setProperties",value:function(e,t){var n;null===(n=this.graphModel.getElement(e))||void 0===n||n.setProperties(ad(t))}},{key:"deleteProperty",value:function(e,t){var n;null===(n=this.graphModel.getElement(e))||void 0===n||n.deleteProperty(t)}},{key:"getProperties",value:function(e){var t;return null===(t=this.graphModel.getElement(e))||void 0===t?void 0:t.getProperties()}},{key:"toFront",value:function(e){this.graphModel.toFront(e)}},{key:"setElementZIndex",value:function(e,t){return this.graphModel.setElementZIndex(e,t)}},{key:"addElements",value:function(e){for(var t=this,n=e.nodes,r=e.edges,o={},i={nodes:[],edges:[]},a=0;a<n.length;a++){var u=n[a],c=u.id,l=this.addNode(u);if(!l)return;c&&(o[c]=l.id),i.nodes.push(l)}return r.forEach((function(e){var n=e.sourceNodeId,r=e.targetNodeId;o[n]&&(n=o[n]),o[r]&&(r=o[r]);var a=t.graphModel.addEdge(DM(DM({},e),{},{sourceNodeId:n,targetNodeId:r}));i.edges.push(a)})),i}},{key:"getAreaElement",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.graphModel.getAreaElement(e,t,n,r,o).map((function(e){return e.getData()}))}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.graphModel.getSelectElements(e)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var e=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(e):e}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(e){this.graphModel.editConfigModel.updateEditConfig(e)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(e,t){return this.graphModel.getPointByClient({x:e,y:t})}},{key:"undo",value:function(){if(this.history.undoAble()){var e=ad(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"redo",value:function(){if(this.history.redoAble()){var e=ad(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"zoom",value:function(e,t){var n=this.graphModel.transformModel;return n.zoom(e,t)}},{key:"resetZoom",value:function(){var e=this.graphModel.transformModel;e.resetZoom()}},{key:"setZoomMiniSize",value:function(e){var t=this.graphModel.transformModel;t.setZoomMiniSize(e)}},{key:"setZoomMaxSize",value:function(e){var t=this.graphModel.transformModel;t.setZoomMaxSize(e)}},{key:"getTransform",value:function(){var e=this.graphModel.transformModel,t=e.SCALE_X,n=e.SCALE_Y,r=e.TRANSLATE_X,o=e.TRANSLATE_Y;return{SCALE_X:t,SCALE_Y:n,TRANSLATE_X:r,TRANSLATE_Y:o}}},{key:"translate",value:function(e,t){var n=this.graphModel.transformModel;n.translate(e,t)}},{key:"resetTranslate",value:function(){var e=this.graphModel.transformModel,t=e.TRANSLATE_X,n=e.TRANSLATE_Y;this.translate(-t,-n)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(e,t){void 0===t&&(t=e),this.graphModel.fitView(e,t)}},{key:"openEdgeAnimation",value:function(e){this.graphModel.openEdgeAnimation(e)}},{key:"closeEdgeAnimation",value:function(e){this.graphModel.closeEdgeAnimation(e)}},{key:"on",value:function(e,t){this.graphModel.eventCenter.on(e,t)}},{key:"off",value:function(e,t){this.graphModel.eventCenter.off(e,t)}},{key:"once",value:function(e,t){this.graphModel.eventCenter.once(e,t)}},{key:"emit",value:function(e,t){this.graphModel.eventCenter.emit(e,t)}},{key:"installPlugins",value:function(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=null!==(t=this.plugins)&&void 0!==t?t:e.extensions;o.forEach((function(e){var t=e.pluginName||e.name;-1===r.indexOf(t)&&n.installPlugin(e)}))}},{key:"installPlugin",value:function(t){if("object"===NM(t)){var n=t.install,r=t.render;return n&&n.call(t,this,e),r&&this.components.push(r.bind(t)),void(this.extension[t.pluginName]=t)}var o=t,i=new o({lf:this,LogicFlow:e});i.render&&this.components.push(i.render.bind(i)),this.extension[o.pluginName]=i}},{key:"updateAttributes",value:function(e,t){this.graphModel.updateAttributes(e,t)}},{key:"createFakerNode",value:function(e){var t=this.graphModel.modelMap.get(e.type);if(t){var n=new t(DM(DM({},e),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(n),n}console.warn("".concat(e.type,""))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(e){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(e)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(e,t){this.viewMap.set(e,t)}},{key:"renderRawData",value:function(e){this.graphModel.graphDataToModel(ad(e)),!1!==this.options.history&&this.history.watch(this.graphModel),Object(de["j"])(Object(de["g"])(um,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(jc.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(e=this.adapterIn(e)),this.renderRawData(e)}}],[{key:"use",value:function(e){var t=e.pluginName;t||(console.warn("".concat(e.name||e.constructor.name,"pluginName!")),t=e.name);var n=this.extensions.get(t);n&&n.destroy&&n.destroy(),this.extensions.set(t,e)}}]),e}();function BM(e){return ce(e)}RM(LM,"extensions",new Map);t["default"]=LM}])}))},5121:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(8222),o=n(2201),i=function(e){return(0,r.pushScopeId)("data-v-591be888"),e=e(),(0,r.popScopeId)(),e},a={class:"logicFlow-list-block"},u={class:"common-title"},c=i((function(){return(0,r.createElementVNode)("h3",null,"",-1)})),l=(0,r.defineComponent)({__name:"index",setup:function(e){var t=(0,o.tv)(),n=(0,r.ref)(JSON.parse(localStorage.getItem("logicList")||'[{"id":0,"name":""}]'));localStorage.setItem("logicList",JSON.stringify(n.value));var i=function(){var e=prompt("");e&&(n.value.push({id:n.value.length,name:e}),localStorage.setItem("logicList",JSON.stringify(n.value)))},l=function(e){t.push({name:"createLogicFlow",query:{id:e.id,name:e.name}})},s=function(e){t.push({name:"logicFlowDetail",query:{id:e.id}})};return function(e,t){var o=(0,r.resolveComponent)("el-button"),f=(0,r.resolveComponent)("el-table-column"),p=(0,r.resolveComponent)("el-table");return(0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createElementVNode)("div",u,[c,(0,r.createVNode)(o,{onClick:i},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("")]})),_:1})]),(0,r.createVNode)(p,{data:n.value,style:{width:"100%"}},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(f,{prop:"name",label:""}),(0,r.createVNode)(f,{prop:"createTime",label:""}),(0,r.createVNode)(f,{prop:"modifyTime",label:""}),(0,r.createVNode)(f,{prop:"creater",label:""}),(0,r.createVNode)(f,{fixed:"right",label:""},{default:(0,r.withCtx)((function(e){return[(0,r.createVNode)(o,{link:"",type:"primary",size:"small",onClick:function(t){return s(e.row)}},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("")]})),_:2},1032,["onClick"]),(0,r.createVNode)(o,{link:"",type:"primary",size:"small",onClick:function(t){return l(e.row)}},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("  ")]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])])}}}),s=n(3744);const f=(0,s.Z)(l,[["__scopeId","data-v-591be888"]]);var p=f},3623:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Po}});var r=n(8222),o={class:"pattern"},i=["onMousedown"],a=(0,r.defineComponent)({__name:"bpmnMenu",props:{lf:null},setup:function(e){var t=e,n=(0,r.toRefs)(t).lf;(0,r.watch)(n,(function(){n.value&&n.value.on("selection:selected",(function(){n.value.updateEditConfig({stopMoveGraph:!1})}))}));var a=["control","events","gateways","task","logic"],u=[{name:"",type:"h-bpmn:startEvent",className:"pattern-start"},{name:"",type:"h-bpmn:timerIntermediateEvent",className:"pattern-time"},{name:"",type:"h-bpmn:endEvent",className:"pattern-end"}],c=[{name:"",type:"h-bpmn:userTask",className:"pattern-user"},{name:"",type:"h-bpmn:equipmentTask",className:"pattern-equipment"},{name:"",type:"h-bpmn:serviceTask",className:"pattern-service"},{name:"",type:"h-bpmn:callActivity",className:"pattern-call"}],l=[{id:"control",title:"",children:[{name:"",type:"selection",className:"pattern-selection"}]},{id:"events",title:"",children:u},{id:"task",title:"",children:c},{id:"logic",title:"",children:[{name:"",type:"h-bpmn:complexGatewayOr",className:"pattern-or"},{name:"",type:"h-bpmn:complexGatewayAnd",className:"pattern-and"},{name:"",type:"h-bpmn:complexGateway",className:"pattern-complex"},{name:"",type:"h-bpmn:exclusiveGateway",className:"pattern-exclusive"}]}];function s(e){"selection"!==e?n&&n.value.dnd.startDrag({type:e}):n.value.updateEditConfig({stopMoveGraph:!0})}return function(e,t){var n=(0,r.resolveComponent)("el-collapse-item"),u=(0,r.resolveComponent)("el-collapse");return(0,r.openBlock)(),(0,r.createElementBlock)("div",o,[(0,r.createVNode)(u,{modelValue:a,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a=e})},{default:(0,r.withCtx)((function(){return[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l,(function(e){return(0,r.createVNode)(n,{key:e.id,title:e.title,name:e.id},{default:(0,r.withCtx)((function(){return[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.children,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.type,class:"pattern-item"},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["pattern-ins",e.className]),onMousedown:function(t){return s(e.type)}},null,42,i),(0,r.createElementVNode)("div",null,(0,r.toDisplayString)(e.name),1)])})),128))]})),_:2},1032,["title","name"])})),64))]})),_:1})])}}}),u=n(3744);const c=(0,u.Z)(a,[["__scopeId","data-v-500dea52"]]);var l=c,s=n(9782),f=n.n(s);function p(e,t){return t={exports:{}},e(t,t.exports),t.exports}var d=p((function(e){var t=e.exports=function(e,n){if(n||(n=16),void 0===e&&(e=128),e<=0)return"0";for(var r=Math.log(Math.pow(2,e))/Math.log(n),o=2;r===1/0;o*=2)r=Math.log(Math.pow(2,e/o))/Math.log(n)*o;var i=r-Math.floor(r),a="";for(o=0;o<Math.floor(r);o++){var u=Math.floor(Math.random()*n).toString(n);a=u+a}if(i){var c=Math.pow(n,i);u=Math.floor(Math.random()*c).toString(n);a=u+a}var l=parseInt(a,n);return l!==1/0&&l>=Math.pow(2,e)?t(e,n):a};t.rack=function(e,n,r){var o=function(o){var a=0;do{if(a++>10){if(!r)throw new Error("too many ID collisions, use more bits");e+=r}var u=t(e,n)}while(Object.hasOwnProperty.call(i,u));return i[u]=o,u},i=o.hats={};return o.get=function(e){return o.hats[e]},o.set=function(e,t){return o.hats[e]=t,o},o.bits=e||128,o.base=n||16,o}}));function h(e){if(!(this instanceof h))return new h(e);e=e||[128,36,1],this._seed=e.length?d.rack(e[0],e[1],e[2]):e}h.prototype.next=function(e){return this._seed(e||!0)},h.prototype.nextPrefixed=function(e,t){var n;do{n=e+this.next(!0)}while(this.assigned(n));return this.claim(n,t),n},h.prototype.claim=function(e,t){this._seed.set(e,t||!0)},h.prototype.assigned=function(e){return this._seed.get(e)||!1},h.prototype.unclaim=function(e){delete this._seed.hats[e]},h.prototype.clear=function(){var e,t=this._seed.hats;for(e in t)this.unclaim(e)};var y=h,v=new y([32,32,1]);function g(){return v.next()}var b=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(e){function t(t,n){var r=this;return t.id||(t.id="Event_"+g()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),r=e.call(this,t,n)||this,r}return b(t,e),t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedTargetRules=function(){var t=e.prototype.getConnectedTargetRules.call(this),n={message:"",validate:function(){return!1}};return t.push(n),t},t.extendKey="StartEventModel",t}(s.CircleNodeModel),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.extendKey="StartEventNode",t}(s.CircleNode),O={type:"bpmn:startEvent",view:w,model:m},_=O,x=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},E.apply(this,arguments)},S=function(e){function t(t,n){var r=this;return t.id||(t.id="Event_"+g()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),r=e.call(this,t,n)||this,r}return x(t,e),t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedSourceRules=function(){var t=e.prototype.getConnectedSourceRules.call(this),n={message:"",validate:function(){return!1}};return t.push(n),t},t.extendKey="EndEventModel",t}(s.CircleNodeModel),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var t=this.props.model,n=t.getNodeStyle(),r=t.x,o=t.y,i=t.r,a=e.prototype.getShape.call(this);return(0,s.h)("g",{},a,(0,s.h)("circle",E(E({},n),{cx:r,cy:o,r:i-5})))},t.extendKey="EndEventView",t}(s.CircleNode),P={type:"bpmn:endEvent",view:j,model:S},k=P,A=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},N.apply(this,arguments)},M=function(e){function t(t,n){var r=this;return t.id||(t.id="Gateway_"+g()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),r=e.call(this,t,n)||this,r.points=[[25,0],[50,25],[25,50],[0,25]],r}return A(t,e),t.extendKey="ExclusiveGatewayModel",t}(s.PolygonNodeModel),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.prototype.getShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.points,a=e.getNodeStyle();return(0,s.h)("g",{transform:"matrix(1 0 0 1 "+(t-r/2)+" "+(n-o/2)+")"},(0,s.h)("polygon",N(N({},a),{x:t,y:n,points:i})),(0,s.h)("path",N({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},a)))},t.extendKey="ExclusiveGatewayNode",t}(s.PolygonNode),T={type:"bpmn:exclusiveGateway",view:D,model:M},C=T,I=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(){return R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},R.apply(this,arguments)},L=function(e){function t(t,n){var r=this;return t.id||(t.id="Activity_"+g()),r=e.call(this,t,n)||this,r}return I(t,e),t.extendKey="UserTaskModel",t}(s.RectNodeModel),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t.prototype.getLabelShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return(0,s.h)("svg",{x:t-r/2+5,y:n-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,s.h)("path",{fill:i.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},t.prototype.getShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.getNodeStyle();return(0,s.h)("g",{},[(0,s.h)("rect",R(R({},a),{x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o})),this.getLabelShape()])},t.extendKey="UserTaskNode",t}(s.RectNode),z={type:"bpmn:userTask",view:B,model:L},V=z,H=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(){return F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},F.apply(this,arguments)},G=function(e){function t(t,n){var r=this;return t.id||(t.id="Activity_"+g()),r=e.call(this,t,n)||this,r}return H(t,e),t.extendKey="ServiceTaskModel",t}(s.RectNodeModel),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return H(t,e),t.prototype.getLabelShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return(0,s.h)("svg",{x:t-r/2+5,y:n-o/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,s.h)("path",{fill:i.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},t.prototype.getShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.getNodeStyle();return(0,s.h)("g",{},[(0,s.h)("rect",F({x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o},a)),this.getLabelShape()])},t.extendKey="ServiceTaskNode",t}(s.RectNode),X={type:"bpmn:serviceTask",view:U,model:G},Y=X,W=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(e){function t(t,n){var r=this;return t.id||(t.id="Flow_"+g()),r=e.call(this,t,n)||this,r}return W(t,e),t.extendKey="SequenceFlowModel",t}(s.PolylineEdgeModel),Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.extendKey="SequenceFlowEdge",t}(s.PolylineEdge),q={type:"bpmn:sequenceFlow",view:Z,model:K},J=q,Q={width:40,height:40},$={width:40,height:40},ee={width:40,height:40},te={width:100,height:80},ne={width:100,height:80},re={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},oe=(function(){function e(e){var t=e.lf;t.setTheme(re),t.register(_),t.register(k),t.register(C),t.register(V),t.register(Y),t.options.customBpmnEdge||(t.register(J),t.setDefaultEdgeType("bpmn:sequenceFlow"))}e.pluginName="bpmnElement"}(),function(){function e(e){var t=this,n=e.lf;this.lf=n,this.customCssRules="",this.useGlobalRules=!0,n.getSnapshot=function(e,n){t.getSnapshot(e,n)},n.getSnapshotBlob=function(e){return t.getSnapshotBlob(e)},n.getSnapshotBase64=function(e){return t.getSnapshotBase64(e)}}return e.prototype.getSvgRootElement=function(e){var t=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,e.graphModel.nodes.forEach((function(e){var n=e.x,r=e.width,o=e.y,i=e.height,a=n-r/2,u=o-i/2;a<t.offsetX&&(t.offsetX=a-5),u<t.offsetY&&(t.offsetY=u-5)})),e.graphModel.edges.forEach((function(e){e.pointsList&&e.pointsList.forEach((function(e){var n=e.x,r=e.y;n<t.offsetX&&(t.offsetX=n-5),r<t.offsetY&&(t.offsetY=r-5)}))}));var n=e.container.querySelector(".lf-canvas-overlay");return n},e.prototype.triggerDownload=function(e){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),n=document.createElement("a");n.setAttribute("download",this.fileName),n.setAttribute("href",e),n.setAttribute("target","_blank"),n.dispatchEvent(t)},e.prototype.removeAnchor=function(e){for(var t=e.childNodes,n=e.childNodes&&e.childNodes.length,r=0;r<n;r++){var o=t[r],i=o.classList&&Array.from(o.classList)||[];i.indexOf("lf-anchor")>-1&&(e.removeChild(e.childNodes[r]),n--,r--)}},e.prototype.getSnapshot=function(e,t){var n=this;this.fileName=e||"logic-flow."+Date.now()+".png";var r=this.getSvgRootElement(this.lf);this.getCanvasData(r,t).then((function(e){var t=e.toDataURL("image/png").replace("image/png","image/octet-stream");n.triggerDownload(t)}))},e.prototype.getSnapshotBase64=function(e){var t=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){t.getCanvasData(n,e).then((function(e){var t=e.toDataURL("image/png");r({data:t,width:e.width,height:e.height})}))}))},e.prototype.getSnapshotBlob=function(e){var t=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){t.getCanvasData(n,e).then((function(e){e.toBlob((function(t){r({data:t,width:e.width,height:e.height})}),"image/png")}))}))},e.prototype.getClassRules=function(){var e="";if(this.useGlobalRules)for(var t=document.styleSheets,n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.cssRules.length;o++)e+=r.cssRules[o].cssText;return this.customCssRules&&(e+=this.customCssRules),e},e.prototype.getCanvasData=function(e,t){var n=this,r=e.cloneNode(!0),o=r.lastChild,i=o.childNodes&&o.childNodes.length;if(i)for(var a=0;a<i;a++){var u=o.childNodes[a],c=u.classList&&Array.from(u.classList);if(c&&c.indexOf("lf-base")<0)o.removeChild(o.childNodes[a]),i--,a--;else{var l=o.childNodes[a];l&&l.childNodes.forEach((function(e){var t=e;n.removeAnchor(t.firstChild)}))}}r.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var s=window.devicePixelRatio||1,f=document.createElement("canvas"),p=this.lf.graphModel.rootEl.querySelector(".lf-base"),d=p.getBoundingClientRect(),h=this.lf.graphModel,y=h.transformModel,v=y.SCALE_X,g=y.SCALE_Y,b=Math.ceil(d.width/v),m=Math.ceil(d.height/g);f.style.width=b+"px",f.style.height=m+"px",f.width=b*s+80,f.height=m*s+80;var w=f.getContext("2d");w.clearRect(0,0,f.width,f.height),w.scale(s,s),t?(w.fillStyle=t,w.fillRect(0,0,b*s+80,m*s+80)):w.clearRect(0,0,b,m);var O=new Image,_=document.createElement("style");_.innerHTML=this.getClassRules();var x=document.createElement("foreignObject");return x.appendChild(_),r.appendChild(x),new Promise((function(e){O.onload=function(){w.drawImage(O,0,0),e(f)};var t="data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(r),n=t.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");O.src=n}))},e.pluginName="snapshot",e}()),ie=new y([32,32,1]);function ae(){return ie.next()}var ue=function(){};ue.ObjTree=function(){return this},ue.ObjTree.VERSION="0.23",ue.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',ue.ObjTree.prototype.attr_prefix="-",ue.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(e,"application/xml");if(!r)return;t=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(e),t=n.documentElement);if(t)return this.parseDOM(t)},ue.ObjTree.prototype.parseHTTP=function(e,t,n){var r,o={};for(var i in t)o[i]=t[i];if(o.method||("undefined"==typeof o.postBody&&"undefined"==typeof o.postbody&&"undefined"==typeof o.parameters?o.method="get":o.method="post"),n){o.asynchronous=!0;var a=this,u=n,c=o.onComplete;o.onComplete=function(e){var t;e&&e.responseXML&&e.responseXML.documentElement&&(t=a.parseDOM(e.responseXML.documentElement)),u(t,e),c&&c(e)}}else o.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request){o.uri=e;var l=new HTTP.Request(o);l&&(r=l.transport)}else if("undefined"!=typeof Ajax&&Ajax.Request){l=new Ajax.Request(e,o);l&&(r=l.transport)}return n?r:r&&r.responseXML&&r.responseXML.documentElement?this.parseDOM(r.responseXML.documentElement):void 0},ue.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var n=this.parseElement(e);if(this.__force_array[e.nodeName]&&(n=[n]),11!=e.nodeType){var r={};r[e.nodeName]=n,n=r}return n}},ue.ObjTree.prototype.parseElement=function(e){if(7!=e.nodeType){if(3==e.nodeType||4==e.nodeType){var t=e.nodeValue.match(/[^\x00-\x20]/);if(null==t)return;return e.nodeValue}var n,r={};if(e.attributes&&e.attributes.length){n={};for(var o=0;o<e.attributes.length;o++){var i=e.attributes[o].nodeName;if("string"==typeof i){var a=e.attributes[o].nodeValue;a&&(i=this.attr_prefix+i,"undefined"==typeof r[i]&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}if(e.childNodes&&e.childNodes.length){var u=!0;n&&(u=!1);for(o=0;o<e.childNodes.length&&u;o++){var c=e.childNodes[o].nodeType;3!=c&&4!=c&&(u=!1)}if(u){n||(n="");for(o=0;o<e.childNodes.length;o++)n+=e.childNodes[o].nodeValue}else{n||(n={});for(o=0;o<e.childNodes.length;o++){i=e.childNodes[o].nodeName;if("string"==typeof i){a=this.parseElement(e.childNodes[o]);a&&("undefined"==typeof r[i]&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}}return n}},ue.ObjTree.prototype.addNode=function(e,t,n,r){this.__force_array[t]?(1==n&&(e[t]=[]),e[t][e[t].length]=r):1==n?e[t]=r:2==n?e[t]=[e[t],r]:e[t][e[t].length]=r},ue.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t},ue.ObjTree.prototype.hash_to_xml=function(e,t){var n=[],r=[];for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];o.charAt(0)!=this.attr_prefix?"undefined"==typeof i||null==i?n[n.length]="<"+o+" />":"object"==typeof i&&i.constructor==Array?n[n.length]=this.array_to_xml(o,i):n[n.length]="object"==typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),u=n.join("");return"undefined"==typeof e||null==e||(u=n.length>0?u.match(/\n/)?"<"+e+a+">\n"+u+"</"+e+">\n":"<"+e+a+">"+u+"</"+e+">\n":"<"+e+a+" />\n"),u},ue.ObjTree.prototype.array_to_xml=function(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r];"undefined"==typeof o||null==o?n[n.length]="<"+e+" />":"object"==typeof o&&o.constructor==Array?n[n.length]=this.array_to_xml(e,o):n[n.length]="object"==typeof o?this.hash_to_xml(e,o):this.scalar_to_xml(e,o)}return n.join("")},ue.ObjTree.prototype.scalar_to_xml=function(e,t){return"#text"==e?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+">\n"},ue.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ce,le=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a};(function(e){e["START"]="bpmn:startEvent",e["END"]="bpmn:endEvent",e["GATEWAY"]="bpmn:exclusiveGateway",e["USER"]="bpmn:userTask",e["SYSTEM"]="bpmn:serviceTask",e["FLOW"]="bpmn:sequenceFlow"})(ce||(ce={}));var se=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function fe(e){var t={};return Object.entries(e).forEach((function(e){var n=le(e,2),r=n[0],o=n[1];"object"!==typeof o?0===r.indexOf("-")?t[r]=o:t["-"+r]=o:t[r]=fe(o)})),t}function pe(e){var t={};return Object.entries(e).forEach((function(e){var n=le(e,2),r=n[0],o=n[1];"string"===typeof o?0===r.indexOf("-")?t[r.substr(1)]=o:t[r]=o:t[r]="object"===typeof o?pe(o):o})),t}function de(e,t){var n=new Map;t.nodes.forEach((function(t){var r,o={"-id":t.id};if((null===(r=t.text)||void 0===r?void 0:r.value)&&(o["-name"]=t.text.value),t.properties){var i=fe(t.properties);Object.assign(o,i)}n.set(t.id,o),e[t.type]?Array.isArray(e[t.type])?e[t.type].push(o):e[t.type]=[e[t.type],o]:e[t.type]=o}));var r=t.edges.map((function(e){var t,r,o=n.get(e.targetNodeId);o["bpmn:incoming"]?Array.isArray(o["bpmn:incoming"])?o["bpmn:incoming"].push(e.id):o["bpmn:incoming"]=[o["bpmn:incoming"],e.id]:o["bpmn:incoming"]=e.id;var i=n.get(e.sourceNodeId);i["bpmn:outgoing"]?Array.isArray(i["bpmn:outgoing"])?i["bpmn:outgoing"].push(e.id):i["bpmn:outgoing"]=[i["bpmn:outgoing"],e.id]:i["bpmn:outgoing"]=e.id;var a={"-id":e.id,"-sourceRef":e.sourceNodeId,"-targetRef":e.targetNodeId};if((null===(t=e.text)||void 0===t?void 0:t.value)&&(a["-name"]=null===(r=e.text)||void 0===r?void 0:r.value),e.properties){var u=fe(e.properties);Object.assign(a,u)}return a}));e[ce.FLOW]=r}function he(e,t){e["bpmndi:BPMNEdge"]=t.edges.map((function(e){var t,n=e.id,r=e.pointsList.map((function(e){var t=e.x,n=e.y;return{"-x":t,"-y":n}})),o={"-id":n+"_di","-bpmnElement":n,"di:waypoint":r};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(o["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),o})),e["bpmndi:BPMNShape"]=t.nodes.map((function(e){var t,n=e.id,r=100,o=80,i=e.x,a=e.y,u=we.shapeConfigMap.get(e.type);u&&(r=u.width,o=u.height),i-=r/2,a-=o/2;var c={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":i,"-y":a,"-width":r,"-height":o}};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(c["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),c}))}function ye(e){var t=[],n=[],r=e["bpmn:definitions"];if(r){var o=r["bpmn:process"];Object.keys(o).forEach((function(e){if(0===e.indexOf("bpmn:")){var i=o[e];if(e===ce.FLOW){var a=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=be(i,a)}else{var u=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];t=t.concat(ve(i,u,e))}}}))}return{nodes:t,edges:n}}function ve(e,t,n){var r=[];if(Array.isArray(e))e.forEach((function(e){var o;o=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t;var i=ge(o,n,e);r.push(i)}));else{var o=void 0;o=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t;var i=ge(o,n,e);r.push(i)}return r}function ge(e,t,n){var r,o,i=Number(e["dc:Bounds"]["-x"]),a=Number(e["dc:Bounds"]["-y"]),u=n["-name"],c=we.shapeConfigMap.get(t);if(c&&(i+=c.width/2,a+=c.height/2),Object.entries(n).forEach((function(e){var t=le(e,2),n=t[0],o=t[1];-1===se.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=pe(r)),u&&(o={x:i,y:a,value:u},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var l=e["bpmndi:BPMNLabel"]["dc:Bounds"];o.x=Number(l["-x"])+Number(l["-width"])/2,o.y=Number(l["-y"])+Number(l["-height"])/2}var s={id:e["-bpmnElement"],type:t,x:i,y:a,properties:r};return o&&(s.text=o),s}function be(e,t){var n=[];if(Array.isArray(e))e.forEach((function(e){var r;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(me(r,e))}));else{var r=void 0;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(me(r,e))}return n}function me(e,t){var n,r,o=t["-name"];if(o){var i=e["bpmndi:BPMNLabel"]["dc:Bounds"],a=0;o.split("\n").forEach((function(e){a<e.length&&(a=e.length)})),n={value:o,x:Number(i["-x"])+10*a/2,y:Number(i["-y"])+7}}Object.entries(t).forEach((function(e){var t=le(e,2),n=t[0],o=t[1];-1===se.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=pe(r));var u={id:t["-id"],type:ce.FLOW,pointsList:e["di:waypoint"].map((function(e){return{x:Number(e["-x"]),y:Number(e["-y"])}})),sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:r};return n&&(u.text=n),u}var we={pluginName:"bpmn-adapter",install:function(e){e.adapterIn=this.adapterIn,e.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(e,t){this.shapeConfigMap.set(e,t)},adapterOut:function(e){var t={"-id":"Process_"+ae(),"-isExecutable":"false"};de(t,e);var n={"-id":"BPMNPlane_1","-bpmnElement":t["-id"]};he(n,e);var r={"bpmn:definitions":{"-id":"Definitions_"+ae(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":t,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":n}}};return r},adapterIn:function(e){if(e)return ye(e)}};we.shapeConfigMap.set(ce.START,{width:Q.width,height:Q.height}),we.shapeConfigMap.set(ce.END,{width:$.width,height:$.height}),we.shapeConfigMap.set(ce.GATEWAY,{width:ee.width,height:ee.height}),we.shapeConfigMap.set(ce.SYSTEM,{width:te.width,height:te.height}),we.shapeConfigMap.set(ce.USER,{width:ne.width,height:ne.height});var Oe=function(){return Oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Oe.apply(this,arguments)},_e=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},xe={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,EXCLUSIVE_GATEWAY:6},Ee={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function Se(e){switch(e){case"bpmn:sequenceFlow":return xe.SEQUENCE_FLOW;case"bpmn:startEvent":return xe.START_EVENT;case"bpmn:endEvent":return xe.END_EVENT;case"bpmn:userTask":return xe.USER_TASK;case"bpmn:exclusiveGateway":return xe.EXCLUSIVE_GATEWAY;default:return e}}function je(e){var t=e.id,n=(e.type,e.x),r=e.y,o=e.text,i=void 0===o?"":o,a=e.properties;return{incoming:[],outgoing:[],dockers:[],type:Se(e.type),properties:Oe(Oe({},a),{name:i&&i.value||"",x:n,y:r,text:i}),key:t}}function Pe(e){var t=e.id,n=e.type,r=e.sourceNodeId,o=e.targetNodeId,i=e.startPoint,a=e.endPoint,u=e.pointsList,c=e.text,l=void 0===c?"":c,s=e.properties;return{incoming:[r],outgoing:[o],type:Se(n),dockers:[],properties:Oe(Oe({},s),{name:l&&l.value||"",text:l,startPoint:JSON.stringify(i),endPoint:JSON.stringify(a),pointsList:JSON.stringify(u)}),key:t}}function ke(e){var t=new Map,n={flowElementList:[]};return e.nodes.forEach((function(e){var r=je(e);n.flowElementList.push(r),t.set(e.id,r)})),e.edges.forEach((function(e){var r=Pe(e),o=t.get(e.sourceNodeId);o.outgoing.push(r.key);var i=t.get(e.targetNodeId);i.incoming.push(r.key),n.flowElementList.push(r)})),n}function Ae(e){var t=e.incoming,n=e.outgoing,r=e.properties,o=e.key,i=e.type,a=r.text,u=r.name,c=r.startPoint,l=r.endPoint,s=r.pointsList,f={id:o,type:Ee[i],sourceNodeId:t[0],targetNodeId:n[0],text:a||u,properties:{}};c&&(f.startPoint=JSON.parse(c)),l&&(f.endPoint=JSON.parse(l)),s&&(f.pointsList=JSON.parse(s));var p=["startPoint","endPoint","pointsList","text"];return Object.keys(e.properties).forEach((function(t){-1===p.indexOf(t)&&(f.properties[t]=e.properties[t])})),f}function Ne(e){var t=e.properties,n=e.key,r=e.type,o=e.bounds,i=t.x,a=t.y,u=t.text;if(void 0===i){var c=_e(o,2),l=c[0],s=l.x,f=l.y,p=c[1],d=p.x,h=p.y;i=(s+d)/2,a=(f+h)/2}var y={id:n,type:Ee[r],x:i,y:a,text:u,properties:{}},v=["x","y","text"];return Object.keys(e.properties).forEach((function(t){-1===v.indexOf(t)&&(y.properties[t]=e.properties[t])})),y}function Me(e){var t={nodes:[],edges:[]},n=e.flowElementList;return n&&n.length>0&&n.forEach((function(e){if(e.type===xe.SEQUENCE_FLOW){var n=Ae(e);t.edges.push(n)}else{var r=Ne(e);t.nodes.push(r)}})),t}var De;(function(){function e(e){var t=e.lf;t.adapterIn=this.adapterIn,t.adapterOut=this.adapterOut}e.prototype.adapterOut=function(e){if(e)return ke(e)},e.prototype.adapterIn=function(e){if(e)return Me(e)},e.pluginName="turboAdapter"})();(function(e){e["HORIZONTAL"]="horizontal",e["VERTICAL"]="vertical"})(De||(De={}));var Te,Ce,Ie,Re,Le,Be=function(e,t,n){var r=e.x,o=e.y;return(r-t.x)*(r-n.x)<=0&&(o-t.y)*(o-n.y)<=0},ze=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i={minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2,x:t,y:n,width:r,height:o,centerX:t,centerY:n};return i},Ve=function(e,t){var n;return e.x===t.x?n=De.VERTICAL:e.y===t.y&&(n=De.HORIZONTAL),n},He=function(e,t,n){var r=ze(e),o=Ve(t,n),i=Math.max(t.x,n.x),a=Math.min(t.x,n.x),u=Math.max(t.y,n.y),c=Math.min(t.y,n.y),l=e.x,s=e.y,f=e.width,p=e.height;if(o===De.HORIZONTAL){if(t.y===s&&i>=r.maxX&&a<=r.minX)return{startCrossPoint:{x:t.x>n.x?l+f/2:l-f/2,y:s},endCrossPoint:{x:t.x>n.x?l-f/2:l+f/2,y:s}}}else if(o===De.VERTICAL&&t.x===e.x&&u>=r.maxY&&c<=r.minY)return{startCrossPoint:{x:l,y:t.y>n.y?s+p/2:s-p/2},endCrossPoint:{x:l,y:t.y>n.y?s-p/2:s+p/2}}},Fe=function(e,t){for(var n=e.x,r=e.y,o=t.pointsList,i=0;i<o.length-1;i++)if(Be({x:n,y:r},o[i],o[i+1])){var a=He(e,o[i],o[i+1]);if(a)return{crossIndex:i+1,crossPoints:a}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},Ge=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Ue=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ge(arguments[t]));return e},Xe=function(){function e(e){var t=e.lf;this._lf=t,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return e.prototype.eventHandler=function(){var e=this;this.dndAdd&&this._lf.on("node:dnd-add",(function(t){var n=t.data;e.insetNode(n)})),this.dropAdd&&this._lf.on("node:drop",(function(t){for(var n=t.data,r=e._lf.graphModel.edges,o=n.id,i=!0,a=0;a<r.length;a++)if(r[a].sourceNodeId===o||r[a].targetNodeId===o){i=!1;break}i&&e.insetNode(n)}))},e.prototype.insetNode=function(e){for(var t=this._lf.graphModel.edges,n=this._lf.getNodeModelById(e.id),r=0;r<t.length;r++){var o=Fe(n,t[r]),i=o.crossIndex,a=o.crossPoints;if(i>=0){var u=t[r],c=u.sourceNodeId,l=u.targetNodeId,s=u.id,f=u.type,p=u.pointsList;this._lf.addEdge({type:f,sourceNodeId:c,targetNodeId:e.id,pointsList:Ue(p.slice(0,i),[a.startCrossPoint])}),this._lf.addEdge({type:f,sourceNodeId:e.id,targetNodeId:l,pointsList:Ue([a.endCrossPoint],p.slice(i))}),this._lf.deleteEdge(s);break}}},e.pluginName="insertNodeInPolyline",e}(),Ye=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},We=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ye(arguments[t]));return e},Ke=(function(){function e(e){var t=this,n=e.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"",text:"",onClick:function(){t.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"",text:"",onClick:function(){t.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"",text:"",onClick:function(){t.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"",text:"",onClick:function(){t.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"",text:"",onClick:function(){t.lf.redo()}}],this.lf=n}e.prototype.render=function(e,t){this.destroy();var n=this.getControlTool();this.toolEl=n,t.appendChild(n),this.domContainer=t},e.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},e.prototype.addItem=function(e){this.controlItems.push(e)},e.prototype.removeItem=function(e){var t=this.controlItems.findIndex((function(t){return t.key===e}));return this.controlItems.splice(t,1)[0]},e.prototype.getControlTool=function(){var e=this,t="lf-control-item",n="lf-control-item disabled",r=document.createElement("div"),o=[];return r.className="lf-control",this.controlItems.forEach((function(r){var i=document.createElement("div"),a=document.createElement("i"),u=document.createElement("span");switch(i.className=n,r.onClick&&(i.onclick=r.onClick.bind(null,e.lf)),r.onMouseEnter&&(i.onmouseenter=r.onMouseEnter.bind(null,e.lf)),r.onMouseLeave&&(i.onmouseleave=r.onMouseLeave.bind(null,e.lf)),a.className=r.iconClass,u.className="lf-control-text",u.title=r.title,u.innerText=r.text,i.append(a,u),r.text){case"":e.lf.on("history:change",(function(e){var r=e.data.undoAble;i.className=r?t:n}));break;case"":e.lf.on("history:change",(function(e){var r=e.data.redoAble;i.className=r?t:n}));break;default:i.className=t;break}o.push(i)})),r.append.apply(r,We(o)),r},e.pluginName="control"}(),function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}),Ze=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ke(arguments[t]));return e},qe="lf:defaultNodeMenu",Je="lf:defaultEdgeMenu",Qe="lf:defaultGraphMenu",$e="lf:defaultSelectionMenu",et=function(){function e(e){var t=this,n=e.lf;this.__menuDOM=document.createElement("ul"),this.lf=n,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(e){t.setMenuConfig(e)},this.lf.addMenuConfig=function(e){t.addMenuConfig(e)},this.lf.setMenuByType=function(e){t.setMenuByType(e)}}return e.prototype.init=function(){var e=this,t=[{text:"",callback:function(t){e.lf.deleteNode(t.id)}},{text:"",callback:function(t){e.lf.graphModel.editText(t.id)}},{text:"",callback:function(t){e.lf.cloneNode(t.id)}}];this.menuTypeMap.set(qe,t);var n=[{text:"",callback:function(t){e.lf.deleteEdge(t.id)}},{text:"",callback:function(t){e.lf.graphModel.editText(t.id)}}];this.menuTypeMap.set(Je,n),this.menuTypeMap.set(Qe,[]);var r=[{text:"",callback:function(t){e.lf.clearSelectElements(),t.edges.forEach((function(t){return e.lf.deleteEdge(t.id)})),t.nodes.forEach((function(t){return e.lf.deleteNode(t.id)}))}}];this.menuTypeMap.set($e,r)},e.prototype.render=function(e,t){var n=this;this.__container=t,this.__currentData=null,this.__menuDOM.className="lf-menu",t.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",(function(e){e.stopPropagation();var t=e.target;while(-1===Array.from(t.classList).indexOf("lf-menu-item")&&-1===Array.from(t.classList).indexOf("lf-menu"))t=t.parentElement;Array.from(t.classList).indexOf("lf-menu-item")>-1?(t.onclickCallback(n.__currentData),n.__menuDOM.style.display="none",n.__currentData=null):console.warn("")}),!0),this.lf.on("node:contextmenu",(function(e){var t=e.data,r=e.position,o=r.domOverlayPosition,i=o.x,a=o.y,u=t.id,c=n.lf.graphModel.getNodeModelById(u),l=[],s=n.menuTypeMap.get(c.type);l=c&&c.menu&&Array.isArray(c.menu)?c.menu:s||n.menuTypeMap.get(qe),n.__currentData=t,n.showMenu(i,a,l)})),this.lf.on("edge:contextmenu",(function(e){var t=e.data,r=e.position,o=r.domOverlayPosition,i=o.x,a=o.y,u=t.id,c=n.lf.graphModel.getEdgeModelById(u),l=[],s=n.menuTypeMap.get(c.type);l=c&&c.menu&&Array.isArray(c.menu)?c.menu:s||n.menuTypeMap.get(Je),n.__currentData=t,n.showMenu(i,a,l)})),this.lf.on("blank:contextmenu",(function(e){var t=e.position,r=n.menuTypeMap.get(Qe),o=t.domOverlayPosition,i=o.x,a=o.y;n.showMenu(i,a,r)})),this.lf.on("selection:contextmenu",(function(e){var t=e.data,r=e.position,o=n.menuTypeMap.get($e),i=r.domOverlayPosition,a=i.x,u=i.y;n.__currentData=t,n.showMenu(a,u,o)})),this.lf.on("node:mousedown",(function(){n.__menuDOM.style.display="none"})),this.lf.on("edge:click",(function(){n.__menuDOM.style.display="none"})),this.lf.on("blank:click",(function(){n.__menuDOM.style.display="none"}))},e.prototype.destroy=function(){var e;null===(e=null===this||void 0===this?void 0:this.__container)||void 0===e||e.removeChild(this.__menuDOM),this.__menuDOM=null},e.prototype.showMenu=function(e,t,n){if(n&&n.length){var r=this.__menuDOM;r.innerHTML="",r.append.apply(r,Ze(this.__getMenuDom(n))),r.children.length&&(r.style.display="block",r.style.top=t+"px",r.style.left=e+"px")}},e.prototype.setMenuByType=function(e){e.type&&e.menu&&this.menuTypeMap.set(e.type,e.menu)},e.prototype.__getMenuDom=function(e){var t=[];return e&&e.length>0&&e.forEach((function(e){var n=document.createElement("li");if(e.className?n.className="lf-menu-item "+e.className:n.className="lf-menu-item",!0===e.icon){var r=document.createElement("span");r.className="lf-menu-item-icon",n.appendChild(r)}var o=document.createElement("span");o.className="lf-menu-item-text",e.text&&(o.innerText=e.text),n.appendChild(o),n.onclickCallback=e.callback,t.push(n)})),t},e.prototype.setMenuConfig=function(e){e&&(void 0!==e.nodeMenu&&this.menuTypeMap.set(qe,e.nodeMenu?e.nodeMenu:[]),void 0!==e.edgeMenu&&this.menuTypeMap.set(Je,e.edgeMenu?e.edgeMenu:[]),void 0!==e.graphMenu&&this.menuTypeMap.set(Qe,e.graphMenu?e.graphMenu:[]))},e.prototype.addMenuConfig=function(e){if(e){if(Array.isArray(e.nodeMenu)){var t=this.menuTypeMap.get(qe);this.menuTypeMap.set(qe,t.concat(e.nodeMenu))}if(Array.isArray(e.edgeMenu)){t=this.menuTypeMap.get(Je);this.menuTypeMap.set(Je,t.concat(e.edgeMenu))}if(Array.isArray(e.graphMenu)){t=this.menuTypeMap.get(Qe);this.menuTypeMap.set(Qe,t.concat(e.graphMenu))}}},e.prototype.changeMenuItem=function(e,t){if("add"===e)this.addMenuConfig(t);else{if("reset"!==e)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.setMenuConfig(t)}},e.pluginName="menu",e}(),tt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},nt="menu-common",rt=200,ot=100,it=(function(){function e(e){var t=this,n=e.lf;this.menuTypeMap=new Map,this.listenDelete=function(){t.hideContextMenu()},this.lf=n,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(nt,[]),this.lf.setContextMenuByType=function(e,n){t.setContextMenuByType(e,n)},this.lf.setContextMenuItems=function(e){t.setContextMenuItems(e)},this.lf.showContextMenu=function(e){t.showContextMenu(e)},this.lf.hideContextMenu=function(){t.hideContextMenu()}}e.prototype.render=function(e,t){var n=this;this.container=t,e.on("node:click",(function(e){var t=e.data;n._activeData=t,n.createContextMenu()})),e.on("edge:click",(function(e){var t=e.data;n._activeData=t,n.createContextMenu()})),e.on("blank:click",(function(){n.hideContextMenu()}))},e.prototype.setContextMenuByType=function(e,t){this.menuTypeMap.set(e,t)},e.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},e.prototype.showContextMenu=function(e){e&&e.id?(this._activeData=e,this.createContextMenu()):console.warn("")},e.prototype.setContextMenuItems=function(e){this.menuTypeMap.set(nt,e)},e.prototype.getContextMenuPosition=function(){var e=this._activeData,t=this.lf.graphModel.getElement(e.id);if(t){var n,r;if("edge"===t.BaseType){n=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER;var o=t.getData();n=Math.max(o.startPoint.x,n),r=Math.min(o.startPoint.y,r),n=Math.max(o.endPoint.x,n),r=Math.min(o.endPoint.y,r),o.pointsList&&o.pointsList.forEach((function(e){n=Math.max(e.x,n),r=Math.min(e.y,r)}))}return"node"===t.BaseType&&(n=e.x+t.width/2,r=e.y-t.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([n,r])}console.warn(""+e.id)},e.prototype.createContextMenu=function(){var e=this,t=this.lf.options.isSilentMode;if(!t){var n=this.menuTypeMap.get(this._activeData.type)||[];n=n.concat(this.menuTypeMap.get(nt));var r=document.createDocumentFragment();n.forEach((function(t){var n=document.createElement("div");n.className="lf-context-item";var o=document.createElement("img");o.src=t.icon,o.className="lf-context-img",t.className&&(n.className=n.className+" "+t.className),o.addEventListener("click",(function(){e.hideContextMenu(),t.callback?t.callback(e._activeData):e.addNode({sourceId:e._activeData.id,x:e._activeData.x,y:e._activeData.y,properties:t.properties,type:t.type})})),n.appendChild(o),r.appendChild(n)})),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(r),this.showMenu()}},e.prototype.addNode=function(e,t){var n=void 0!==t;void 0===t&&(t=e.y);var r=this.lf.getNodeModelById(e.sourceId),o=e.x-r.width+rt,i=t-e.y/2-20,a=e.x+r.width+rt,u=t+e.y/2+20,c=this.lf.getAreaElement([o,i],[a,u]);if(c.length)return t+=ot,void this.addNode(e,t);var l,s,f=this.lf.addNode({type:e.type,x:e.x+200,y:t,properties:e.properties});n&&(l={x:e.x,y:e.y+r.height/2},s={x:f.x-f.width/2,y:f.y}),this.lf.addEdge({sourceNodeId:e.sourceId,targetNodeId:f.id,startPoint:l,endPoint:s})},e.prototype.showMenu=function(){var e=tt(this.getContextMenuPosition(),2),t=e[0],n=e[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=n+"px",this.__menuDOM.style.left=t+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},e.pluginName="contextMenu"}(),function(){function e(e){var t=this,n=e.lf;this.lf=n,this.lf.setPatternItems=function(e){t.setPatternItems(e)}}return e.prototype.render=function(e,t){var n=this;this.destroy(),this.shapeList&&0!==this.shapeList.length?(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach((function(e){n.panelEl.appendChild(n.createDndItem(e))})),t.appendChild(this.panelEl),this.domContainer=t):this.domContainer=t},e.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},e.prototype.setPatternItems=function(e){this.shapeList=e,this.domContainer&&this.render(this.lf,this.domContainer)},e.prototype.createDndItem=function(e){var t=this,n=document.createElement("div");n.className=e.className?"lf-dnd-item "+e.className:"lf-dnd-item";var r=document.createElement("div");if(r.className="lf-dnd-shape",e.icon&&(r.style.backgroundImage="url("+e.icon+")"),n.appendChild(r),e.label){var o=document.createElement("div");o.innerText=e.label,o.className="lf-dnd-text",n.appendChild(o)}return n.onmousedown=function(){e.type&&t.lf.dnd.startDrag({type:e.type,properties:e.properties,text:e.text}),e.callback&&e.callback(t.lf,t.domContainer)},n},e.pluginName="dndPanel",e}()),at=function(){function e(e){var t=this,n=e.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(e){var n=t.lf.getPointByClient(e.clientX,e.clientY).domOverlayPosition,r=n.x,o=n.y;t.endPoint={x:r,y:o};var i=t.startPoint,a=i.x,u=i.y,c=t.wrapper.style,l=a,s=u,f=r-a,p=o-u;r<a&&(l=r,f=a-r),o<u&&(s=o,p=u-o),c.left=l+"px",c.top=s+"px",c.width=f+"px",c.height=p+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",t.__draw),document.removeEventListener("mouseup",t.__drawOff),t.wrapper.oncontextmenu=null,t.__domContainer.removeChild(t.wrapper);var e=t.startPoint,n=e.x,r=e.y,o=t.endPoint,i=o.x,a=o.y;if(!(Math.abs(i-n)<10&&Math.abs(a-r)<10)){var u=[Math.min(n,i),Math.min(r,a)],c=[Math.max(n,i),Math.max(r,a)],l=t.lf.graphModel.getAreaElement(u,c,t.isWholeEdge,t.isWholeNode,!0),s=t.lf.graphModel.group;l.forEach((function(e){s&&s.getNodeGroup(e.id)||t.lf.selectElementById(e.id,!0)})),t.lf.emit("selection:selected",l)}},this.lf=n;var r=n.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=r,n.openSelectionSelect=function(){t.openSelectionSelect()},n.closeSelectionSelect=function(){t.closeSelectionSelect()}}return e.prototype.render=function(e,t){var n=this;this.__domContainer=t,e.on("blank:mousedown",(function(r){var o=r.e,i=e.getEditConfig();if(i.stopMoveGraph&&!n.__disabled){var a=e.getPointByClient(o.clientX,o.clientY).domOverlayPosition,u=a.x,c=a.y;n.startPoint={x:u,y:c},n.endPoint={x:u,y:c};var l=document.createElement("div");l.className="lf-selection-select",l.oncontextmenu=function(e){e.preventDefault()},l.style.top=n.startPoint.y+"px",l.style.left=n.startPoint.x+"px",t.appendChild(l),n.wrapper=l,document.addEventListener("mousemove",n.__draw),document.addEventListener("mouseup",n.__drawOff)}}))},e.prototype.setSelectionSense=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.isWholeEdge=e,this.isWholeNode=t},e.prototype.openSelectionSelect=function(){var e=this.lf.getEditConfig().stopMoveGraph;e||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},e.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},e.prototype.open=function(){this.__disabled=!1},e.prototype.close=function(){this.__disabled=!0},e.pluginName="selectionSelect",e}(),ut=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ct=(function(){function e(e){var t=this,n=e.lf,r=e.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(e,n){t.__setView(),t.__isShow||t.__createMiniMap(e,n),t.__isShow=!0},this.hide=function(){t.__isShow&&t.__removeMiniMap(),t.__isShow=!1},this.__startDrag=function(e){document.addEventListener("mousemove",t.__drag),document.addEventListener("mouseup",t.__drop),t.__startPosition={x:e.x,y:e.y}},this.moveViewport=function(e,n){var r=t.__viewport.style;t.__viewPortTop=e,t.__viewPortLeft=n,r.top=t.__viewPortTop+"px",r.left=t.__viewPortLeft+"px"},this.__drag=function(e){var n=t.__viewPortTop+e.y-t.__startPosition.y,r=t.__viewPortLeft+e.x-t.__startPosition.x;t.moveViewport(n,r),t.__startPosition={x:e.x,y:e.y};var o=(t.__viewPortLeft+t.__viewPortWidth/2)/t.__viewPortScale,i=(t.__viewPortTop+t.__viewPortHeight/2)/t.__viewPortScale;t.__lf.focusOn({coordinate:{x:o+t.__resetDataX,y:i+t.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",t.__drag),document.removeEventListener("mouseup",t.__drop);var e=t.__viewPortTop,n=t.__viewPortLeft;t.__viewPortLeft>t.__width&&(n=t.__width-t.__viewPortWidth),t.__viewPortTop>t.__height&&(e=t.__height-t.__viewPortHeight),t.__viewPortLeft<-t.__width&&(n=0),t.__viewPortTop<-t.__height&&(e=0),t.moveViewport(e,n)},this.__lf=n,this.__miniMapWidth=n.graphModel.width,this.__miniMapHeight=220*n.graphModel.width/150,this.__LogicFlow=r,this.__init()}e.prototype.render=function(e,t){var n=this;this.__container=t,this.__lf.on("history:change",(function(){n.__isShow&&n.__setView()})),this.__lf.on("blank:drop",(function(){n.__isShow&&n.__setView()}))},e.prototype.init=function(e){this.__disabledPlugins=this.__disabledPlugins.concat(e.disabledPlugins||[])},e.prototype.__init=function(){var e=document.createElement("div");e.className="lf-mini-map-graph",e.style.width=this.__width+"px",e.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:220*this.__lf.graphModel.width/150,container:e,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(e){return e},this.__lfMap.adapterOut=function(e){return e},this.__miniMapWrap=e,this.__createViewPort()},e.prototype.__createMiniMap=function(e,t){var n=document.createElement("div"),r=this.__miniMapWrap;n.appendChild(r),"undefined"!==typeof e&&"undefined"!==typeof t&&(n.style.left=e+"px",n.style.top=t+"px"),n.style.position="absolute",n.className="lf-mini-map",this.__container.appendChild(n),this.__miniMapWrap.appendChild(this.__viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText="",n.appendChild(o);var i=document.createElement("span");i.className="lf-mini-map-close",i.addEventListener("click",this.hide),n.appendChild(i),this.__miniMapContainer=n},e.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},e.prototype.__getBounds=function(e){var t=0,n=this.__miniMapWidth,r=0,o=this.__miniMapHeight,i=e.nodes;return i&&i.length>0&&i.forEach((function(e){var i=e.x,a=e.y,u=e.width,c=void 0===u?200:u,l=e.height,s=void 0===l?200:l,f=i-c/2,p=i+c/2,d=a-s/2,h=a+s/2;t=f<t?f:t,n=p>n?p:n,r=d<r?d:r,o=h>o?h:o})),{left:t,top:r,bottom:o,right:n}},e.prototype.__resetData=function(e){var t=e.nodes,n=e.edges,r=0,o=0;return t&&t.length>0&&(t.forEach((function(e){var t=e.x,n=e.y,i=e.width,a=void 0===i?200:i,u=e.height,c=void 0===u?200:u,l=t-a/2,s=n-c/2;r=l<r?l:r,o=s<o?s:o})),(r<0||o<0)&&(this.__resetDataX=r,this.__resetDataY=o,t.forEach((function(e){e.x=e.x-r,e.y=e.y-o,e.text&&(e.text.x=e.text.x-r,e.text.y=e.text.y-o)})),n.forEach((function(e){e.startPoint&&(e.startPoint.x=e.startPoint.x-r,e.startPoint.y=e.startPoint.y-o),e.endPoint&&(e.endPoint.x=e.endPoint.x-r,e.endPoint.y=e.endPoint.y-o),e.text&&(e.text.x=e.text.x-r,e.text.y=e.text.y-o),e.pointsList&&e.pointsList.forEach((function(e){e.x=e.x-r,e.y=e.y-o}))})))),e},e.prototype.__setView=function(){var e,t,n=this.__resetData(this.__lf.getGraphRawData()),r=this.__lf.viewMap,o=this.__lf.graphModel.modelMap,i=this.__lfMap.viewMap;try{for(var a=ut(r.keys()),u=a.next();!u.done;u=a.next()){var c=u.value;i.has(c)||(this.__lfMap.setView(c,r.get(c)),this.__lfMap.graphModel.modelMap.set(c,o.get(c)))}}catch(b){e={error:b}}finally{try{u&&!u.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}this.__lfMap.render(n);var l=this.__getBounds(n),s=l.left,f=l.top,p=l.right,d=l.bottom,h=this.__width/(p-s),y=this.__height/(d-f),v=this.__miniMapWrap.firstChild.style,g=Math.min(h,y);v.transform="matrix("+g+", 0, 0, "+g+", 0, 0)",v.transformOrigin="left top",v.height=d-Math.min(f,0)+"px",v.width=p-Math.min(s,0)+"px",this.__viewPortScale=g,this.__setViewPort(g,{left:s,top:f,right:p,bottom:d})},e.prototype.__setViewPort=function(e,t){var n=t.left,r=t.right,o=(t.top,t.bottom,this.__viewport.style);o.width=this.__width-4+"px",o.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var i=this.__lf.getTransform(),a=i.TRANSLATE_X,u=i.TRANSLATE_Y,c=r-n,l=(this.__width-4)/(c/this.__lf.graphModel.width),s=this.__lf.graphModel.width/this.__lf.graphModel.height,f=l/s;this.__viewPortTop=u>0?0:-u*e,this.__viewPortLeft=a>0?0:-a*e,this.__viewPortWidth=l,this.__viewPortHeight=f,o.top=this.__viewPortTop+"px",o.left=this.__viewPortLeft+"px",o.width=l+"px",o.height=f+"px"},e.prototype.__createViewPort=function(){var e=document.createElement("div");e.className="lf-minimap-viewport",e.addEventListener("mousedown",this.__startDrag),this.__viewport=e},e.pluginName="miniMap"}(),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),lt=function(){return lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lt.apply(this,arguments)},st=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},ft=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}ct(t,e),t.prototype.pointFilter=function(e){var t=e,n=1;while(n<t.length-1){var r=st(t[n-1],2),o=r[0],i=r[1],a=st(t[n],2),u=a[0],c=a[1],l=st(t[n+1],2),s=l[0],f=l[1];o===u&&u===s||i===c&&c===f?t.splice(n,1):n++}return t},t.prototype.getEdge=function(){for(var e=this.props.model,t=e.points,n=e.isAnimation,r=e.arrowConfig,o=e.radius,i=void 0===o?5:o,a=e.getEdgeStyle(),u=e.getEdgeAnimationStyle(),c=this.pointFilter(t.split(" ").map((function(e){return e.split(",").map((function(e){return Number(e)}))}))),l=st(c[0],2),f=l[0],p=l[1],d="M"+f+" "+p,h=1;h<c.length-1;h++){var y=st(c[h-1],2),v=y[0],g=y[1],b=st(c[h],2),m=b[0],w=b[1],O=st(c[h+1],2),_=O[0],x=O[1];if(m===v&&w!==g){var E=w>g?w-i:w+i;d=d+" L "+m+" "+E}if(w===g&&m!==v){var S=m>v?m-i:m+i;d=d+" L "+S+" "+w}if(d=d+" Q "+m+" "+w,m===_&&w!==x){E=w>x?w-i:w+i;d=d+" "+m+" "+E}if(w===x&&m!==_){S=m>_?m-i:m+i;d=d+" "+S+" "+w}}var j=st(c[c.length-1],2),P=j[0],k=j[1];d=d+" L "+P+" "+k;var A=lt(lt(lt({d:d,style:n?u:{}},a),r),{fill:"none"});return(0,s.h)("path",lt({d:d},A))}}(s.PolylineEdge),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}ct(t,e)}(s.PolylineEdgeModel),{}),pt=[],dt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ht(e,t){for(var n in t)e[n]=t[n];return e}function yt(e){var t=e.parentNode;t&&t.removeChild(e)}function vt(e,t,n){var r,o,i,a={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?Te.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===a[i]&&(a[i]=e.defaultProps[i]);return gt(e,a,r,o,null)}function gt(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++Ie:o};return null==o&&null!=Ce.vnode&&Ce.vnode(i),i}function bt(e){return e.children}function mt(e,t){this.props=e,this.context=t}function wt(e,t){if(null==t)return e.__?wt(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?wt(e):null}function Ot(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return Ot(e)}}function _t(e){(!e.__d&&(e.__d=!0)&&Re.push(e)&&!xt.__r++||Le!==Ce.debounceRendering)&&((Le=Ce.debounceRendering)||setTimeout)(xt)}function xt(){for(var e;xt.__r=Re.length;)e=Re.sort((function(e,t){return e.__v.__b-t.__v.__b})),Re=[],e.some((function(e){var t,n,r,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=ht({},o)).__v=o.__v+1,Dt(a,o,r,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?wt(o):i,o.__h),Tt(n,o),o.__e!=i&&Ot(o)))}))}function Et(e,t,n,r,o,i,a,u,c,l){var s,f,p,d,h,y,v,g=r&&r.__k||pt,b=g.length;for(n.__k=[],s=0;s<t.length;s++)if(null!=(d=n.__k[s]=null==(d=t[s])||"boolean"==typeof d?null:"string"==typeof d||"number"==typeof d||"bigint"==typeof d?gt(null,d,null,null,d):Array.isArray(d)?gt(bt,{children:d},null,null,null):d.__b>0?gt(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=n,d.__b=n.__b+1,null===(p=g[s])||p&&d.key==p.key&&d.type===p.type)g[s]=void 0;else for(f=0;f<b;f++){if((p=g[f])&&d.key==p.key&&d.type===p.type){g[f]=void 0;break}p=null}Dt(e,d,p=p||ft,o,i,a,u,c,l),h=d.__e,(f=d.ref)&&p.ref!=f&&(v||(v=[]),p.ref&&v.push(p.ref,null,d),v.push(f,d.__c||h,d)),null!=h?(null==y&&(y=h),"function"==typeof d.type&&d.__k===p.__k?d.__d=c=St(d,c,e):c=jt(e,d,p,g,h,c),"function"==typeof n.type&&(n.__d=c)):c&&p.__e==c&&c.parentNode!=e&&(c=wt(p))}for(n.__e=y,s=b;s--;)null!=g[s]&&Rt(g[s],g[s]);if(v)for(s=0;s<v.length;s++)It(v[s],v[++s],v[++s])}function St(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t="function"==typeof r.type?St(r,t,n):jt(n,r,r,o,r.__e,t));return t}function jt(e,t,n,r,o,i){var a,u,c;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),a=null;else{for(u=i,c=0;(u=u.nextSibling)&&c<r.length;c+=1)if(u==o)break e;e.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function Pt(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||At(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||At(e,i,t[i],n[i],r)}function kt(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||dt.test(t)?n:n+"px"}function At(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||kt(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||kt(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?Mt:Nt,i):e.removeEventListener(t,i?Mt:Nt,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function Nt(e){this.l[e.type+!1](Ce.event?Ce.event(e):e)}function Mt(e){this.l[e.type+!0](Ce.event?Ce.event(e):e)}function Dt(e,t,n,r,o,i,a,u,c){var l,s,f,p,d,h,y,v,g,b,m,w,O,_,x,E=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(c=n.__h,u=t.__e=n.__e,t.__h=null,i=[u]),(l=Ce.__b)&&l(t);try{e:if("function"==typeof E){if(v=t.props,g=(l=E.contextType)&&r[l.__c],b=l?g?g.props.value:l.__:r,n.__c?y=(s=t.__c=n.__c).__=s.__E:("prototype"in E&&E.prototype.render?t.__c=s=new E(v,b):(t.__c=s=new mt(v,b),s.constructor=E,s.render=Lt),g&&g.sub(s),s.props=v,s.state||(s.state={}),s.context=b,s.__n=r,f=s.__d=!0,s.__h=[],s._sb=[]),null==s.__s&&(s.__s=s.state),null!=E.getDerivedStateFromProps&&(s.__s==s.state&&(s.__s=ht({},s.__s)),ht(s.__s,E.getDerivedStateFromProps(v,s.__s))),p=s.props,d=s.state,f)null==E.getDerivedStateFromProps&&null!=s.componentWillMount&&s.componentWillMount(),null!=s.componentDidMount&&s.__h.push(s.componentDidMount);else{if(null==E.getDerivedStateFromProps&&v!==p&&null!=s.componentWillReceiveProps&&s.componentWillReceiveProps(v,b),!s.__e&&null!=s.shouldComponentUpdate&&!1===s.shouldComponentUpdate(v,s.__s,b)||t.__v===n.__v){for(s.props=v,s.state=s.__s,t.__v!==n.__v&&(s.__d=!1),s.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),m=0;m<s._sb.length;m++)s.__h.push(s._sb[m]);s._sb=[],s.__h.length&&a.push(s);break e}null!=s.componentWillUpdate&&s.componentWillUpdate(v,s.__s,b),null!=s.componentDidUpdate&&s.__h.push((function(){s.componentDidUpdate(p,d,h)}))}if(s.context=b,s.props=v,s.__v=t,s.__P=e,w=Ce.__r,O=0,"prototype"in E&&E.prototype.render){for(s.state=s.__s,s.__d=!1,w&&w(t),l=s.render(s.props,s.state,s.context),_=0;_<s._sb.length;_++)s.__h.push(s._sb[_]);s._sb=[]}else do{s.__d=!1,w&&w(t),l=s.render(s.props,s.state,s.context),s.state=s.__s}while(s.__d&&++O<25);s.state=s.__s,null!=s.getChildContext&&(r=ht(ht({},r),s.getChildContext())),f||null==s.getSnapshotBeforeUpdate||(h=s.getSnapshotBeforeUpdate(p,d)),x=null!=l&&l.type===bt&&null==l.key?l.props.children:l,Et(e,Array.isArray(x)?x:[x],t,n,r,o,i,a,u,c),s.base=t.__e,t.__h=null,s.__h.length&&a.push(s),y&&(s.__E=s.__=null),s.__e=!1}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Ct(n.__e,t,n,r,o,i,a,c);(l=Ce.diffed)&&l(t)}catch(e){t.__v=null,(c||null!=i)&&(t.__e=u,t.__h=!!c,i[i.indexOf(u)]=null),Ce.__e(e,t,n)}}function Tt(e,t){Ce.__c&&Ce.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Ce.__e(e,t.__v)}}))}function Ct(e,t,n,r,o,i,a,u){var c,l,s,f=n.props,p=t.props,d=t.type,h=0;if("svg"===d&&(o=!0),null!=i)for(;h<i.length;h++)if((c=i[h])&&"setAttribute"in c==!!d&&(d?c.localName===d:3===c.nodeType)){e=c,i[h]=null;break}if(null==e){if(null===d)return document.createTextNode(p);e=o?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),i=null,u=!1}if(null===d)f===p||u&&e.data===p||(e.data=p);else{if(i=i&&Te.call(e.childNodes),l=(f=n.props||ft).dangerouslySetInnerHTML,s=p.dangerouslySetInnerHTML,!u){if(null!=i)for(f={},h=0;h<e.attributes.length;h++)f[e.attributes[h].name]=e.attributes[h].value;(s||l)&&(s&&(l&&s.__html==l.__html||s.__html===e.innerHTML)||(e.innerHTML=s&&s.__html||""))}if(Pt(e,p,f,o,u),s)t.__k=[];else if(h=t.props.children,Et(e,Array.isArray(h)?h:[h],t,n,r,o&&"foreignObject"!==d,i,a,i?i[0]:n.__k&&wt(n,0),u),null!=i)for(h=i.length;h--;)null!=i[h]&&yt(i[h]);u||("value"in p&&void 0!==(h=p.value)&&(h!==e.value||"progress"===d&&!h||"option"===d&&h!==f.value)&&At(e,"value",h,f.value,!1),"checked"in p&&void 0!==(h=p.checked)&&h!==e.checked&&At(e,"checked",h,f.checked,!1))}return e}function It(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){Ce.__e(e,n)}}function Rt(e,t,n){var r,o;if(Ce.unmount&&Ce.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||It(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Ce.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Rt(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||yt(e.__e),e.__=e.__e=e.__d=void 0}function Lt(e,t,n){return this.constructor(e,n)}Te=pt.slice,Ce={__e:function(e,t,n,r){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(t){e=t}throw e}},Ie=0,mt.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ht({},this.state),"function"==typeof e&&(e=e(ht({},n),this.props)),e&&ht(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),_t(this))},mt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_t(this))},mt.prototype.render=bt,Re=[],xt.__r=0;var Bt,zt=function(){return zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zt.apply(this,arguments)};function Vt(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.className,u=t-r/2,c=n-o/2,l=zt(zt({width:10,height:10,cx:0,cy:0,rx:i||0,ry:i||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+a},e),{x:u,y:c});return(0,s.h)("rect",zt({},l))}function Ht(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2}}function Ft(e){var t=Ht(e),n=e.radius,r=t.minX,o=t.minY,i=t.maxX,a=t.maxY;return[{x:r+n,y:o+n},{x:i-n,y:o+n},{x:i-n,y:a-n},{x:r+n,y:a-n}]}function Gt(e){var t=e.point,n=e.beforeNode,r=e.afterNode,o=t.x,i=t.y,a={x:o,y:i},u=n.radius,c=Ht(n),l=Ht(r);if(o===c.minX){a.x=l.minX;var s=(i-n.y)/(n.height/2-u);a.y=s?r.y+(r.height/2-u)*s:r.y}else if(o===c.maxX){a.x=l.maxX;s=(i-n.y)/(n.height/2-u);a.y=s?r.y+(r.height/2-u)*s:r.y}else if(i===c.minY){a.y=l.minY;s=(o-n.x)/(n.width/2-u);a.x=s?r.x+(r.width/2-u)*s:r.x}else if(i===c.maxY){a.y=l.maxY;s=(o-n.x)/(n.width/2-u);a.x=s?r.x+(r.width/2-u)*s:r.x}else{var f=Ft(n),p=Ft(r),d=Ht(n),h=d.minX,y=d.minY,v=d.maxX,g=d.maxY,b=-1;if(o-h<u&&i-y<u?b=0:v-o<u&&i-y<u?b=1:v-o<u&&g-i<u?b=2:o-h<u&&y-i<u&&(b=3),b>-1){var m=Math.atan2(i-f[b].y,o-f[b].x);a.x=p[b].x+u*Math.cos(m),a.y=p[b].y+u*Math.sin(m)}}return a}function Ut(e){var t,n,r=e.point,o=e.beforeNode,i=e.afterNode,a=i.rx,u=i.ry,c=r,l=(r.y-o.y)/(r.x-o.x),s=a,f=u;return l>=1/0?(t=0,n=f):l<=-1/0?(t=0,n=-f):r.x-o.x>0?(t=s*f/Math.sqrt(f*f+s*s*l*l),n=s*f*l/Math.sqrt(f*f+s*s*l*l)):(t=-s*f/Math.sqrt(f*f+s*s*l*l),n=-s*f*l/Math.sqrt(f*f+s*s*l*l)),c={x:t+i.x,y:n+i.y},c}function Xt(e){var t,n,r=e.point,o=e.beforeNode,i=e.afterNode,a=r,u=r.x-o.x,c=r.y-o.y,l=o.rx,s=o.ry,f=Math.sqrt((l-Math.abs(u))*(l-Math.abs(u))+c*c)/Math.sqrt(l*l+s*s),p=i.rx,d=i.ry,h=Math.sqrt((p*p+d*d)*f*f*(p*p/(p*p+d*d))),y=h*(d/p);return t=u>=0?p-h:h-p,n=c>0?y:-y,a={x:t+i.x,y:n+i.y},a}Vt.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""},function(e){e["NODE"]="node",e["CIRCLE_NODE"]="circle-node",e["POLYGON_NODE"]="polygon-node",e["RECT_NODE"]="rect-node",e["HTML_NODE"]="html-node",e["TEXT_NODE"]="text-node",e["ELLIPSE_NODE"]="ellipse-node",e["DIAMOND_NODE"]="diamond-node",e["EDGE"]="edge",e["LINE_EDGE"]="line-edge",e["POLYLINE_EDGE"]="polyline-edge",e["BEZIER_EDGE"]="bezier-edge",e["GRAPH"]="graph"}(Bt||(Bt={}));var Yt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wt=function(){return Wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wt.apply(this,arguments)},Kt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Zt=s.LogicFlowUtil.StepDrag,qt=function(e){function t(t){var n=e.call(this)||this;return n.updatePosition=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.x,a=o.y;n.nodeModel.x=i+t/2,n.nodeModel.y=a+r/2,n.nodeModel.moveText(t/2,r/2)},n.getResize=function(e){var t=e.index,n=e.deltaX,r=e.deltaY,o=e.width,i=e.height,a=e.PCTResizeInfo,u=e.pct,c=void 0===u?1:u,l={width:o,height:i,deltaX:n,deltaY:r};if(a){var s=4,f=0,p=0;switch(t){case 0:p=(-1*n-r)/s;break;case 1:p=(n-r)/s;break;case 2:p=(n+r)/s;break;case 3:p=(-1*n+r)/s;break;default:break}0!==p&&(f=Math.round(p/a.ResizeBasis.basisHeight*1e5)/1e3),a.ResizePCT.widthPCT=Math.max(Math.min(a.ResizePCT.widthPCT+f,a.ScaleLimit.maxScaleLimit),a.ScaleLimit.minScaleLimit),a.ResizePCT.hightPCT=Math.max(Math.min(a.ResizePCT.hightPCT+f,a.ScaleLimit.maxScaleLimit),a.ScaleLimit.minScaleLimit);var d=Math.round(a.ResizePCT.widthPCT*a.ResizeBasis.basisWidth/100),h=Math.round(a.ResizePCT.hightPCT*a.ResizeBasis.basisHeight/100);switch(t){case 0:n=o-d,r=i-h;break;case 1:n=d-o,r=i-h;break;case 2:n=d-o,r=h-i;break;case 3:n=o-d,r=h-i;break;default:break}return l.width=d,l.height=h,l.deltaX=n/c,l.deltaY=r/c,l}switch(t){case 0:l.width=o-n*c,l.height=i-r*c;break;case 1:l.width=o+n*c,l.height=i-r*c;break;case 2:l.width=o+n*c,l.height=i+r*c;break;case 3:l.width=o-n*c,l.height=i+r*c;break;default:break}return l},n.updateRect=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.x,u=o.y,c=o.width,l=o.height,s=o.radius,f=o.PCTResizeInfo,p=n.index,d=n.getResize({index:p,deltaX:t,deltaY:r,width:c,height:l,PCTResizeInfo:f,pct:1}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,g=h.maxWidth,b=h.maxHeight;if(d.width<y||d.width>g||d.height<v||d.height>b)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:d.deltaX,deltaY:d.deltaY}),n.nodeModel.width=d.width,n.nodeModel.height=d.height,n.nodeModel.setProperties({nodeSize:{width:d.width,height:d.height}});var m,w=n.getNodeEdges(i),O={x:a,y:u,width:c,height:l,radius:s},_={x:n.nodeModel.x,y:n.nodeModel.y,width:n.nodeModel.width,height:n.nodeModel.height,radius:s},x={point:"",beforeNode:O,afterNode:_};w.sourceEdges.forEach((function(e){x.point=e.startPoint,m=Gt(x),e.updateStartPoint(m)})),w.targetEdges.forEach((function(e){x.point=e.endPoint,m=Gt(x),e.updateEndPoint(m)})),n.eventEmit({beforeNode:O,afterNode:_})}},n.updateEllipse=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.rx,u=o.ry,c=o.x,l=o.y,s=o.PCTResizeInfo,f=n.index,p=a,d=u,h=n.getResize({index:f,deltaX:t,deltaY:r,width:p,height:d,PCTResizeInfo:s,pct:.5}),y=n.nodeModel,v=y.minWidth,g=y.minHeight,b=y.maxWidth,m=y.maxHeight;if(h.width<v/2||h.width>b/2||h.height<g/2||h.height>m/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:h.deltaX,deltaY:h.deltaY}),n.nodeModel.rx=h.width,n.nodeModel.ry=h.height,n.nodeModel.setProperties({nodeSize:{rx:h.width,ry:h.height}});var w,O=n.getNodeEdges(i),_={x:c,y:l},x={rx:h.width,ry:h.height,x:n.nodeModel.x,y:n.nodeModel.y},E={point:{},beforeNode:_,afterNode:x};O.sourceEdges.forEach((function(e){E.point=e.startPoint,w=Ut(E),e.updateStartPoint(w)})),O.targetEdges.forEach((function(e){E.point=e.endPoint,w=Ut(E),e.updateEndPoint(w)})),n.eventEmit({beforeNode:Wt(Wt({},_),{rx:a,ry:u}),afterNode:x})}},n.updateDiamond=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.rx,u=o.ry,c=o.x,l=o.y,s=o.PCTResizeInfo,f=n.index,p=a,d=u,h=n.getResize({index:f,deltaX:t,deltaY:r,width:p,height:d,PCTResizeInfo:s,pct:.5}),y=n.nodeModel,v=y.minWidth,g=y.minHeight,b=y.maxWidth,m=y.maxHeight;if(h.width<v/2||h.width>b/2||h.height<g/2||h.height>m/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:h.deltaX,deltaY:h.deltaY}),n.nodeModel.rx=h.width,n.nodeModel.ry=h.height,n.nodeModel.setProperties({nodeSize:{rx:h.width,ry:h.height}});var w,O={x:c,y:l,rx:a,ry:u},_={rx:h.width,ry:h.height,x:n.nodeModel.x,y:n.nodeModel.y},x={point:{},beforeNode:O,afterNode:_},E=n.getNodeEdges(i);E.sourceEdges.forEach((function(e){x.point=e.startPoint,w=Xt(x),e.updateStartPoint(w)})),E.targetEdges.forEach((function(e){x.point=e.endPoint,w=Xt(x),e.updateEndPoint(w)})),n.eventEmit({beforeNode:O,afterNode:_})}},n.eventEmit=function(e){var t=e.beforeNode,r=e.afterNode,o=n.nodeModel,i=o.id,a=o.modelType,u=o.type,c=Wt({id:i,modelType:a,type:u},t),l=Wt({id:i,modelType:a,type:u},r);n.graphModel.eventCenter.emit("node:resize",{oldNodeSize:c,newNodeSize:l})},n.onDraging=function(e){var t,r=e.deltaX,o=e.deltaY,i=n.graphModel.transformModel,a=n.nodeModel.modelType;t=Kt(i.fixDeltaXY(r,o),2),r=t[0],o=t[1],a===Bt.RECT_NODE||a===Bt.HTML_NODE?n.updateRect({deltaX:r,deltaY:o}):a===Bt.ELLIPSE_NODE?n.updateEllipse({deltaX:r,deltaY:o}):a===Bt.DIAMOND_NODE&&n.updateDiamond({deltaX:r,deltaY:o})},n.onDragEnd=function(){var e=n.graphModel.gridSize,t=void 0===e?1:e,r=t*Math.round(n.nodeModel.x/t),o=t*Math.round(n.nodeModel.y/t);n.nodeModel.moveTo(r,o)},n.index=t.index,n.nodeModel=t.model,n.graphModel=t.graphModel,n.state={},n.dragHandler=new Zt({onDraging:n.onDraging,onDragEnd:n.onDragEnd,step:1}),n}return Yt(t,e),t.prototype.getNodeEdges=function(e){for(var t=this.graphModel,n=t.edges,r=[],o=[],i=0;i<n.length;i++){var a=n[i];a.sourceNodeId===e?r.push(a):n[i].targetNodeId===e&&o.push(a)}return{sourceEdges:r,targetEdges:o}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r=e.index,o=e.model,i=o.getControlPointStyle();return vt("g",{className:"lf-resize-control-"+r},vt(Vt,Wt({className:"lf-node-control"},{x:t,y:n},i,{onMouseDown:this.dragHandler.handleMouseDown})))},t}(mt),Jt=qt,Qt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$t=function(){return $t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$t.apply(this,arguments)},en=function(e){function t(){var t=e.call(this)||this;return t.state={},t}return Qt(t,e),t.prototype.getResizeControl=function(){var e=this.props,t=e.model,n=e.graphModel,r=t.x,o=t.y,i=t.width,a=t.height,u={minX:r-i/2,minY:o-a/2,maxX:r+i/2,maxY:o+a/2},c=u.minX,l=u.minY,s=u.maxX,f=u.maxY,p=[{x:c,y:l},{x:s,y:l},{x:s,y:f},{x:c,y:f}];return p.map((function(e,r){return vt(Jt,$t({index:r},e,{model:t,graphModel:n}))}))},t.prototype.getGroupSolid=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getResizeOutlineStyle();return vt(Vt,$t({fill:"none"},i,{x:t,y:n,width:r,height:o}))},t.prototype.render=function(){return vt("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},t}(mt),tn=en,nn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rn=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.properties.nodeSize;return o&&(r.width=o.width,r.height=o.height),r}return nn(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this),n=this.graphModel.editConfigModel.isSilentMode;return n||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},t.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.resize=function(e,t){console.log(e,t)},t.prototype.enableProportionResize=function(e){if(void 0===e&&(e=!0),e){var t={widthPCT:100,hightPCT:100},n={basisWidth:this.width,basisHeight:this.height},r={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:t,ResizeBasis:n,ScaleLimit:r}}else delete this.PCTResizeInfo},t}(s.RectNodeModel),on=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nn(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return(0,s.h)(tn,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var e=this.props,t=e.model.isSelected,n=e.graphModel.editConfigModel.isSilentMode;return(0,s.h)("g",null,this.getResizeShape(),t&&!n?this.getControlGroup():"")},t}(s.RectNode),an={type:"rect",view:on,model:rn},un=an,cn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ln=(function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.properties.nodeSize;return o&&(r.rx=o.rx,r.ry=o.ry),r}cn(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this),n=this.graphModel.editConfigModel.isSilentMode;return n||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(e){if(void 0===e&&(e=!0),e){var t={widthPCT:100,hightPCT:100},n={basisWidth:this.rx,basisHeight:this.ry},r={maxScaleLimit:Math.min(this.maxWidth/(2*this.rx)*100,this.maxHeight/(2*this.ry)*100),minScaleLimit:Math.max(this.minWidth/(2*this.rx)*100,this.minHeight/(2*this.ry)*100)};this.PCTResizeInfo={ResizePCT:t,ResizeBasis:n,ScaleLimit:r}}else delete this.PCTResizeInfo}}(s.EllipseNodeModel),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}cn(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return(0,s.h)(tn,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var e=this.props,t=e.model,n=e.graphModel.editConfigModel.isSilentMode;return(0,s.h)("g",null,this.getResizeShape(),t.isSelected&&!n?this.getControlGroup():"")}}(s.EllipseNode),function(){return ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ln.apply(this,arguments)});function sn(e){var t=e.fillOpacity,n=void 0===t?1:t,r=e.strokeWidth,o=void 0===r?1:r,i=e.strokeOpacity,a=void 0===i?1:i,u=e.fill,c=void 0===u?"transparent":u,l=e.stroke,f=void 0===l?"#000":l,p=e.points,d=e.className,h=void 0===d?"lf-basic-shape":d,y={fill:c,fillOpacity:n,strokeWidth:o,stroke:f,strokeOpacity:a,points:"",className:h};return y.points=p.map((function(e){return e.join(",")})).join(" "),(0,s.h)("polygon",ln({},y))}var fn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pn=function(){return pn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pn.apply(this,arguments)},dn=(function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.properties.nodeSize;return o&&(r.rx=o.rx,r.ry=o.ry),r}fn(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this),n=this.graphModel.editConfigModel.isSilentMode;return n||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(e){if(void 0===e&&(e=!0),e){var t={widthPCT:100,hightPCT:100},n={basisWidth:this.rx,basisHeight:this.ry},r={maxScaleLimit:Math.min(this.maxWidth/(2*this.rx)*100,this.maxHeight/(2*this.ry)*100),minScaleLimit:Math.max(this.minWidth/(2*this.rx)*100,this.minHeight/(2*this.ry)*100)};this.PCTResizeInfo={ResizePCT:t,ResizeBasis:n,ScaleLimit:r}}else delete this.PCTResizeInfo}}(s.DiamondNodeModel),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}fn(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return(0,s.h)(tn,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){var e=this.props.model,t=e.points,n=e.getNodeStyle();return(0,s.h)("g",null,(0,s.h)(sn,pn({},n,{points:t})))},t.prototype.getShape=function(){var e=this.props,t=e.model.isSelected,n=e.graphModel.editConfigModel.isSilentMode;return(0,s.h)("g",null,this.getResizeShape(),t&&!n?this.getControlGroup():"")}}(s.DiamondNode),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),hn=(function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.properties.nodeSize;return o&&(r.width=o.width,r.height=o.height),r}dn(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this),n=this.graphModel.editConfigModel.isSilentMode;return n||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(e){if(void 0===e&&(e=!0),e){var t={widthPCT:100,hightPCT:100},n={basisWidth:this.width,basisHeight:this.height},r={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:t,ResizeBasis:n,ScaleLimit:r}}else delete this.PCTResizeInfo}}(s.HtmlNodeModel),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}dn(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return(0,s.h)(tn,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var e=this.props,t=e.model.isSelected,n=e.graphModel.editConfigModel.isSilentMode;return(0,s.h)("g",null,this.getResizeShape(),t&&!n?this.getControlGroup():"")}}(s.HtmlNode),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),yn=function(){return yn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yn.apply(this,arguments)},vn=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},gn=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vn(arguments[t]));return e},bn=500,mn=300,wn=-1e4,On=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isGroup=!0,t.unfoldedWidth=bn,t.unfoldedHight=mn,t}return hn(t,e),t.prototype.initNodeData=function(t){var n=this;e.prototype.initNodeData.call(this,t);var r=[];Array.isArray(t.children)&&(r=t.children),this.children=new Set(r),this.width=bn,this.height=mn,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=wn,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,void 0===this.properties.isFolded&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout((function(){n.isFolded&&n.foldGroup(n.isFolded)}))},t.prototype.getResizeOutlineStyle=function(){var t=e.prototype.getResizeOutlineStyle.call(this);return t.stroke="none",t},t.prototype.foldGroup=function(e){var t=this;this.setProperty("isFolded",e),this.isFolded=e,e?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var n=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach((function(r){var o=t.graphModel.getElement(r);o.visible=!e,n=n.concat(o.incoming.edges.concat(o.outgoing.edges))})),this.foldEdge(e,n)},t.prototype.getAnchorStyle=function(t){var n=e.prototype.getAnchorStyle.call(this,t);return n.stroke="transparent",n.fill="transparent",n.hover.fill="transparent",n.hover.stroke="transparent",n},t.prototype.foldEdge=function(e,t){var n=this;t.forEach((function(t,r){var o=t.id,i=t.sourceNodeId,a=t.targetNodeId,u=t.startPoint,c=t.endPoint,l=t.type,s=t.properties,f=t.text,p={id:o+"__"+r,sourceNodeId:i,targetNodeId:a,startPoint:u,endPoint:c,type:l,properties:s,text:null===f||void 0===f?void 0:f.value};t.virtual&&n.graphModel.deleteEdgeById(t.id);var d=n.graphModel.group.getNodeGroup(a);d||(d=n.graphModel.getNodeModelById(a));var h=n.graphModel.group.getNodeGroup(i);h||(h=n.graphModel.getNodeModelById(i)),e&&!1!==t.visible&&(n.children.has(i)||n.id===i?(p.startPoint=void 0,p.sourceNodeId=n.id):(p.endPoint=void 0,p.targetNodeId=n.id),d.id===n.id&&h.id===n.id||n.createVirtualEdge(p),t.visible=!1),e||!1!==t.visible||(d&&d.isGroup&&d.isFolded?(p.targetNodeId=d.id,p.endPoint=void 0,n.createVirtualEdge(p)):h&&h.isGroup&&h.isFolded?(p.sourceNodeId=h.id,p.startPoint=void 0,n.createVirtualEdge(p)):t.visible=!0)}))},t.prototype.createVirtualEdge=function(e){e.pointsList=void 0;var t=this.graphModel.addEdge(e);t.virtual=!0,t.text.editable=!1,t.isFoldedEdge=!0},t.prototype.isInRange=function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2;return t>=this.x-this.width/2&&r<=this.x+this.width/2&&n>=this.y-this.height/2&&o<=this.y+this.height/2},t.prototype.isAllowMoveTo=function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2;return{x:t>=this.x-this.width/2&&r<=this.x+this.width/2,y:n>=this.y-this.height/2&&o<=this.y+this.height/2}},t.prototype.setAllowAppendChild=function(e){this.setProperty("groupAddable",e)},t.prototype.addChild=function(e){this.children.add(e)},t.prototype.removeChild=function(e){this.children.delete(e)},t.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},t.prototype.getData=function(){var t=e.prototype.getData.call(this);t.children=gn(this.children);var n=t.properties;return delete n.groupAddable,delete n.isFolded,t},t.prototype.getHistoryData=function(){var t=e.prototype.getData.call(this);t.children=gn(this.children),t.isGroup=!0;var n=t.properties;return delete n.groupAddable,n.isFolded&&(t.x=t.x+this.unfoldedWidth/2-this.foldedWidth/2,t.y=t.y+this.unfoldedHight/2-this.foldedHeight/2),t},t.prototype.isAllowAppendIn=function(e){return!0},t.prototype.toBack=function(){this.zIndex--},t}(un.model),_n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hn(t,e),t.prototype.getControlGroup=function(){var t=this.props.model,n=t.resizable,r=t.properties;return n&&!r.isFolded?e.prototype.getControlGroup.call(this):null},t.prototype.getAddableShape=function(){var e=this.props.model,t=e.width,n=e.height,r=e.x,o=e.y,i=e.radius,a=e.properties;if(!a.groupAddable)return null;var u=this.props.model.getNodeStyle().strokeWidth,c=this.props.model.getAddableOutlineStyle(),l=t+u+8,f=n+u+8;return(0,s.h)("rect",yn(yn({},c),{width:l,height:f,x:r-l/2,y:o-f/2,rx:i,ry:i}))},t.prototype.getFoldIcon=function(){var e=this.props.model,t=e.x-e.width/2+5,n=e.y-e.height/2+5;if(!e.foldable)return null;var r=(0,s.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:e.properties.isFolded?"M "+(t+3)+","+(n+6)+" "+(t+11)+","+(n+6)+" M"+(t+7)+","+(n+2)+" "+(t+7)+","+(n+10):"M "+(t+3)+","+(n+6)+" "+(t+11)+","+(n+6)+" "});return(0,s.h)("g",{},[(0,s.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:e.x-e.width/2+5,y:e.y-e.height/2+5,onClick:function(){e.foldGroup(!e.properties.isFolded)}}),r])},t.prototype.getResizeShape=function(){return(0,s.h)("g",{},[this.getAddableShape(),e.prototype.getResizeShape.call(this),this.getFoldIcon()])},t}(un.view),xn={type:"group",view:_n,model:On},En=-1e3,Sn=-1e4,jn=(function(){function e(e){var t=this,n=e.lf;this.topGroupZIndex=Sn,this.nodeGroupMap=new Map,this.graphRendered=function(e){e&&e.nodes&&e.nodes.forEach((function(e){e.children&&e.children.forEach((function(n){t.nodeGroupMap.set(n,e.id)}))}))},this.appendNodeToGroup=function(e){var n=e.data,r=t.nodeGroupMap.get(n.id);if(r){var o=t.lf.getNodeModelById(r);o.removeChild(n.id),t.nodeGroupMap.delete(n.id),o.setAllowAppendChild(!1)}var i=t.lf.getNodeModelById(n.id),a=i.getBounds(),u=t.getGroup(a,n);if(u){var c=u.isAllowAppendIn(n);c?(u.addChild(n.id),t.nodeGroupMap.set(n.id,u.id),u.setAllowAppendChild(!1),i.isGroup&&(n.children.forEach((function(e){t.nodeGroupMap.set(e,n.id)})),t.nodeSelected({data:n}))):t.lf.emit("group:not-allowed",{group:u.getData(),node:n})}},this.deleteGroupChild=function(e){var n=e.data;n.children&&n.children.forEach((function(e){t.nodeGroupMap.delete(e),t.lf.deleteNode(e)}));var r=t.nodeGroupMap.get(n.id);if(r){var o=t.lf.getNodeModelById(r);o.removeChild(n.id),t.nodeGroupMap.delete(n.id)}},this.setActiveGroup=function(e){var n=e.data,r=t.lf.getNodeModelById(n.id),o=r.getBounds(),i=t.getGroup(o,n);if(t.activeGroup&&t.activeGroup.setAllowAppendChild(!1),i&&(!r.isGroup||i.id!==n.id)){var a=i.isAllowAppendIn(n);a&&(t.activeGroup=i,t.activeGroup.setAllowAppendChild(!0))}},this.nodeSelected=function(e){var n=e.data,r=t.lf.getNodeModelById(n.id);if(t.toFrontGroup(r),t.topGroupZIndex>En){t.topGroupZIndex=Sn;for(var o=t.lf.graphModel.nodes.filter((function(e){return e.isGroup})).sort((function(e,t){return e.zIndex-t.zIndex})),i=0,a=0;a<o.length;a++){var u=o[a];u.zIndex!==i&&(t.topGroupZIndex++,i=u.zIndex),u.setZIndex(t.topGroupZIndex)}}},this.toFrontGroup=function(e){e&&e.isGroup&&(t.topGroupZIndex++,e.setZIndex(t.topGroupZIndex),e.children&&e.children.forEach((function(e){var n=t.lf.getNodeModelById(e);t.toFrontGroup(n)})))},n.register(xn),this.lf=n,n.graphModel.addNodeMoveRules((function(e,r,o){if(e.isGroup){var i=t.getNodeAllChild(e);return n.graphModel.moveNodes(i,r,o,!0),!0}var a=n.getNodeModelById(t.nodeGroupMap.get(e.id));if(a&&a.isRestrict){var u=e.getBounds(),c=u.x1,l=u.y1,s=u.x2,f=u.y2,p=a.isAllowMoveTo({x1:c+r,y1:l+o,x2:s+r,y2:f+o});return p}return!0})),n.graphModel.group=this,n.on("node:add,node:drop",this.appendNodeToGroup),n.on("node:delete",this.deleteGroupChild),n.on("node:dnd-drag,node:drag",this.setActiveGroup),n.on("node:click",this.nodeSelected),n.on("graph:rendered",this.graphRendered)}e.prototype.getNodeAllChild=function(e){var t=this,n=[];return e.children&&e.children.forEach((function(e){n.push(e);var r=t.lf.getNodeModelById(e);r.isGroup&&(n=n.concat(t.getNodeAllChild(r)))})),n},e.prototype.getGroup=function(e,t){var n=this.lf.graphModel.nodes,r=n.filter((function(n){return n.isGroup&&n.isInRange(e)&&n.id!==t.id}));if(0!==r.length){if(1===r.length)return r[0];for(var o=r[r.length-1],i=r.length-2;i>=0;i--)r[i].zIndex>o.zIndex&&(o=r[i]);return o}},e.prototype.getNodeGroup=function(e){var t=this.nodeGroupMap.get(e);if(t)return this.lf.getNodeModelById(t)},e.pluginName="group"}(),function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}),Pn=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(jn(arguments[t]));return e},kn=(function(){function e(e){var t=this,n=e.lf;this.lf=n,this.pathes=[],n.getPathes=function(){if(!t.startNodeType)throw new Error("");return t.getPathes()},n.setRawPathes=function(e){t.setPathes(e)},n.getRawPathes=function(){return t.pathes},n.setStartNodeType=function(e){t.startNodeType=e}}e.prototype.setPathes=function(e){this.pathes=e.map((function(e){var t=e.routeId,n=e.name,r=e.elements,o=e.type;return{routeId:t,name:n,elements:r,type:o,similarElement:null,weight:0}}))},e.prototype.getPathes=function(){var e=this,t=this.lf.getGraphRawData(),n=new Map,r=[];t.nodes.forEach((function(t){n.set(t.id,{id:t.id,data:t,nextNodes:[]}),t.type===e.startNodeType&&r.push(t.id)})),t.edges.forEach((function(e){var t=n.get(e.sourceNodeId);t.nextNodes.push(e.targetNodeId)}));var o=[];return r.forEach((function(t){o=o.concat(e.findPathElements(n.get(t),n,[]))})),this.getNewPathes(o)},e.prototype.findPathElements=function(e,t,n){void 0===n&&(n=[]);var r=Pn(n);if(r.push(e.id),0===e.nextNodes.length)return[r];for(var o=[],i=0;i<e.nextNodes.length;i++){var a=t.get(e.nextNodes[i]),u=void 0,c=r.indexOf(a.id);u=-1!==c?[Pn(r.slice(c),[a.id])]:this.findPathElements(a,t,Pn(r)),o=o.concat(u)}return o},e.prototype.getNewPathes=function(e){var t=this,n=[],r=new Set;e.forEach((function(e){var o=t.getNewId("path"),i=t.getNewId(""),a=t.isLoopPath(e),u=e.join(",");r.has(u)||(r.add(u),n.push({routeId:o,name:i,elements:e,type:a,weight:0,similarElement:""}))}));var o=JSON.parse(JSON.stringify(this.pathes));return n.forEach((function(e){for(var n=0;n<o.length;n++){var r=o[n],i=t.similar2Path(Pn(e.elements),Pn(r.elements));i>e.weight&&r.weight<=i&&(e.weight=i,e.similarElement=r,i===r.weight&&r.similarElement?(r.similarElement.similarElement=null,r.similarElement.weight=0,r.similarElement=null,r.weight=0):(r.similarElement=e,r.weight=i))}})),n.forEach((function(e){e.similarElement&&e.similarElement.similarElement===e&&(e.routeId=e.similarElement.routeId,e.name=e.similarElement.name),delete e.similarElement,delete e.weight})),this.setPathes(n),n},e.prototype.similar2Path=function(e,t){var n=0,r=e.length+t.length;e.sort(),t.sort();var o=e.shift(),i=t.shift();while(void 0!==o&&void 0!==i)o===i?(n++,o=e.shift(),i=t.shift()):o<i?o=e.shift():o>i&&(i=t.shift());return n/r*200},e.prototype.getNewId=function(e){return e+"_"+g()},e.prototype.isLoopPath=function(e){var t=e.length;return e.indexOf(e[t-1])!==t-1?1:0},e.pluginName="flowPath"}(),function(){return kn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kn.apply(this,arguments)}),An={LEFT_TOP:-1,LEFT:0,LEFT_BOTTOM:1},Nn=(function(){function e(e){var t=this,n=e.lf;this.lf=n,this.trunk=[],n.layout=function(e){var n=t.lf.getGraphRawData();t.lf.setStartNodeType(e);var r=t.lf.getPathes();return t.levelHeight=[],t.newNodeMap=new Map,t.layout(n,r)}}e.prototype.layout=function(e,t){var n=this,r=[];t.forEach((function(e){var t=e.elements;t.length>r.length?r=t:t.length===r.length&&JSON.stringify(t)===JSON.stringify(n.trunk)&&(r=n.trunk)})),this.trunk=r;for(var o=this.formatData(e),i={nodes:[],edges:[]},a=r.length-1;a>=0;a--)this.setNodePosition(r[a],o,i,a,1);this.lf.graphModel.graphDataToModel(i)},e.prototype.setNodePosition=function(e,t,n,r,o){var i=this,a=t[e],u=a.text,c=a.type,l=a.next,s=a.properties,f=160*r+40,p=120*o,d={id:e,x:f,text:u,y:p,type:c,properties:s};return u&&"object"===typeof u&&(d.text=kn(kn({},u),{x:f+u.x,y:p+u.y})),this.newNodeMap.set(d.id,{x:d.x,y:d.y,type:c}),n.nodes.push(d),a.isFixed=!0,this.addLevelHeight(r,1),l&&l.length>0&&l.forEach((function(o){var a=t[o.nodeId];if(!a.isFixed){var u=i.getLevelHeight(r+1);i.addLevelHeight(r,1),i.setNodePosition(o.nodeId,t,n,r+1,u+1)}n.edges.push(kn({id:o.edgeId,type:o.edgeType,sourceNodeId:e,targetNodeId:o.nodeId,properties:o.properties,text:o.text},i.getEdgeDataPoints(e,o.nodeId)))})),d},e.prototype.getEdgeDataPoints=function(e,t){var n=this.newNodeMap.get(e),r=this.newNodeMap.get(t),o=this.getShape(e),i=o.width,a=o.height,u=this.getShape(t),c=u.width,l=u.height,s=this.getRelativePosition(n,r),f={x:n.x,y:n.y},p={x:r.x,y:r.y};switch(s){case An.LEFT:f.x=n.x+i/2,p.x=r.x-c/2;break;case An.LEFT_TOP:f.y=n.y+a/2,p.x=r.x-c/2;break;case An.LEFT_BOTTOM:f.x=n.x+i/2,p.y=r.y+l/2;break;default:break}return{startPoint:f,endPoint:p}},e.prototype.getRelativePosition=function(e,t){var n,r=e.y,o=t.y;return n=r<o?-1:r===o?0:1,n},e.prototype.getShape=function(e){var t=this.lf.getNodeModelById(e);return{height:t.height,width:t.width}},e.prototype.formatData=function(e){var t=e.nodes.reduce((function(e,t){var n=t.type,r=t.properties,o=t.text,i=t.x,a=t.y;return o&&"object"===typeof o&&(o.x=o.x-i,o.y=o.y-a),e[t.id]={type:n,properties:r,text:o,prev:[],next:[]},e}),{});return e.edges.forEach((function(e){var n=e.sourceNodeId,r=e.targetNodeId,o=e.id,i=e.properties,a=e.text,u=a;"object"===typeof a&&(u=a.value),t[n].next.push({edgeId:o,nodeId:r,edgeType:e.type,properties:i,text:u}),t[r].prev.push({edgeId:o,nodeId:n,properties:i,text:u})})),t},e.prototype.addLevelHeight=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);var r=this.levelHeight[e];r||(r={positiveHeight:0,negativeHeight:0},this.levelHeight[e]=r),n?r.negativeHeight-=t:r.positiveHeight+=t},e.prototype.getLevelHeight=function(e,t){void 0===t&&(t=!1);var n=this.levelHeight[e];return n?t?n.negativeHeight:n.positiveHeight:0},e.pluginName="AutoLayout"}(),function(){return Nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Nn.apply(this,arguments)}),Mn=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Dn=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Mn(arguments[t]));return e},Tn=function(e,t){var n=t.getModelById(e);return Cn("node"===n.BaseType?n:n.targetNode,t)},Cn=function(e,t){var n=[],r=[],o=function(e,r,i){void 0===i&&(i=null),i&&r.unshift.apply(r,Dn(t.getEdgeModels({sourceNodeId:e.id,targetNodeId:i.id}).map((function(e){return e.id})))),r.includes(e.id)?n.push(r):(r.unshift(e.id),e.incoming.nodes.length?e.incoming.nodes.forEach((function(t){o(t,r.slice(),e)})):n.push(r))},i=function(e,n,o){void 0===o&&(o=null),o&&n.push.apply(n,Dn(t.getEdgeModels({sourceNodeId:o.id,targetNodeId:e.id}).map((function(e){return e.id})))),n.includes(e.id)?r.push(n):(n.push(e.id),e.outgoing.nodes.length?e.outgoing.nodes.forEach((function(t){i(t,n.slice(),e)})):r.push(n))};return o(e,[]),i(e,[]),Dn(new Set(Dn(n.flat(),r.flat())))},In=(function(){function e(e){var t=e.lf;this.mode="path",this.manual=!1,this.tempStyles={},this.lf=t}e.prototype.setMode=function(e){this.mode=e},e.prototype.setManual=function(e){this.manual=e},e.prototype.highlightSingle=function(e){var t=this.lf.getModelById(e);"node"===t.BaseType?t.updateStyles(this.tempStyles[e]):"edge"===t.BaseType&&(t.updateStyles(this.tempStyles[e]),t.sourceNode.updateStyles(this.tempStyles[t.sourceNode.id]),t.targetNode.updateStyles(this.tempStyles[t.targetNode.id]))},e.prototype.highlightPath=function(e){var t=this,n=Tn(e,this.lf);n.forEach((function(e){t.lf.getModelById(e).updateStyles(t.tempStyles[e])}))},e.prototype.highlight=function(e,t){var n=this;if(void 0===t&&(t=this.mode),!this.manual){Object.keys(this.tempStyles).length&&this.restoreHighlight(),Object.values(this.lf.graphModel.modelsMap).forEach((function(e){var t="node"===e.BaseType?e.getNodeStyle():e.getEdgeStyle();n.tempStyles[e.id]=Nn({},t),e.setStyles({opacity:.1})}));var r={single:this.highlightSingle.bind(this),path:this.highlightPath.bind(this)};r[t](e)}},e.prototype.restoreHighlight=function(){var e=this;Object.keys(this.tempStyles).length&&(Object.values(this.lf.graphModel.modelsMap).forEach((function(t){var n,r=null!==(n=e.tempStyles[t.id])&&void 0!==n?n:{};t.updateStyles(Nn({},r))})),this.tempStyles={})},e.prototype.render=function(e,t){var n=this;this.lf.on("node:mouseenter",(function(e){var t=e.data;return n.highlight(t.id)})),this.lf.on("edge:mouseenter",(function(e){var t=e.data;return n.highlight(t.id)})),this.lf.on("node:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("edge:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("history:change",this.restoreHighlight.bind(this))},e.prototype.destroy=function(){},e.pluginName="highlight"}(),n(655)),Rn="h-bpmn:startEvent",Ln="h-bpmn:timerIntermediateEvent",Bn="h-bpmn:endEvent",zn="h-bpmn:userTask",Vn="h-bpmn:serviceTask",Hn="h-bpmn:receiveTask",Fn="h-bpmn:callActivity",Gn="h-bpmn:equipmentTask",Un="h-bpmn:exclusiveGateway",Xn="h-bpmn:parallelGateway",Yn="h-bpmn:complexGateway",Wn="h-bpmn:complexGatewayOr",Kn="h-bpmn:complexGatewayAnd",Zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"initNodeData",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.initNodeData.call(this,t),this.text.value="",this.text.editable=!1,this.text.x=this.x,this.text.y=this.y+this.r,this.r=30}}),t}(s.CircleNodeModel),qn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"getShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.width,n=e.height,r=e.r,o=e.x,i=e.y,a=e.getNodeStyle();return(0,s.h)("g",{},[(0,s.h)("circle",(0,In.pi)((0,In.pi)({},a),{r:r,cx:o,cy:i,width:t,height:n}))])}}),t}(s.CircleNode),Jn={type:Rn,view:qn,model:Zn},Qn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"initNodeData",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.initNodeData.call(this,t),this.text.value=this.text.value||"",this.text.editable=!0,this.text.x=this.x,this.text.y=this.y+this.r,this.r=30}}),t}(s.CircleNodeModel),$n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"getLabelShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return(0,s.h)("svg",{x:t-r/2+6,y:n-o/2,width:60,height:60,viewBox:"0 0 1274 1024"},[(0,s.h)("path",{fill:i.stroke,d:"M827.871087 196.128913C743.498468 111.756293 631.321596 65.290005 512 65.290005c-119.319549 0-231.499491 46.465265-315.871087 130.837884S65.290005 392.680451 65.290005 512s46.465265 231.499491 130.837884 315.871087 196.551538 130.837884 315.871087 130.837884c119.321596 0 231.499491-46.465265 315.871087-130.837884S958.708971 631.319549 958.708971 512 912.243707 280.500509 827.871087 196.128913zM531.556405 917.246651l0-74.145697c0-11.31572-9.174963-20.491707-20.491707-20.491707-11.316743 0-20.491707 9.174963-20.491707 20.491707l0 74.059739C283.276738 906.322857 116.693746 739.164766 106.755396 531.634176l72.351841 0c11.31572 0 20.491707-9.174963 20.491707-20.491707 0-11.31572-9.174963-20.491707-20.491707-20.491707l-72.273047 0c10.769274-206.737528 177.01253-373.005342 383.740848-383.813502l0 72.346725c0 11.316743 9.174963 20.491707 20.491707 20.491707 11.31572 0 20.491707-9.17394 20.491707-20.491707L531.558451 106.752326c207.593012 9.901511 374.807385 176.539762 385.609405 383.89946l-74.142627 0c-11.316743 0-20.491707 9.174963-20.491707 20.491707 0 11.316743 9.174963 20.491707 20.491707 20.491707l74.220399 0C907.275555 739.78796 739.720422 907.317511 531.556405 917.246651z"}),(0,s.h)("path",{fill:i.stroke,d:"M532.098757 503.118726 532.098757 258.240529c0-11.316743-9.174963-20.491707-20.491707-20.491707-11.31572 0-20.491707 9.17394-20.491707 20.491707l0 254.66612c0 7.858992 4.429893 14.677281 10.924817 18.114566L693.447539 722.42757c4.002151 4.000104 9.245572 6.001691 14.490016 6.001691s10.487865-2.001587 14.490016-6.001691c8.002254-8.002254 8.002254-20.977777 0-28.980032L532.098757 503.118726z"})])}}),Object.defineProperty(t.prototype,"getShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.width,n=e.height,r=e.r,o=e.x,i=e.y,a=e.getNodeStyle();return(0,s.h)("g",{},[(0,s.h)("circle",(0,In.pi)((0,In.pi)({},a),{r:r,cx:o,cy:i,width:t,height:n})),this.getLabelShape()])}}),t}(s.CircleNode),er={type:Ln,view:$n,model:Qn},tr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"initNodeData",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.initNodeData.call(this,t),this.text.value="",this.text.editable=!1,this.text.x=this.x,this.text.y=this.y+this.r,this.r=30;var n={message:"",validate:function(e,t,n,r){return console.log(e,t,n,r),e.type!==Bn}};this.sourceRules.push(n)}}),Object.defineProperty(t.prototype,"getNodeStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=e.prototype.getNodeStyle.call(this);return t.strokeWidth=4,t}}),t}(s.CircleNodeModel),nr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),t}(s.CircleNode),rr={type:Bn,view:nr,model:tr},or=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"initNodeData",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.initNodeData.call(this,t),this.width=200,this.height=100,this.radius=5}}),Object.defineProperty(t.prototype,"getNodeStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=e.prototype.getNodeStyle.call(this);return t}}),t}(s.RectNodeModel),ir=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"getLabelShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return(0,s.h)("svg",{x:t-r/2+5,y:n-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},[(0,s.h)("path",{fill:i.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"})])}}),Object.defineProperty(t.prototype,"getShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.getNodeStyle();return(0,s.h)("g",{},[(0,s.h)("rect",(0,In.pi)((0,In.pi)({},a),{x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o})),this.getLabelShape()])}}),t}(s.RectNode),ar={type:zn,view:ir,model:or},ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"initNodeData",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.initNodeData.call(this,t),this.width=200,this.height=100,this.radius=5}}),Object.defineProperty(t.prototype,"getNodeStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=e.prototype.getNodeStyle.call(this);return t}}),t}(s.RectNodeModel),cr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"getLabelShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return(0,s.h)("svg",{x:t-r/2+5,y:n-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},[(0,s.h)("path",{fill:i.stroke,d:"M1016.832 606.208q2.048 12.288-1.024 29.696t-10.24 35.328-17.408 32.256-22.528 20.48-21.504 6.144-20.48-4.096q-10.24-3.072-25.6-5.632t-31.232-1.024-31.744 6.656-27.136 17.408q-24.576 25.6-28.672 58.368t9.216 62.464q10.24 20.48-3.072 40.96-6.144 8.192-19.456 16.896t-29.184 15.872-33.28 11.264-30.72 4.096q-9.216 0-17.408-7.168t-11.264-15.36l-1.024 0q-11.264-31.744-38.4-54.784t-62.976-23.04q-34.816 0-62.976 23.04t-39.424 53.76q-5.12 12.288-15.36 17.92t-22.528 5.632q-14.336 0-32.256-5.12t-35.84-12.8-32.256-17.92-21.504-20.48q-5.12-7.168-5.632-16.896t7.68-27.136q11.264-23.552 8.704-53.76t-26.112-55.808q-14.336-15.36-34.816-19.968t-38.912-3.584q-21.504 1.024-44.032 8.192-14.336 4.096-28.672-2.048-11.264-4.096-20.992-18.944t-17.408-32.768-11.776-36.864-2.048-31.232q3.072-22.528 20.48-28.672 30.72-12.288 55.296-40.448t24.576-62.976q0-35.84-24.576-62.464t-55.296-38.912q-9.216-3.072-15.36-14.848t-6.144-24.064q0-13.312 4.096-29.696t10.752-31.744 15.36-28.16 18.944-18.944q8.192-5.12 15.872-4.096t16.896 4.096q30.72 12.288 64 7.68t58.88-29.184q12.288-12.288 17.92-30.208t7.168-35.328 0-31.744-2.56-20.48q-2.048-6.144-3.584-14.336t1.536-14.336q6.144-14.336 22.016-25.088t34.304-17.92 35.84-10.752 27.648-3.584q13.312 0 20.992 8.704t10.752 17.92q11.264 27.648 36.864 48.64t60.416 20.992q35.84 0 63.488-19.968t38.912-50.688q4.096-8.192 12.8-16.896t17.92-8.704q14.336 0 31.232 4.096t33.28 11.264 30.208 18.432 22.016 24.576q5.12 8.192 3.072 17.92t-4.096 13.824q-13.312 29.696-8.192 62.464t29.696 57.344 60.416 27.136 66.56-11.776q8.192-5.12 19.968-4.096t19.968 9.216q15.36 14.336 27.136 43.52t15.872 58.88q2.048 17.408-5.632 27.136t-15.872 12.8q-31.744 11.264-54.272 39.424t-22.528 64q0 34.816 18.944 60.928t49.664 37.376q7.168 4.096 12.288 8.192 11.264 9.216 15.36 23.552zM540.672 698.368q46.08 0 87.04-17.408t71.168-48.128 47.616-71.168 17.408-86.528-17.408-86.528-47.616-70.656-71.168-47.616-87.04-17.408-86.528 17.408-70.656 47.616-47.616 70.656-17.408 86.528 17.408 86.528 47.616 71.168 70.656 48.128 86.528 17.408z"})])}}),Object.defineProperty(t.prototype,"getShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.getNodeStyle();return(0,s.h)("g",{},[(0,s.h)("rect",(0,In.pi)((0,In.pi)({},a),{x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o})),this.getLabelShape()])}}),t}(s.RectNode),lr={type:Vn,view:cr,model:ur},sr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"initNodeData",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.initNodeData.call(this,t),this.width=200,this.height=100,this.radius=5}}),Object.defineProperty(t.prototype,"getNodeStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=e.prototype.getNodeStyle.call(this);return t}}),t}(s.RectNodeModel),fr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"getLabelShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return(0,s.h)("svg",{x:t-r/2+5,y:n-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},[(0,s.h)("path",{fill:i.stroke,d:"M780.8 341.333333H243.2l268.8 149.333334v85.333333L213.333333 409.6V682.666667h597.333334V409.6l-298.666667 166.4v-85.333333L780.8 341.333333zM896 256v512H128V256h768z"})])}}),Object.defineProperty(t.prototype,"getShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.getNodeStyle();return(0,s.h)("g",{},[(0,s.h)("rect",(0,In.pi)((0,In.pi)({},a),{x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o})),this.getLabelShape()])}}),t}(s.RectNode),pr={type:Hn,view:fr,model:sr},dr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"initNodeData",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.initNodeData.call(this,t),this.width=200,this.height=100,this.radius=5}}),Object.defineProperty(t.prototype,"getNodeStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=e.prototype.getNodeStyle.call(this);return t}}),t}(s.RectNodeModel),hr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),t}(s.RectNode),yr={type:Fn,view:hr,model:dr},vr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"initNodeData",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.initNodeData.call(this,t),this.width=200,this.height=100,this.radius=5}}),Object.defineProperty(t.prototype,"getNodeStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=e.prototype.getNodeStyle.call(this);return t}}),t}(s.RectNodeModel),gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"getLabelShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return(0,s.h)("svg",{x:t-r/2+5,y:n-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},[(0,s.h)("path",{fill:i.stroke,d:"M1035.09001747 686.59460362V79.64608611H-11.09001747v606.94851751h492.95525433v192.93487986h-274.01820648v60.32985611h608.33610417v-60.32985611h-273.98804156v-192.93487986h492.89492448z m-985.85017885-60.32985612V139.97594225h925.52032276v486.28880525H49.23983862z"})])}}),Object.defineProperty(t.prototype,"getShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.getNodeStyle();return(0,s.h)("g",{},[(0,s.h)("rect",(0,In.pi)((0,In.pi)({},a),{x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o})),this.getLabelShape()])}}),t}(s.RectNode),br={type:Gn,view:gr,model:vr},mr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"initNodeData",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.initNodeData.call(this,t),console.log(this),this.text.editable=!1,this.rx=30,this.ry=30,this.style.stroke="rgb(24, 125, 255)"}}),t}(s.DiamondNodeModel),wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"getLabelShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return(0,s.h)("svg",{x:t-r/2+15,y:n-o/2+12,width:36,height:36,viewBox:"0 0 1274 1024"},[(0,s.h)("path",{fill:i.stroke,d:"M617.92 516.096l272 272-101.824 101.824-272-272-272 272-101.856-101.824 272-272-275.008-275.04L241.056 139.2l275.04 275.04 275.04-275.04 101.824 101.824-275.04 275.04z"})])}}),Object.defineProperty(t.prototype,"getShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.points,n=e.getNodeStyle();return(0,s.h)("g",{},[(0,s.h)("polygon",(0,In.pi)((0,In.pi)({},n),{points:t})),this.getLabelShape()])}}),t}(s.DiamondNode),Or={type:Un,view:wr,model:mr},_r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"initNodeData",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.initNodeData.call(this,t),console.log(this),this.text.editable=!1,this.rx=30,this.ry=30,this.style.stroke="rgb(24, 125, 255)"}}),t}(s.DiamondNodeModel),xr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"getLabelShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return(0,s.h)("svg",{x:t-r/2+15,y:n-o/2+12,width:36,height:36,viewBox:"0 0 1274 1024"},[(0,s.h)("path",{fill:i.stroke,d:"M960.621531 575.791885 571.769268 575.791885l0 382.755404-120.688733 0L451.080535 575.791885 64.875566 575.791885 64.875566 448.207092l386.204969 0L451.080535 65.451688l120.688733 0 0 382.755404 388.853285 0L960.622554 575.791885z"})])}}),Object.defineProperty(t.prototype,"getShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.points,n=e.getNodeStyle();return(0,s.h)("g",{},[(0,s.h)("polygon",(0,In.pi)((0,In.pi)({},n),{points:t})),this.getLabelShape()])}}),t}(s.DiamondNode),Er={type:Xn,view:xr,model:_r},Sr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"initNodeData",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.initNodeData.call(this,t),console.log(this),this.text.editable=!1,this.rx=30,this.ry=30,this.style.stroke="rgb(24, 125, 255)"}}),t}(s.DiamondNodeModel),jr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"getLabelShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return(0,s.h)("svg",{x:t-r/2+15,y:n-o/2+12,width:36,height:36,viewBox:"0 0 1274 1024"},[(0,s.h)("path",{fill:i.stroke,d:"M476 72a8 8 0 0 1 8-8h56a8 8 0 0 1 8 8v353.089l249.671-249.672a8 8 0 0 1 11.314 0l39.598 39.598a8 8 0 0 1 0 11.314L598.912 476H952a8 8 0 0 1 8 8v56a8 8 0 0 1-8 8H598.912l249.671 249.671a8 8 0 0 1 0 11.314l-39.598 39.598a8 8 0 0 1-11.314 0L548 598.911V952a8 8 0 0 1-8 8h-56a8 8 0 0 1-8-8V598.912L226.329 848.583a8 8 0 0 1-11.314 0l-39.598-39.598a8 8 0 0 1 0-11.314L425.089 548H72a8 8 0 0 1-8-8v-56a8 8 0 0 1 8-8h353.089L175.417 226.329a8 8 0 0 1 0-11.314l39.598-39.598a8 8 0 0 1 11.314 0L476 425.088V72z"})])}}),Object.defineProperty(t.prototype,"getShape",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.model,t=e.points,n=e.getNodeStyle();return(0,s.h)("g",{},[(0,s.h)("polygon",(0,In.pi)((0,In.pi)({},n),{points:t})),this.getLabelShape()])}}),t}(s.DiamondNode),Pr={type:Yn,view:jr,model:Sr},kr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"initNodeData",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.initNodeData.call(this,t),this.text.editable=!1,this.text.value="and",this.rx=30,this.ry=30,this.style.stroke="rgb(24, 125, 255)"}}),t}(s.DiamondNodeModel),Ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),t}(s.DiamondNode),Nr={type:Kn,view:Ar,model:kr},Mr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),Object.defineProperty(t.prototype,"initNodeData",{enumerable:!1,configurable:!0,writable:!0,value:function(t){e.prototype.initNodeData.call(this,t),this.text.editable=!1,this.text.value="or",this.rx=30,this.ry=30,this.style.stroke="rgb(24, 125, 255)"}}),t}(s.DiamondNodeModel),Dr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,In.ZT)(t,e),t}(s.DiamondNode),Tr={type:Wn,view:Dr,model:Mr},Cr=function(){function e(e){var t=e.lf;t.register(Jn),t.register(er),t.register(rr),t.register(ar),t.register(lr),t.register(pr),t.register(yr),t.register(br),t.register(Or),t.register(Er),t.register(Pr),t.register(Nr),t.register(Tr)}return Object.defineProperty(e.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(e,"pluginName",{enumerable:!0,configurable:!0,writable:!0,value:"HBpmn"}),e}(),Ir=Cr,Rr=n(2201),Lr={0:{nodes:[{id:"6669bf12-8295-4169-9f8b-c46ac8e8ff03",type:"h-bpmn:startEvent",x:360,y:320,properties:{},text:{x:360,y:370,value:""}},{id:"5d284689-55d8-4a83-8565-3ce849b6b17d",type:"h-bpmn:userTask",x:580,y:320,properties:{},text:{x:580,y:320,value:""}},{id:"67b0cb5b-57f7-4b8e-86bf-6f025eeaa598",type:"h-bpmn:userTask",x:840,y:320,properties:{},text:{x:840,y:320,value:""}},{id:"7ee0298b-542c-409e-a3e5-6cc545e0f07a",type:"h-bpmn:exclusiveGateway",x:1040,y:320,properties:{}},{id:"5574b2a6-6977-46fa-bf7b-19c4529a017b",type:"h-bpmn:serviceTask",x:1340,y:320,properties:{},text:{x:1340,y:320,value:""}},{id:"2afa2413-55c4-4496-8954-307effcd069d",type:"h-bpmn:callActivity",x:1660,y:320,properties:{},text:{x:1660,y:320,value:""}},{id:"f945ccf4-82cf-4a24-bd0e-44b49d6ca3b2",type:"h-bpmn:receiveTask",x:1660,y:560,properties:{},text:{x:1660,y:560,value:""}},{id:"dc46e2cd-87e7-4fd8-83c7-8f071dd1e1c9",type:"h-bpmn:parallelGateway",x:600,y:960,properties:{}},{id:"567f6bc5-8c53-440b-b857-757b310cc037",type:"h-bpmn:serviceTask",x:920,y:780,properties:{},text:{x:920,y:780,value:""}},{id:"e75efa15-2a53-4115-af55-908265eb1ce8",type:"h-bpmn:serviceTask",x:920,y:900,properties:{},text:{x:920,y:900,value:""}},{id:"ae8b0af0-2bb9-41cb-9832-5b8834b54381",type:"h-bpmn:serviceTask",x:920,y:1020,properties:{},text:{x:920,y:1020,value:""}},{id:"d1635522-d221-4810-917f-b7e39a51790c",type:"h-bpmn:serviceTask",x:920,y:1140,properties:{},text:{x:920,y:1140,value:""}},{id:"1eb353d2-5c96-4127-ad91-cc16a5649216",type:"h-bpmn:parallelGateway",x:1220,y:960,properties:{}},{id:"f80c87fa-10b3-4b7b-a6d9-8ec06f5d7b50",type:"h-bpmn:serviceTask",x:1440,y:960,properties:{},text:{x:1440,y:960,value:""}},{id:"4c5376d8-60e4-4ffe-bfab-1d00424f9605",type:"h-bpmn:endEvent",x:1700,y:960,properties:{},text:{x:1700,y:1010,value:""}}],edges:[{id:"dc03c358-2cb1-47a3-a532-5648c2fe713d",type:"polyline",sourceNodeId:"6669bf12-8295-4169-9f8b-c46ac8e8ff03",targetNodeId:"5d284689-55d8-4a83-8565-3ce849b6b17d",startPoint:{x:390,y:320},endPoint:{x:480,y:320},properties:{},pointsList:[{x:390,y:320},{x:480,y:320}]},{id:"409724bc-7682-4e5a-bfc4-422cae7c50c6",type:"polyline",sourceNodeId:"5d284689-55d8-4a83-8565-3ce849b6b17d",targetNodeId:"67b0cb5b-57f7-4b8e-86bf-6f025eeaa598",startPoint:{x:680,y:320},endPoint:{x:740,y:320},properties:{},pointsList:[{x:680,y:320},{x:740,y:320}]},{id:"1221b0fb-87f2-4c4b-adbd-4c9b46ca12dc",type:"polyline",sourceNodeId:"67b0cb5b-57f7-4b8e-86bf-6f025eeaa598",targetNodeId:"7ee0298b-542c-409e-a3e5-6cc545e0f07a",startPoint:{x:940,y:320},endPoint:{x:1010,y:320},properties:{},pointsList:[{x:940,y:320},{x:1010,y:320}]},{id:"4fb48ca0-2d57-4d7a-823d-82f0b59f7f7e",type:"polyline",sourceNodeId:"7ee0298b-542c-409e-a3e5-6cc545e0f07a",targetNodeId:"5d284689-55d8-4a83-8565-3ce849b6b17d",startPoint:{x:1040,y:350},endPoint:{x:580,y:370},properties:{},text:{x:780.6273922638885,y:457,value:""},pointsList:[{x:1040,y:350},{x:1040,y:457},{x:580,y:457},{x:580,y:370}]},{id:"3d2c8399-d2c8-405e-894b-e8893a8a513e",type:"polyline",sourceNodeId:"7ee0298b-542c-409e-a3e5-6cc545e0f07a",targetNodeId:"5574b2a6-6977-46fa-bf7b-19c4529a017b",startPoint:{x:1070,y:320},endPoint:{x:1240,y:320},properties:{},text:{x:1134.3773922638886,y:320,value:""},pointsList:[{x:1070,y:320},{x:1240,y:320}]},{id:"31016c0b-8350-48b5-b85d-2dcc8069312d",type:"polyline",sourceNodeId:"5574b2a6-6977-46fa-bf7b-19c4529a017b",targetNodeId:"2afa2413-55c4-4496-8954-307effcd069d",startPoint:{x:1440,y:320},endPoint:{x:1560,y:320},properties:{},pointsList:[{x:1440,y:320},{x:1560,y:320}]},{id:"1ce078c4-105b-456d-bd7a-4cbc2492ae81",type:"polyline",sourceNodeId:"2afa2413-55c4-4496-8954-307effcd069d",targetNodeId:"f945ccf4-82cf-4a24-bd0e-44b49d6ca3b2",startPoint:{x:1660,y:370},endPoint:{x:1660,y:510},properties:{},pointsList:[{x:1660,y:370},{x:1660,y:510}]},{id:"8cab2708-bab4-43bc-93e6-7d8739e01643",type:"polyline",sourceNodeId:"f945ccf4-82cf-4a24-bd0e-44b49d6ca3b2",targetNodeId:"dc46e2cd-87e7-4fd8-83c7-8f071dd1e1c9",startPoint:{x:1660,y:610},endPoint:{x:600,y:930},properties:{},pointsList:[{x:1660,y:610},{x:1660,y:673.0769230769231},{x:600,y:673.0769230769231},{x:600,y:930}]},{id:"07ec8fb2-aa2a-4d91-afed-a88e50a76c42",type:"polyline",sourceNodeId:"dc46e2cd-87e7-4fd8-83c7-8f071dd1e1c9",targetNodeId:"567f6bc5-8c53-440b-b857-757b310cc037",startPoint:{x:630,y:960},endPoint:{x:820,y:780},properties:{},pointsList:[{x:630,y:960},{x:724.6153846153848,y:960},{x:724.6153846153848,y:780},{x:820,y:780}]},{id:"e0879137-a770-4dd0-885a-fae3af21739d",type:"polyline",sourceNodeId:"dc46e2cd-87e7-4fd8-83c7-8f071dd1e1c9",targetNodeId:"e75efa15-2a53-4115-af55-908265eb1ce8",startPoint:{x:630,y:960},endPoint:{x:820,y:900},properties:{},pointsList:[{x:630,y:960},{x:725,y:960},{x:725,y:900},{x:820,y:900}]},{id:"78c37200-e933-4b55-9bb3-dd26fe79a2bf",type:"polyline",sourceNodeId:"dc46e2cd-87e7-4fd8-83c7-8f071dd1e1c9",targetNodeId:"ae8b0af0-2bb9-41cb-9832-5b8834b54381",startPoint:{x:630,y:960},endPoint:{x:820,y:1020},properties:{},pointsList:[{x:630,y:960},{x:725,y:960},{x:725,y:1020},{x:820,y:1020}]},{id:"ee049f6e-a63b-4390-8e0d-fb98e67012a6",type:"polyline",sourceNodeId:"dc46e2cd-87e7-4fd8-83c7-8f071dd1e1c9",targetNodeId:"d1635522-d221-4810-917f-b7e39a51790c",startPoint:{x:630,y:960},endPoint:{x:820,y:1140},properties:{},pointsList:[{x:630,y:960},{x:724.6153846153848,y:960},{x:724.6153846153848,y:1140},{x:820,y:1140}]},{id:"cc27abc3-664c-4dc7-af21-4aa0b7baa9c2",type:"polyline",sourceNodeId:"567f6bc5-8c53-440b-b857-757b310cc037",targetNodeId:"1eb353d2-5c96-4127-ad91-cc16a5649216",startPoint:{x:1020,y:780},endPoint:{x:1190,y:960},properties:{},pointsList:[{x:1020,y:780},{x:1123.995726495727,y:780},{x:1123.995726495727,y:960},{x:1190,y:960}]},{id:"08205997-63c0-4e98-b531-d4e911fae978",type:"polyline",sourceNodeId:"e75efa15-2a53-4115-af55-908265eb1ce8",targetNodeId:"1eb353d2-5c96-4127-ad91-cc16a5649216",startPoint:{x:1020,y:900},endPoint:{x:1190,y:960},properties:{},pointsList:[{x:1020,y:900},{x:1123.3760683760681,y:900},{x:1123.3760683760681,y:960},{x:1190,y:960}]},{id:"bf09cc38-b930-46b0-9c9c-66ead7e26a91",type:"polyline",sourceNodeId:"ae8b0af0-2bb9-41cb-9832-5b8834b54381",targetNodeId:"1eb353d2-5c96-4127-ad91-cc16a5649216",startPoint:{x:1020,y:1020},endPoint:{x:1190,y:960},properties:{},pointsList:[{x:1020,y:1020},{x:1124.230769230769,y:1020},{x:1124.230769230769,y:960},{x:1190,y:960}]},{id:"0a068a23-ac1d-4040-bb47-9903dde0c7d3",type:"polyline",sourceNodeId:"d1635522-d221-4810-917f-b7e39a51790c",targetNodeId:"1eb353d2-5c96-4127-ad91-cc16a5649216",startPoint:{x:1020,y:1140},endPoint:{x:1190,y:960},properties:{},pointsList:[{x:1020,y:1140},{x:1123.8888888888891,y:1140},{x:1123.8888888888891,y:960},{x:1190,y:960}]},{id:"08734739-b3f9-4b47-b3b1-88ac54bce878",type:"polyline",sourceNodeId:"1eb353d2-5c96-4127-ad91-cc16a5649216",targetNodeId:"f80c87fa-10b3-4b7b-a6d9-8ec06f5d7b50",startPoint:{x:1250,y:960},endPoint:{x:1340,y:960},properties:{},pointsList:[{x:1250,y:960},{x:1340,y:960}]},{id:"a33987af-dad0-4646-b422-1c655ce1a446",type:"polyline",sourceNodeId:"f80c87fa-10b3-4b7b-a6d9-8ec06f5d7b50",targetNodeId:"4c5376d8-60e4-4ffe-bfab-1d00424f9605",startPoint:{x:1540,y:960},endPoint:{x:1670,y:960},properties:{},pointsList:[{x:1540,y:960},{x:1670,y:960}]}]}},Br=Lr,zr="menu-common",Vr=200,Hr=100,Fr=function(){function e(e){var t=this,n=e.lf;Object.defineProperty(this,"lf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"menuTypeMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__menuDOM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_activeData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isShow",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setContextMenuByType",{enumerable:!0,configurable:!0,writable:!0,value:function(e,n){t.menuTypeMap.set(e,n)}}),Object.defineProperty(this,"listenDelete",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.hideContextMenu()}}),this.menuTypeMap=new Map,this.lf=n,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(zr,[]),this.isShow=!1}return Object.defineProperty(e.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;this.container=t,e.on("node:click",(function(e){var t=e.data;n._activeData=t,n.createContextMenu()})),e.on("edge:click",(function(e){var t=e.data;n._activeData=t,n.createContextMenu()})),e.on("blank:click",(function(){n.hideContextMenu()}))}}),Object.defineProperty(e.prototype,"hideContextMenu",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1}}),Object.defineProperty(e.prototype,"showContextMenu",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e&&e.id?(this._activeData=e,this.createContextMenu()):console.warn("")}}),Object.defineProperty(e.prototype,"setContextMenuItems",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.menuTypeMap.set(zr,e)}}),Object.defineProperty(e.prototype,"getContextMenuPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._activeData,t=this.lf.graphModel.getElement(e.id);if(t){var n,r;if("edge"===t.BaseType){n=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER;var o=t.getData();n=Math.max(o.startPoint.x,n),r=Math.min(o.startPoint.y,r),n=Math.max(o.endPoint.x,n),r=Math.min(o.endPoint.y,r),o.pointsList&&o.pointsList.forEach((function(e){n=Math.max(e.x,n),r=Math.min(e.y,r)}))}return"node"===t.BaseType&&(n=e.x+t.width/2,r=e.y-t.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([n,r])}console.warn("".concat(e.id))}}),Object.defineProperty(e.prototype,"createContextMenu",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.lf.options.isSilentMode;if(!t){var n=this.menuTypeMap.get(this._activeData.type)||[];n=n.concat(this.menuTypeMap.get(zr)),console.log(n);var r=document.createDocumentFragment();n.forEach((function(t){var n=document.createElement("div");n.className="lf-context-item";var o=document.createElement("img");o.src=t.icon,o.className="lf-context-img",t.className&&(n.className="".concat(n.className," ").concat(t.className)),o.addEventListener("click",(function(){if(console.log("sdfef"),e.hideContextMenu(),t.callback)t.callback(e._activeData);else{var n=e.lf.getNodeModelById(e._activeData.id);console.log(n),e.addNode({sourceId:e._activeData.id,x:e._activeData.x,y:e._activeData.y,width:e._activeData.width,properties:t.properties,type:t.type},void 0)}})),n.appendChild(o),r.appendChild(n)})),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(r),this.showMenu()}}}),Object.defineProperty(e.prototype,"addNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=void 0!==t;void 0===t&&(t=e.y);var r=this.lf.getNodeModelById(e.sourceId),o=e.x+Vr,i=t-e.y/2-20,a=e.x+100+Vr,u=t+e.y/2+20,c=this.lf.getAreaElement([o,i],[a,u]);if(c.length)return t+=Hr,void this.addNode(e,t);console.log(e);var l,s,f=this.lf.addNode({type:e.type,x:e.x+Vr+r.width/2,y:t,properties:e.properties});n&&(l={x:e.x,y:e.y+r.height/2},s={x:f.x-f.width/2,y:f.y}),this.lf.addEdge({sourceNodeId:e.sourceId,targetNodeId:f.id,startPoint:l,endPoint:s})}}),Object.defineProperty(e.prototype,"showMenu",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getContextMenuPosition(),t=e[0],n=e[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top="".concat(n,"px"),this.__menuDOM.style.left="".concat(t+10,"px"),this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0}}),e}();Fr.pluginName="contextPad";var Gr=Fr,Ur=function(e){var t={type:"h-bpmn:userTask",label:"",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAp1JREFUWEftlj9oE2EYxp/3IkSckotOpqDgl5ZWcLBgxcVBdBL8gw66iCg2lxrBzcl0qpPS1lyQKm5uiuBUHBztoAjVVtOLRDA46Z06VAvmXkkwQWLS3PudQwn54KY8z/v8eO7uvRA2+KENzoc+YNg71PsNxm6VYxStnibwIQCnAF4kptcMv+RWjSlk1VqYFkM1mLCLx5jpJoh2doD4zoQpL61u6EJqA5oF5zwY9wIFE3JuWk0G0raItAATd8r7uPprQRRoYMQdV8siD6C3ZkzbeQ5gTBLGwGPPUsclnppW3GCs8HaHwZvK0iAAq5sj37Z9ujS6KvGKARP5lXNMdF8S0tT6fNidSD2VeMWAcfv9OMEvSEKaWo2XRQwYm3UOGhE80wEk5pNfMqlHEq8YMFEobmc2KpKQhpZR3eNZQ4sSrxiwNty0Sw8BPiEJAujDlp/R4crVgR8Snxagzm1m8FnPSj2QwGmtmUaAaTtzAC4ECWTCNd3PnVaDDahEoZRl5ul1ITVWy9/zQgHWBsULpQPw+QwIw2CM1IcTlsBYZgN3v6bVqyAtd9KEBgwTHsTb+4DmnJPEGgZgIAlCst4KowIfFUTx0b2otHZmo11xg+ZtZz8iGAPjCFC/gpx5EOZRxYI7oWr/hAKfQIBb7XeDDOMKMx1tthQ4okXIqBDxE4I//dkaKnYb0xXQzBdzoEgW4Hi3YbLfyQNXZ9zMYG4937qApu28Af6sDlm6RL3kWmq3eM3EbecFAXslSbpaBl56lhpt52/bYNxemSHQZd1AHR+DZz0rlW31tgfMOw4RdukE6XqYUfIySgUCNG2HdYPC+FxL/VNY2wb7gB1q7qEG68vZuB7meRJ72Z9st7S7fknEQf/Z0AcMW2i/wbAN/gbA1dYpL5kz5gAAAABJRU5ErkJggg=="},n={type:"h-bpmn:serviceTask",label:"",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAz9JREFUWEfVmEtoE1EUhv8zqaBgwUwi+K5CJqkoumhBxY11IVTBhaBUUNCFtplQRRSrK+vKVrTgYyZUF7qRigV3dqFg3YhdtAsLapIJKK2vRToRqgtpM0cmtTVJE3IzyWKcXTL/+c83c+/cc+4luPwil/OhKsCVWjJgEVqZM75iD8rk+co08/xHePMnpy/CMaANlyE2RBJbNLvJKaRjQF/UuMaMSyKAROiZCiuXRbSFGseAsp4cALhNLCk9NtXAUTFtvqoKQOMNgJ2CSUdMVdklqM2TlQRc1ze57NfS38eJM2uY+GlabRzPjZR14xuAVYJJv5uqsjpX69Vj24jpECRpAoQRs0N5X8yrKKCsJdeDeBDAjvkgBl5JzHdm6+itlEEfAQcF4eZkRENShs4xZbZaRJ0E7MmJfwemVjMSmBSag7KWvAXiMxUBVCtmum1GAmfLAvq1ZItF/LLafE7iJaa9qUhgODd20RDL0eQzMO93kqDqGKIhMxw4UBJQ1uKnQNK9yhPxFwYZEjhmEc0SEAIoBOYNFXuxddqMhO7Pxy28wfr+uH9JRnoNIFiJKTGfnIoEHxaL8WqJi0TUW4kfgMSMx9o93R5KZb+t+WBZNw4DeFKJmUgJ8+vJJgs8WokvE46lw8qjfEAt3g2SrogaSaDmlBoYE9GviH7YKHHdRxFtVsPWVTMS6s4DtH94dWOUgKZyRszclY4Er5fT5d73aYkTTPSgfAyPm2pw+6I5aP/h743VW8ulfhCVrptEE2Y40FA+0WKFrCc+A7S2ZCzzgPTTak91NU4XBVyYj1r8PEi6UdSI8MIMK/ucAHp1Y7iggvyzYeuCGQndLPQtWYtLmTHhbjqsdDoB9OmJKIM6CmPtMppWlZZinv8noOzWIXb9R+LqZUZ2+0Lt+lLn+mbBXoNc3W4tVBE3N6zZeuz2ln9uqF28afoLWHLbyR6Kwco2tlsqqcfMSHqI2pithqq3nXZigY27abeQgpBpU1XkXG1VG3eRpKJVJ9sgA2NpVWkW8RVut8qZybphD7O9jxG5Bk1VOSIirBmgTzd6GOgSSUpA75SqCB3V1QzQ9QeY9pO6+ghYZGhroXF8gFmL5CIefwB0scE4DheJlAAAAABJRU5ErkJggg==",cls:"import_icon"},r={type:"h-bpmn:exclusiveGateway",label:"",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},o={type:"h-bpmn:timerIntermediateEvent",label:"",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAIABJREFUeF7tXQm4HEW1/k/PjYkoRCC503MTFiUJIhHwQYBA4CGgJARQUXZcQEV9ApIgQZLpyeT2JEgUwvYez7ghCrIvYth8hCXIFiISRSABH2C405NEliDby50+76u5c8NNcqe7eu+Zqfq+fPB995xTp/5T/1R1d9U5BNUUAgqBhgiQwkYhoBBojIAiiJodCgEHBBRB1PRQCCiCqDmgEPCHgFpB/OGmtNoEAUWQNgm0GqY/BBRB/OGmtNoEAUWQNgm0GqY/BBRB/OGmtNoEAUWQNgm0GqY/BBRB/OGmtNoEAUWQhAM9YgZvOWwItuodguHM2Eq4Q4R1HevxxrvrsW7tfHozYRfbuntFkIjCLyb+kKEYZwNjCRjH4r+EHQFsBcZwBoaT+H9Ac3HBZmAdAW+A8AaAdcx4kYCVDKzQgJXr38MKRaRoAqkIEgKuI2fyHloGB2mM8axhLBjjAOghmPZiwgJhBdlYaRP+aldx/5p59GcvBpTs5ggognicFWPO4KFvbYMJsLG3DRwA4CACPuLRTCziDLwO4H4NWAINj3/oVSx9/jJ6L5bOW6QTRRCJQOoGTwBjKggTGNgvrYRwG4ogDAEPg/E4CHdYJi1102n3vyuCNJgBnTN5N9IwlTQcDsaklpwohIfYxh1sY9HqebS8JccYcFCKIAMA7MrzzkyYyn2rxcEBsW0udcZiIiwixqKeEj3XXM5H560iCIBsno8gwmkAjowO6qayfDszFlZK9Pum8joCZ9uaIAkTwwLwCoA9HeJ6PwOjCOgC8KEI4u9msu2J0pYEiYkYLwBYyozlmoZVto1XMsAr1eFYVTmH3hIzU8/zQSDc50QQy6RP9/99xEzODRmCUdUqRmvAKBA+BsJeYEwA8EG32R7g721LlLYiSITE6CFgKRjirdDSTAeeWFWkV90mpFeCONnLFnk89WJCjTCoEUb8C7u1HVHagiCds3g/TcM0AF8Kaca8Q8A9DNxjM+5eXSKxWnhuYRJksM6zeT6UNBwKxqEuWzmvvt9o21iwei497FWx2eRbmiC5WbwDMpjGjO+FEJgnQVgMG4uHdWDxi0V6N6jNqAky0D+9yDuiioMA/Lv4uAnUjr0EakS4BFUsKM+llwIZSrFyaxLkNB6iZ2srxlkAcgHwF9uk60G43uomp2cFX13ESZBNHdQNPhbAcQCO9uX8+0plABdbFSzAQlof0Fbq1FuOILkCn8RcI4fT2yG3QDxCwPXrq7hu7TwSEyCSliRB+gfUafDuGeBY7iPLTgEGuowIC8rddHUAG6lTbRmCiO0Ua7go4C/ilfXV4s44IpUGgvSPc8ciD3u3CrGqiH9TA4z/ZrIxvVW2XS1BkFyBD2PGAgC7+Aos41dMuKJi0mO+9H0qpYkgA4eQK/AXwPgOA5/xObRniDCt3E13+9RPjVrTEyRn8FmMGjm8N8Z1IFxhmfSAd+XgGmklSP/IsgU+gRjfQd+pZc+NgGllky72rJgihaYlSFeRt6hWsYBQOyLiqRFwmyBG0r9waSdIP6h6gU8RK4qfbysMLMxkMK2nSG97ClJKhJuSIDmD96yvGl5/2Z4mwvlpeZBsFoJsIIrBMwCcA2CEx/m7pL6aLPOol7h40xEka/CJBFziOUiMCzs6ME/mC3dcUWk2gghcxIlnmyCIcqpHnNYy8L2KSdd41EtUvKkIouf5HBDme0TsXiacX+mmez3qRS7ejATZ8HyS56NAmEHA/p6AYsywSvQjTzoJCjcNQXIGX8LAmR6wehuEgtVNF3rQiVW0mQmyybZrNoAtZMEj4NKySWGcbpDt0rdcUxBEN/hGAF+UHiXhT1TFtPJcelBaJwHBkUXWM1U0/BBJjN+WS3RiAq556jJn8AHMuKh+UFJW9ybLpLDOxsn26Vku9QTRDX4UwD6yIyPgGjuDaZUirZbVSVJON/g2AEcN6gNjjlWiYpL+yfY96jzettpR+1D7FVkdAI9ZJu3rQT520VQTRDf4HwBGe0BltmVStwf5xEW7DN7fBh4axJEntQwmNdvrUT3P54LwQw/ArrJM2s6DfKyiqSWIbjB7QKIHwDTLpOs96KRGNDeLJyGDC5ixG4DXQHicNfxHs6yCmwKZLfCRBFwExhhZkC2TUjkXU+mUbvBfAewqAy4BT1Wr+IrKyiGDVnwyuTzvwgRxcPFTkr0+bZk0XlI2NrHUEUQ3WKwCx0ghQHhUq+LYnrkktmKqpQyBbJE7qYpbAUyUdO0GyyRxWDI1LVUE0fNcBEG8MpRp9w+8ry2joGSSQUA3eDGADXfrHb1gFK0SzUnG0817TQ1BcgZPZ0D2m8VdlklT0gKi8sMdAd3gOwBIxYyAs8smiTdiibdUECSb528SYaEkGpdbJp0hKavEUoSAXuBLwZCKHTNOq5Top0m7nzhBsgU+jhjXygBRP2g4U0ZWyaQTgVyB5zHjPBnvmHB8pZuuk5GNSiZRgtRP5d4ldfCQcJnVTV6OmkSFmbIbEAEPK8laAiaXTUrsFHBiBBH3OewqBDlkjqxfaZl0SsC4pFpdL/BUMHYgoNdm/L1Sov9JtcMBndMN/iWAr0mYWaJlMDmpD6aJESRr8E8kLzs1xZkdiUAPKiKyJXZkcMumx2mYcXWlRCf7tdsMerJn7MSlq4pJ30piTIkQxMM12UcyvTjylfPpn0mAE0efTq+2mXFkKyeQrp/ful3mO0lS13djJ0g9wYLYWrm1HruKKa3+hVzP81Og2hGTwVrqPpy5Bc3r3ztn826aXdtqu+YvI8LkuK9Jx0qQemoekVJHJvvIcc16tsrLJHE7c5bWM0pexugmmzX4eAJ+6yYH4BmyMSXOlEKxEkQ3+CbJvFVNdypXIriDiiiC9MGiF7gbDEMCx5stk+TvBkkYdBKJjSD1jIe/cfNX3Ocom3SSm1yr/F0R5P1I6gbfIJNgnAgnx5V4Ix6C9OXKfcQ1HSjhT6xhSrMe8/ZDWkWQ91HrmsXb2RncBcYnXLBcZlUwMY5cwLEQRO9LF3OBy6Dfru8vU31N1g8JnHQUQTZGx8NLnHMtk7wm8PAcvsgJUn8wF6uH81sKwvfTnGDBM7KSCoogmwOVNdgkIO8CYZlsTIz6gT16ghT4Yon6HPdaJokiL23XFEE2D3ktkXYvHgBhb8cHaMIl5W4SJS4ia5ESpF7Z6Y9u3jPh0DTmrXLzO4y/K4IMjmLt2i7jd24Y2zb2j7LSVaQEkXorwbjQKtH33YBo1b8rgjSOrG7wZQBOd4n9jZZJcjdQfUyiyAhSL5gpjhE4tac7MjgwTelAfWAYSEURpDF8nTM5q2UgMu/v7ARylEdyIiOIbrBYHo902UPG9j470CyOUFkRxBnc3Cz+Mmu4yiUEt1smDZ5bLGDsIiGI5OoR2aACYhKruiKIO9w5g29l4HNJrCKREERm9YhyWXSHPD0SiiDusZD8NhLJD27oBFGrh3vAB0oogsjhpef5WlCt0GjDFsWPbugEUauHXMD7pRRB5PDSDRb13e+P+1kkVIKo1UMu2GoF8Y6T0NDzLKoQfzXOVSRUgqjVw3vg1Qoij1nW4H0IENn+nVqozyKhEaRemutZF+cXWSYdIQ9J60sqgniLsUyyB43x8Z4SPefN8uDSoRFEJjNinOf4wwAnDhuKIN5Q1gs8BQyRpbFhCzMzY2gE0fN8LwgHO/j9tJXBbiiS7Q2S1pZWBPEeX93ghx0TPTAWWyU6xLvlzTVCIUjnTN5Ny+ApR1YT8uVumhuG061kQxHEezRlsuLYVeweRsKPUAiSzfN5RJjnMNS3OYNPVor0d+9wtLaGIoj3+NZziYkaMts00mbGzEqJzvdufWONUAiiF3gJGJMaOUOMn5dL9I2gzraiviKIv6jqBl8B4NsODyIPWd0kk7XT0YHABNENngDgcade2vm+h1v4FUHcEBr873qBPw2GqDvi1Pa2TFrqr4c+reAEcSt6w1hulWj3IE62sq4iiP/ouiTdA0KoEhycIAaLrHiHOQxT1fNwAEcRJABB3C9U3W2ZNNl/DwFXkDGX8tB/rYGoR76Vw17wWKubRL4j1QZBQBHE/7TQC3wMGE6Vjdd9eCQ6nz+T3vPbS6AVJFvgQ4jhlKb/3Y6tsc2q6fSOXwdbXU8RxH+ER1/EH+x9Da8CGNbIStDn30AEcSu6ycA9FZOctl/+0WkRTUWQYIHMGnw3AZ9taCXgc0gwgrg8fxBhermbFgSDoLW1FUGCxTdX4GnMcCr4Geg5JChB3nB6/shksPMrRVoRDILW1lYECRbfUUUeV63C6WDiOsuk4X578U2Q3Gzei204vWPusUwa5dexdtFTBAkead3gVwB0NbJEGiaU59ATfnryTxCDz2Kg4faJgNvKJn3ej1PtpKMIEjzabkkdglSn8k+QPP+MCV9vyFpGvlxShxPdwq8I4oaQ+99zeZ7FhJLDXPR91Mk3QfQCPwDGgQ5OHVYu0T3uw2tvCUWQ4PHP5fmzTLi7oSXCg1Y3iTvtnpt/ghhcFteEG/XYkcG27ZwxUTYSiiCySDWWG13kbXqrcCr0alkmudZAHKwHXwQZMYO37BiKdQ5De8EyaUzwobe+BUWQcGKsG/w8gJ0aWet9D1utnU9veu3NF0FyBu/JgNNbgWstk07w6kw7yiuChBN13WBRBPT4hlt+YK+yScu89uaLIG5VSRmYVTHJ6QKVVz9bVl4RJJzQZg2eSUDDG6sMnFAx6VqvvfkiiG5wAcCcRp0x8PWKSb/w6kw7yiuChBP1rMGnEvBzB2u+Kif7IkjW4F8TcHJDZxhTrRI5Zp4IB5bmt6IIEk4M9TwfDsIihx/t31RM+rLX3nwRxO2KLYDxlklPe3WmHeUVQcKJum7wrgDEPfXBG8HXFVy/BHkKjN3CfmMQDlTNZUURJJx4ub5ZJSy3ur3fbPVHEINfBLBDo6FZJvmyGw5UzWVFESS8eLlg+ZJl0o5ee/M1kbMGv0bARxp0ttoyKevVkXaVVwQJL/K6wRUAnYNZZOD1iklbe+3NF0F0g6sAtEEdYfxZHA7z6oiQr3bg2TVFsvzoNquOIsjGkdOL/An0Dj7J3WIsDs8SYY8GcrZlUsbNxqZ/90wQ172eVw82l/+dBszvMcm1fHTwrpK3oAjSFwO9wPPBOByAeNiOpPn5mu6ZIKNn8aheDasiGcEAo2TjgPJceijqfpK2rwgCZAt8BjEujToWHTZGr5pL4u6IdPNMkNoSWEXkr3CJ8HC5m/aXHkmTCroRBISWzgojcdAwvMhmsKtVpL95MeiZINnZvC/ZeMRLJz5l/2WZtKVP3aZRcyWIGEkLk0SyKE4o8WQNEytzyK0Az0Z9pZkgL1omfTQUZFJsRDdYHNNumIR5g+stSpLReR7bS4glb0EsBIlri8XALRWTjk7x3A7FtVyer2GC3MnnFiRJPfngPwCMDAVQJyNxbLFiekh/sprB4e3wyjdr8IkEXC09OVqQJBKpe6ThcRKM5SFd4jWvW6lepzG8CsZftA7M7ynS26Gg0gRGsnk+igi3SbvagiSpP4uIA7Diol3DTIkSGB3USCaW17yic8cPhcDKiknjJAaiRAYgIFkH/H2NFiRJ0AmRNXgFAWMb2InnQ6Ho3OWoyVuWSR8OOth21M8ZfAADD0qPXZFkI6h0g/8F4EOD4Rf3URN1WFF6FnsT7DJ4fxuQ/0CqSLIB4NQcVtQL7HzcvYqutfNIZD1RzQcCnbN4P02D/FEbRRLU6xb2NIQ71uPubjUJA6R69DGfWlIlO4v3Jc3DB9k2J4lrKtw4L0y5Xbm1GV9YXaJbW3Lmxjgovch7o4rHpLtsY5J05vnzGuGWRlgxEOOVW5ekDWCcbpXoP6UDqwQbIuD6y7ipZpuSRM/zd0G43GEqxZq04XgCRB6iRu0iy6Sz1bwPBwGJPGQbdUSML5ZLdHM4vTeHFb3APwaj4ZyLNe2Pa8AC5EJtjnDE72WXwZ+ygT/J9syMz1VK9DtZ+WaX0w2+D0DDj4QUZ+I4ia/p71gmbdHsoKfN/06Dd9eAP0v7RTjC6qaGqXCk7TSBoG6wSIXb8PS3n6/oYtieT/P2Y6W7JK/mDD5ZKVLjNCxNAHoaXeycybtpGTwl6xsxppRLJEp1t2yTqDIVb/JqgbRb+QMwTrVK9MuWjUqCA8sWeTxV8RdZF5jxmUqJnKoRy5pKpVy2wCcQ45qGzgXY8vteQXIuBXQA/Jdl0ndTiWgLOOX52gHhYKubxD695ZrbAzox4i+gkzX4LHIowQZgqWXS3i0XjRQNKJfnXZggfYWUgAPLJi1J0RBCccXtAZ2BaRWTLvbTme8VZORM3iOTwZNOnaoEcn5C4k2nK88724RnZbVsG/uvnksPy8o3g5zbA3q1ik+tmUfyLzcGDNo3QYQNl1O9aPW9b1omz8g8j814ubaawT5WkR5Pi/9B/NANngCg4Vj8nuLt9ykoQW4hoHElW8IFVjf9IAgASlcOgc4876QRRJUlqeb3u4CU8RiF3Ap4MnBrxaQv+HUpEEFyBk9n4EKHzpdZJu3l1zml5w2BbJE/RlW8IKtlA3usNkn6lbGs3Tjl3N6mEnB22aSL/PoUjCCzeRLbcH7oy+CjVpHE/RHVYkBAL/KOqOJ/Zbtq5u9VrkfcxYc+DQeU5/hPQBiIIGPO4KFvfgSWQyJrEadTLJOulA2YkguOQG42b882XpK1pGWwS0+RpB/0Ze1GLddl8Im2Q8IL8fyx5evQn7+M3vPrSyCCiE51g8VRBpFTtVG70jLpFL8OKj1/CHTN4u1sDS/LalcZ49aUaKWsfBrkcgX+GTO+7uDLHZZJU4P4GpwgeZ4NQtHBibZIABckCFHpek3RxOuxU+WH9Peo/Anbrm6w8LVxckHGHKtETnPT1aXgBHF5zVb34DjLpOtdvVECoSMgs08f2Clp2KE8h6RXntAdljSoG3wsgOtcxPe2TFoqaXJQscAEqW2zXK7gArjZMumLQRxVuv4R6JzJWS0D6borfhKs+ffOn6Zu8E0AGmfe9HnFdlNvQiFINs/nEcGxLnorvFL0F8p0aGWL3ElViApMUs2uQl89j6TlpYyGJCRz7J8ZMyslOj9ol6EQROYINgHzyibNCuqw0vePQFeRR9hVrJG1oGUwsqdIa2Xl45LLGTyXgZlO/dlV7L56Hi0P6lMoBKlts/J8LwgHOzj0wrAMxr9YpHeDOq30/SPgtR7HsAy2frFIr/vvMVzNHYs87N1qrdzzTg0tMxZbJTokjJ5DI4jEV3Xh71ctk64Kw3Flwz8C2/+At/6/IXhV1oLf23iy9r3I6QZ/BcCvnHSCfj0faDs0gkieKl1kmXSEF0CUbDQIbH0uDx/6AUivDB1bY4tV0+mdaLyRt6ob/HsAjt82NMbHe0r0nLzVxpKhEaS2zTJYJAk40pHdhKPL3dQwf1EYg1I25BCQyC2wkaFtMxj6dJH+T856+FLZPB9BhNtdLN9umXRUWL2HShCZARDwh7JJnw1rAMpOMARGFvnDmSrelLViPYsO3ECiDHjsTeYHmBlHVkokVplQWqgEkV1FmHBipZuc8mqFMjhlRA6BriJvYVfxlpw0kMRFOJkfXwChrh4Cj9AJIjmQJZZJB8oGRMlFj0D97ZDsM8YNlkniS3ZsLYnVIxKCyK4iIJxqdausJ7HNMImOdi3yB/5ZhdTJ12oGY9cUSfqClkT3DUUkf3RDXz0iI4jkgFRShyCzJird03iInoXrg3icNxKTWj0iI4j0KgKca5k0P6pYK7s+ETiGM/rH0euk/YH12OblH9JrPnuQVssV+CRm/MZFIZLVI1KCSK4iazXGpLDeWUujrgTdEWAmvQB7UMEQjpG7OwDUv/qLknS7OsmH/eZqYF+hP6QPNK4bfAOAL7mA8QvLJKdLLzJYKpmIENANFtcUjtlgPsbyCnqefwxqnLG97tONlknv+xcyDpESRLaUWLtlIg85hpGbG1nkMVoV2w7JYOWqIkkfUQniWLbAhxDDNV1q1Hm+IiWIAChX4IuZ8T3HJRL4Y8WkSUEAVbqthYBusCCH44FDIlxS7qazohx59ASZxTtwX629nMtA1AN7lJFuItt6gc8G48cuLpfJxsTyXJJOTuEHgsgJIpzSDZ4B4AIXB98mYHIr5o71E5h21cnN4gNZw50A3OrLxPKDGgtB0PduXawiezoGnvFEporJr5xP/2zXCdLO467derRxJxj/5oLDMquCiVhI66PGKx6C9D2LyLzPFuO9yjLpq1EPXNlPHwI5g69m4EQ3z4hwcrmbrnaTC+PvsRGkvtVyvmjfPyLGD6wSuW3Jwhi/spESBHS3ysnv+xlrApBYCZLre2AX+8td3OLChKMq3eR29t/NjPp7EyAgmcJHjOQZsjEl6gfzgZDFShDRca7AhzHDvWYe4XmycVS5RM80QYyViz4RqCf8ED+aXW4miDC53E13u8mF+ffYCVIjicFnsXN1qv4xPskZTK4UaXWYg1a20oGASI/KGm5nYHc3jwiYVvZZJcrNttPfEyGIcChr8E8IOE3C+Ucsk/aTkFMiTYaAXuBHwNjXzW0GFlZM+pabXBR/T4wg9VtsYqt1gMTA7rNMckopJGFCiaQJAbe6ggN8XaJlMLmnSG8n4X9iBKlvtfZk1J5HRkgM/k7LJKcs8hImlEgaENANFs8ckyV8WVv/eLxMQjYSkUQJUt9qnUgONR42GjXhMqubzowECWU0FgR0gy8DcLpMZwycVDGpcf1zGSMBZRIniPBfz/M5IEhdnCLC+eVuckw7GRATpR4RArkCz2PGeVLmGTOsEv1ISjZCoVQQpL7duoQBudVBrSQRToloTOsFvhSMM2SsE3Bp2STHE+AydsKQSQ1BaiuJwTcCkC2ToCpXhTEDYrChG/xLAF+T7OomyyS3S3aSpoKLpYogdZI8CmAfyaHdlOnFt9ThRkm0YhYbdR5vW+3ATzz86D1mmeT62jfOYaSOIHWS/APAaEkgHrE1fHv1nOCp7iX7i0RMJJRePwQfyzDWDevEy8+f6b/wZCQOejRa/0L+3wAmSqquskzaTlI2NrFUEqROEvaAQpmB6RWTrvWgkxrRze59A2vqLyMWpMZJD47Uz1YJ312Pj/SbTSJbo8yQUkuQOklEHQjHjBYbDZJgWt1UkBl4WmSyBn+DgJ8O5g8D+1ZMeiwtvsr44eFUbr+5py2TxsvYTkIm1QSpk2TjrBruKN2o2ZjeM5fENi31TTdYlF4e08DRyy2TpN78JD1QcdlJq2KBzH2OAb7GnsLUK06pJ0iNJHkugjBbenCEvxEwPe6Tn9L+1QVHzuQ9Mhk86aB3l2XSFK9245avXZPNYIHETcD3XYspt1ZQLJqCIGKQkhWsNsKDgdIHM5ib1rJvep4PAuE+hyDeb5n06aBBjlK/nmChW+IO+QY3wqwAFeXYhO2mIYhwNpvnbxJhoSdQGI+zhlIaL181M0HqeavEV3FPtQCZcVqlRIM+c3mKa0zCTUWQGkkKfBwxLpc84DgQxsvtKkppKm3cjASppQPtxUyJjIebTuG1TDi90k3XxTS3Q+mm6QhS326JU8DiNaLMUfmBQD1HNuaW59KvQ0EvoJFmI0g98YZYNeTfLPZhtKR+4SmxU7l+Q9WUBBGDFfdJqlUskLx0tRE+BNwGwhVJP8Q3C0HqicjF5TbH+pODTUJx2SmTwbSk7nP4JUa/XtMSpH8AHq7vbo4V4zpBFMukB4IC6Uc/7QQJQoz6A24i12T9xKKRTtMTpLbl6ksEIbZcrtlSBgWC8SsmXBH3R7m0EiQoMWrZRwjTkl6hwyBKSxCkRpK+lEIXATg6ADBXEeO2cgduRZEGr40RwPimqmkiSL1Goag7KP451iF3geBmsjE9ztQ8IYZkM1MtQ5ANW66+DI7TXNOcOqO6AsCtto3bVs+lh6MKQBoI0mnw7hngWAaOA7BTgLEuI8KCuDIeBvDTk2rLEaQ2+r5cwIIkIjW+W1Z5Z8AID4pVJcO4fVWJxLGQ0FqSBKkfKBSkCLLiCizKAC62KlgQR67c0MCXNNSaBKkPXmy7kME0t/okkliJr6p/YOAeBu6umPQXWb1GcnESZNRsHt1rYzIRDgRDlODeIaj/oj4HqljQKtupwfBoaYL0D7he6UqsKGHeVBPv9mtksUxa6meyRU2QToMnEmEq2fgMCHv78bGBzo22jQVRbj9D9DWQqbYgSD9CIbydaQT2CwwsJ8Zy1rCMe/G4zBf7MAkyqsjjem3sSaLEBNfKTIh/WwaaHZsr386MhZUS/T5ku6k111YEiYEoAwP9AghPMGM5AIsYFggv9b6Hl9fOpzeFoFeCiG0S29jBBkYxoBNh+wjJMHAsbUeM/sG3JUFiJkqjX8fVzOghwh4OP5/3A9hecMnLadkQf47blhiKIANmUYRbrxDnaqym2p4YiiCDzLeuPO/MhKnMmApCe+UCZiwmwiJiLOop0XOx0jHFnbX1FsspLiIrB2mYShoOB6M1S1QTHmIbd7CNRavnNXdWmKg4pggigaxu8AT0rSoiZ5NIY7OVhFoaRdYBECUHHgVhkd/X02kcWFQ+KYJ4RHbMpTz0zbWYRDYOaALCbCAEa1iy5Qg81Oz5tjyGK7C4IkhgCIHcbN4LNiaBMZ41jAVjXP3NUwjWpU2I18gryMZKEP4KDQ+V59AT0tpKcFAEFEEimhgjZvCWQ4ZinA2MJWAci/8SdqxtzxjDGRhOfVs1zcUFm4F1BLwBwhsA1jHjRQJWMrBCA1aufw8r+r+tRDSctjWrCJJw6AWRhg3BVr1DMJy579mGCOs61uONd9djnZr4yQZIESRZ/FXvKUdAESTlAVLuJYuAIkiy+KveU46AIkjKA6TcSxYBRZBk8Ve9pxwBRZCUB0i5lywCiiDJ4q96TzkCiiApD5ByL1kEFEGSxV/1nnIEFEFSHiDlXrIIKIIki7/qPeUIKIKkPEDKvWQR+H+c2/BtsBeCAAAAAUlEQVRugjIxtwAAAABJRU5ErkJggg=="},i={type:"h-bpmn:endEvent",label:"",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"},a={icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAUpJREFUWEftVzuywjAMlKgDPV2g4RYPuAnfDs7w4AzQ8b0Jn1vQQDp6SI0YFwFPSMC2EiYZnDLZldYrybERGI/XLs4Aofc2BMHcXV37pmnQlOh1SwMgmijxEYfu4jJVwoZARgKPXeevQLjTSXhDqlcX/l6HI7APgaeOM0LCulIAhDIA1JSwT9ABCM4qHELaVZb+6FUg4L9KgLQxBDTOqUDVEqdsYWSJU85pHN5oio2zGRDzK/DUchpYwI3BorUpdKNmZe1vo4ixDlqBkl2JOCiCaNfuDUFun0QEustrogPldYoU6P9dgWKQ5CoGkxj3XsZ+xcG4JOEdIKo9rEBRLuugfKIOb1mcPuJwwzqUf3U6jW4FCps5LnC4tsRc962D1sGgBziTyOHaHsxUD2b+wMq5RH3lwJopgZm/dnLc+sRN5Nr5KQnne64F3gEyDFZHJCakvQAAAABJRU5ErkJggg==",callback:function(t){e.deleteElement(t.id),e.extension.contextPad.hideContextMenu()}};e.extension.contextPad.setContextMenuItems([a]),e.extension.contextPad.setContextMenuByType("h-bpmn:startEvent",[t,n,r,o]),e.extension.contextPad.setContextMenuByType("h-bpmn:timerIntermediateEvent",[t,n,r,o]),e.extension.contextPad.setContextMenuByType("h-bpmn:userTask",[t,n,r,i,o]),e.extension.contextPad.setContextMenuByType("h-bpmn:serviceTask",[t,o,n,r,i]),e.extension.contextPad.setContextMenuByType("h-bpmn:exclusiveGateway",[t,n,o])},Xr=Ur;function Yr(){var e=(0,r.ref)(void 0),t=(0,r.ref)(null),n=(0,Rr.yj)(),o=n.query.id;return(0,r.onMounted)((function(){e.value=new(f())({container:document.querySelector("#logic-flow"),grid:!0,background:{backgroundColor:"rgb(248, 248, 248)"},keyboard:{enabled:!0},overlapMode:1,isSilentMode:"logicFlowDetail"===n.name,plugins:[it,Gr,oe,et,Xe,at,Ir],style:{rect:{radius:5,stroke:"#187DFF"},circle:{r:18,stroke:"#187DFF"},polygon:{stroke:"#187DFF"},polyline:{stroke:"#187DFF",hoverStroke:"#187DFF",selectedStroke:"#187DFF"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}}}),Xr(e.value),e.value.extension.selectionSelect.setSelectionSense(!1,!1),e.value.on("node:click",(function(e){console.log(e),t.value=e})),e.value.on("blank:click",(function(e){console.log(e),t.value=null}));var r=JSON.parse(localStorage.getItem("logicData")||JSON.stringify(Br));r[o]?(e.value.render(r[o]),localStorage.setItem("logicData",JSON.stringify(r))):e.value.render()})),{lf:e,activeCell:t}}var Wr=function(e){return(0,r.pushScopeId)("data-v-12adbf9c"),e=e(),(0,r.popScopeId)(),e},Kr={class:"flow-basic__attr"},Zr=Wr((function(){return(0,r.createElementVNode)("h4",null,"",-1)})),qr=Wr((function(){return(0,r.createElementVNode)("span",{class:"text-gray-500"},"-",-1)})),Jr=(0,r.defineComponent)({__name:"logicFlowBasicAttr",setup:function(e){var t=(0,r.ref)("default"),n=(0,r.ref)(),o=(0,r.reactive)({name:"",tag:"",atag:"",group:"",date2:"",date1:"",type:[],resource:"",desc:""}),i=(0,r.reactive)({name:[{required:!0,message:"Please input Activity name",trigger:"blur"},{min:3,max:5,message:"Length should be 3 to 5",trigger:"blur"}],region:[{required:!0,message:"Please select Activity zone",trigger:"change"}],count:[{required:!0,message:"Please select Activity count",trigger:"change"}],date1:[{type:"date",required:!0,message:"Please pick a date",trigger:"change"}],date2:[{type:"date",required:!0,message:"Please pick a time",trigger:"change"}],type:[{type:"array",required:!0,message:"Please select at least one activity type",trigger:"change"}],resource:[{required:!0,message:"Please select activity resource",trigger:"change"}],desc:[{required:!0,message:"Please input activity form",trigger:"blur"}]});return function(e,a){var u=(0,r.resolveComponent)("el-input"),c=(0,r.resolveComponent)("el-form-item"),l=(0,r.resolveComponent)("el-option"),s=(0,r.resolveComponent)("el-select"),f=(0,r.resolveComponent)("el-date-picker"),p=(0,r.resolveComponent)("el-col"),d=(0,r.resolveComponent)("el-time-picker"),h=(0,r.resolveComponent)("el-form");return(0,r.openBlock)(),(0,r.createElementBlock)("div",Kr,[Zr,(0,r.createVNode)(h,{ref_key:"ruleFormRef",ref:n,model:o,rules:i,"label-width":"120px",class:"demo-ruleForm",size:t.value,"label-position":"top","status-icon":""},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(c,{label:"",prop:"name"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(u,{modelValue:o.name,"onUpdate:modelValue":a[0]||(a[0]=function(e){return o.name=e})},null,8,["modelValue"])]})),_:1}),(0,r.createVNode)(c,{label:"",prop:"tag"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(s,{modelValue:o.tag,"onUpdate:modelValue":a[1]||(a[1]=function(e){return o.tag=e}),placeholder:""},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(l,{label:"",value:"weiyu"}),(0,r.createVNode)(l,{label:"",value:"chufang"}),(0,r.createVNode)(l,{label:"",value:"anfang"}),(0,r.createVNode)(l,{label:"",value:"dengguang"}),(0,r.createTextVNode)("a "),(0,r.createVNode)(l,{label:"",value:"kongqi"}),(0,r.createVNode)(l,{label:"",value:"tongyong"})]})),_:1},8,["modelValue"])]})),_:1}),(0,r.createVNode)(c,{label:"",prop:"atag"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(s,{modelValue:o.atag,"onUpdate:modelValue":a[2]||(a[2]=function(e){return o.atag=e}),placeholder:""},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(l,{label:"",value:"weiyu"}),(0,r.createVNode)(l,{label:"",value:"chufang"}),(0,r.createVNode)(l,{label:"",value:"anfang"}),(0,r.createVNode)(l,{label:"",value:"dengguang"}),(0,r.createVNode)(l,{label:"",value:"kongqi"}),(0,r.createVNode)(l,{label:"",value:"tongyong"})]})),_:1},8,["modelValue"])]})),_:1}),(0,r.createVNode)(c,{label:"",prop:"name"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(u,{modelValue:o.name,"onUpdate:modelValue":a[3]||(a[3]=function(e){return o.name=e}),type:"textarea"},null,8,["modelValue"])]})),_:1}),(0,r.createVNode)(c,{label:"",prop:"group"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(s,{modelValue:o.group,"onUpdate:modelValue":a[4]||(a[4]=function(e){return o.group=e}),placeholder:""},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(l,{label:"1",value:"weiyu"}),(0,r.createVNode)(l,{label:"2",value:"chufang"})]})),_:1},8,["modelValue"])]})),_:1}),(0,r.createVNode)(c,{label:"",prop:"group"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(p,{span:11},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(f,{modelValue:o.date1,"onUpdate:modelValue":a[5]||(a[5]=function(e){return o.date1=e}),type:"date",placeholder:"Pick a date",style:{width:"100%"}},null,8,["modelValue"])]})),_:1}),(0,r.createVNode)(p,{span:2,class:"text-center"},{default:(0,r.withCtx)((function(){return[qr]})),_:1}),(0,r.createVNode)(p,{span:11},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(d,{modelValue:o.date2,"onUpdate:modelValue":a[6]||(a[6]=function(e){return o.date2=e}),placeholder:"Pick a time",style:{width:"100%"}},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["model","rules","size"])])}}});const Qr=(0,u.Z)(Jr,[["__scopeId","data-v-12adbf9c"]]);var $r=Qr,eo=function(e){return(0,r.pushScopeId)("data-v-887bc7ae"),e=e(),(0,r.popScopeId)(),e},to={class:"flow-basic__attr"},no=eo((function(){return(0,r.createElementVNode)("h4",null,"",-1)})),ro=(0,r.defineComponent)({__name:"logicFlowBasicEquipmentAttr",setup:function(e){var t=(0,r.ref)("default"),n=(0,r.ref)(),o=(0,r.reactive)({name:"",tag:"",atag:"",group:"",date2:"",date1:"",type:[],resource:"",desc:""}),i=(0,r.reactive)({name:[{required:!0,message:"Please input Activity name",trigger:"blur"},{min:3,max:5,message:"Length should be 3 to 5",trigger:"blur"}],region:[{required:!0,message:"Please select Activity zone",trigger:"change"}],count:[{required:!0,message:"Please select Activity count",trigger:"change"}],date1:[{type:"date",required:!0,message:"Please pick a date",trigger:"change"}],date2:[{type:"date",required:!0,message:"Please pick a time",trigger:"change"}],type:[{type:"array",required:!0,message:"Please select at least one activity type",trigger:"change"}],resource:[{required:!0,message:"Please select activity resource",trigger:"change"}],desc:[{required:!0,message:"Please input activity form",trigger:"blur"}]});return function(e,a){var u=(0,r.resolveComponent)("el-radio"),c=(0,r.resolveComponent)("el-radio-group"),l=(0,r.resolveComponent)("el-form-item"),s=(0,r.resolveComponent)("el-option"),f=(0,r.resolveComponent)("el-select"),p=(0,r.resolveComponent)("el-input"),d=(0,r.resolveComponent)("el-form");return(0,r.openBlock)(),(0,r.createElementBlock)("div",to,[no,(0,r.createVNode)(d,{ref_key:"ruleFormRef",ref:n,model:o,rules:i,"label-width":"120px",class:"demo-ruleForm",size:t.value,"label-position":"top","status-icon":""},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(l,{label:""},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(c,{modelValue:o.type,"onUpdate:modelValue":a[0]||(a[0]=function(e){return o.type=e})},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(u,{label:3},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("")]})),_:1}),(0,r.createVNode)(u,{label:6},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),(0,r.createVNode)(l,{label:"",prop:"tag"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(f,{modelValue:o.tag,"onUpdate:modelValue":a[1]||(a[1]=function(e){return o.tag=e}),placeholder:""},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(s,{label:"",value:"weiyu"}),(0,r.createVNode)(s,{label:"",value:"chufang"}),(0,r.createVNode)(s,{label:"",value:"anfang"}),(0,r.createVNode)(s,{label:"",value:"dengguang"})]})),_:1},8,["modelValue"])]})),_:1}),(0,r.createVNode)(l,{label:"",prop:"atag"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(f,{modelValue:o.atag,"onUpdate:modelValue":a[2]||(a[2]=function(e){return o.atag=e}),placeholder:""},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(s,{label:"",value:"weiyu"}),(0,r.createVNode)(s,{label:"",value:"chufang"})]})),_:1},8,["modelValue"])]})),_:1}),(0,r.createVNode)(l,{label:"",prop:"name"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(p,{modelValue:o.name,"onUpdate:modelValue":a[3]||(a[3]=function(e){return o.name=e})},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules","size"])])}}});const oo=(0,u.Z)(ro,[["__scopeId","data-v-887bc7ae"]]);var io=oo,ao=function(e){return(0,r.pushScopeId)("data-v-40abc83b"),e=e(),(0,r.popScopeId)(),e},uo={class:"flow-basic__attr"},co=ao((function(){return(0,r.createElementVNode)("h4",null,"",-1)})),lo=(0,r.defineComponent)({__name:"logicFlowBasicServiceAttr",setup:function(e){var t=(0,r.ref)("default"),n=(0,r.ref)(),o=(0,r.reactive)({name:"",tag:"",atag:"",group:"",date2:"",date1:"",type:3,resource:"",desc:""}),i=(0,r.reactive)({name:[{required:!0,message:"Please input Activity name",trigger:"blur"},{min:3,max:5,message:"Length should be 3 to 5",trigger:"blur"}],region:[{required:!0,message:"Please select Activity zone",trigger:"change"}],count:[{required:!0,message:"Please select Activity count",trigger:"change"}],date1:[{type:"date",required:!0,message:"Please pick a date",trigger:"change"}],date2:[{type:"date",required:!0,message:"Please pick a time",trigger:"change"}],type:[{type:"array",required:!0,message:"Please select at least one activity type",trigger:"change"}],resource:[{required:!0,message:"Please select activity resource",trigger:"change"}],desc:[{required:!0,message:"Please input activity form",trigger:"blur"}]});return function(e,a){var u=(0,r.resolveComponent)("el-radio"),c=(0,r.resolveComponent)("el-radio-group"),l=(0,r.resolveComponent)("el-form-item"),s=(0,r.resolveComponent)("el-option"),f=(0,r.resolveComponent)("el-select"),p=(0,r.resolveComponent)("el-input"),d=(0,r.resolveComponent)("el-form");return(0,r.openBlock)(),(0,r.createElementBlock)("div",uo,[co,(0,r.createVNode)(d,{ref_key:"ruleFormRef",ref:n,model:o,rules:i,"label-width":"120px",class:"demo-ruleForm",size:t.value,"label-position":"top","status-icon":""},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(l,{label:""},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(c,{modelValue:o.type,"onUpdate:modelValue":a[0]||(a[0]=function(e){return o.type=e})},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(u,{label:3},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("")]})),_:1}),(0,r.createVNode)(u,{label:6},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),3===o.type?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,label:"",prop:"tag"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(f,{modelValue:o.tag,"onUpdate:modelValue":a[1]||(a[1]=function(e){return o.tag=e}),placeholder:""},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(s,{label:"",value:"weiyu"}),(0,r.createVNode)(s,{label:"",value:"chufang"})]})),_:1},8,["modelValue"])]})),_:1})):(0,r.createCommentVNode)("",!0),3===o.type?((0,r.openBlock)(),(0,r.createBlock)(l,{key:1,label:"",prop:"name"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(p,{modelValue:o.name,"onUpdate:modelValue":a[2]||(a[2]=function(e){return o.name=e})},null,8,["modelValue"])]})),_:1})):(0,r.createCommentVNode)("",!0),6===o.type?((0,r.openBlock)(),(0,r.createBlock)(l,{key:2,label:"Api",prop:"name"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(p,{modelValue:o.name,"onUpdate:modelValue":a[3]||(a[3]=function(e){return o.name=e})},null,8,["modelValue"])]})),_:1})):(0,r.createCommentVNode)("",!0),6===o.type?((0,r.openBlock)(),(0,r.createBlock)(l,{key:3,label:"",prop:"name"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(p,{modelValue:o.name,"onUpdate:modelValue":a[4]||(a[4]=function(e){return o.name=e})},null,8,["modelValue"])]})),_:1})):(0,r.createCommentVNode)("",!0),6===o.type?((0,r.openBlock)(),(0,r.createBlock)(l,{key:4,label:"",prop:"name"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(p,{modelValue:o.name,"onUpdate:modelValue":a[5]||(a[5]=function(e){return o.name=e})},null,8,["modelValue"])]})),_:1})):(0,r.createCommentVNode)("",!0)]})),_:1},8,["model","rules","size"])])}}});const so=(0,u.Z)(lo,[["__scopeId","data-v-40abc83b"]]);var fo=so,po={key:0,class:"flow-attr__block"},ho=(0,r.defineComponent)({__name:"logicFlowAttr",props:{activeCell:null},setup:function(e){var t=e,n={basic:$r,"h-bpmn:equipmentTask":io,"h-bpmn:serviceTask":fo},o=(0,r.computed)((function(){var e=null===t.activeCell?"basic":t.activeCell.data.type;return n[e]||null}));return function(e,t){return(0,r.unref)(o)?((0,r.openBlock)(),(0,r.createElementBlock)("div",po,[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)((0,r.unref)(o))))])):(0,r.createCommentVNode)("",!0)}}});const yo=(0,u.Z)(ho,[["__scopeId","data-v-70f86f4e"]]);var vo=yo,go=n(1348),bo={class:"logic-flow__tools"},mo=(0,r.defineComponent)({__name:"index",props:{lf:null},setup:function(e){var t=e,n=(0,Rr.yj)(),o=(0,r.toRefs)(t).lf,i=n.query.id,a=function(){var e=o.value.getGraphData(),t=JSON.parse(localStorage.getItem("logicData")||"{}");t[i]=e,localStorage.setItem("logicData",JSON.stringify(t)),(0,go.z8)({message:"",type:"success"})},u=function(e){switch(e.key){case"ZoomIn":o.value.zoom(!0);break;case"ZoomOut":o.value.zoom(!1);break;case"Undo":o.value.undo();break;case"Redo":o.value.redo();break;case"Reset":o.value.clearData();break;case"Save":a();break;default:break}},c=[{id:"1",children:[{key:"ZoomIn",name:""},{key:"ZoomOut",name:""}]},{id:"2",children:[{key:"Undo",icon:"RefreshLeft",name:""},{key:"Redo",icon:"RefreshRight",name:""},{key:"Reset",icon:"Refresh",name:""},{key:"Save",icon:"Download",name:""}]}];return function(e,t){var n=(0,r.resolveComponent)("el-icon"),o=(0,r.resolveComponent)("el-button"),i=(0,r.resolveComponent)("el-button-group");return(0,r.openBlock)(),(0,r.createElementBlock)("div",bo,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(c,(function(e){return(0,r.createVNode)(i,{key:e.id},{default:(0,r.withCtx)((function(){return[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.children,(function(e){return(0,r.openBlock)(),(0,r.createBlock)(o,{key:e.key,title:e.name,onClick:function(t){return u(e)}},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(n,null,{default:(0,r.withCtx)((function(){return[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.icon||e.key)))]})),_:2},1024)]})),_:2},1032,["title","onClick"])})),128))]})),_:2},1024)})),64))])}}});const wo=(0,u.Z)(mo,[["__scopeId","data-v-5e418635"]]);var Oo=wo,_o={class:"home"},xo={class:"logic-block"},Eo={id:"logic-flow",ref:"flow"},So=(0,r.defineComponent)({__name:"logicFlowBasic",setup:function(e){var t=(0,Rr.yj)(),n=Yr(),o=n.lf,i=n.activeCell;return function(e,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",_o,["logicFlowDetail"!==(0,r.unref)(t).name?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,lf:(0,r.unref)(o)},null,8,["lf"])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",xo,[(0,r.createVNode)(Oo,{lf:(0,r.unref)(o)},null,8,["lf"]),(0,r.createElementVNode)("div",Eo,null,512)]),(0,r.createVNode)(vo,{activeCell:(0,r.unref)(i)},null,8,["activeCell"])])}}});const jo=(0,u.Z)(So,[["__scopeId","data-v-9808a76c"]]);var Po=jo}}]);
//# sourceMappingURL=LogicFlow.9481e8b5.js.map