{"version":3,"file":"assets/js/app.1e51140d.js","mappings":"mGAGMA,EAAM,aAINC,EAAS,OACXC,EAAU,CACZC,IAAK,CAGHC,IAAK,GACLC,IAAK,iEAEPC,KAAM,CAGJF,IAAK,GACLC,IAAK,iEAEPE,KAAM,CAEJH,IAAK,GACLC,IAAK,iEAEPG,SAAU,kCAGA,gBAARR,IACFE,EAAU,CACRC,IAAK,CACHC,IAAK,UAELC,IAAK,iEAEPC,KAAM,CACJF,IAAK,WACLC,IAAK,iEAEPE,KAAM,CACJH,IAAK,WACLC,IAAK,iEAEPG,SAAU,mCAKHN,EAAQD,GAFnB,IAYaQ,EAAa,SACxBC,EACAC,EACAC,EACAC,GAEA,MAA6B,QAAzBH,EAAOI,cACF,EAAAC,SAAA,IACAb,EAAQD,GAAQG,IAAMO,EAAM,CAAEC,OAAQA,GAAUC,GACpDG,OAAM,SAACC,GACFA,EAAIC,MAGV,IAEK,EAAAH,SAAA,KACCb,EAAQD,GAAQG,IAAMO,EAAMC,EAAQC,GACzCG,OAAM,SAACC,GACFA,EAAIC,MAGV,GAEN,C,+HCjFO,IAAMC,EAAY,OACZC,EAAkB,aAClBC,EAAY,OACZC,EAAgB,U,0HCDhBC,EAAc,SAACC,GAE1BA,EAAMC,QAAQ,CAAC,SAAU,WAAW,WAClC,IAAMC,EAAQF,EAAMG,mBAIpB,OAHID,EAAME,QACRJ,EAAMK,KAAKH,IAEN,CACT,GACF,EAEaI,EAAe,SAACN,GAC3BA,EAAMC,QAAQ,CAAC,SAAU,WAAW,WAClC,IAAKD,EAAMO,mBAAoB,CAC7B,IAAML,EAAQF,EAAMQ,MAAM,CAAEC,OAAQ,KACpCT,EAAMU,iBACNV,EAAMW,OAAOT,E,CAEf,OAAO,CACT,GACF,EAEaU,EAAa,SAACZ,GACzBA,EAAMC,QAAQ,CAAC,SAAU,WAAW,WAClC,IAAMC,EAAQF,EAAMG,mBAIpB,OAHID,EAAME,QACRJ,EAAMa,IAAIX,IAEL,CACT,GACF,EAEaY,EAAc,SAACd,GAE1BA,EAAMC,QAAQ,CAAC,SAAU,WAAW,WAIlC,OAHID,EAAMe,WACRf,EAAMgB,QAED,CACT,GACF,EACaC,EAAc,SAACjB,GAE1BA,EAAMC,QAAQ,CAAC,eAAgB,iBAAiB,WAI9C,OAHID,EAAMkB,WACRlB,EAAMmB,QAED,CACT,GACF,EAEaC,EAAgB,SAACpB,GAE5BA,EAAMC,QAAQ,CAAC,YAAa,WAAW,WACrC,IAAMC,EAAQF,EAAMG,mBAChBD,EAAME,QACRJ,EAAMqB,YAAYnB,EAEtB,GACF,E,8BCvCaoB,EAAY,SAACC,GACxB,IAAMvB,EAAe,IAAI,KAAMuB,GAoC/B,OAlCAvB,EAAMwB,IACJ,IAAI,IAAS,CACXC,SAAS,KAIbzB,EAAMwB,IACJ,IAAI,IAAU,CACZC,SAAS,EACTC,UAAU,EACVC,YAAY,EACZC,SAAS,EACTC,sBAAsB,KAI1B7B,EAAMwB,IACJ,IAAI,IAAU,CACZC,SAAS,KAIbzB,EAAMwB,IACJ,IAAI,IAAS,CACXC,SAAS,KAIbzB,EAAMwB,IACJ,IAAI,IAAQ,CACVC,SAAS,KAGbzB,EAAMwB,IAAI,IAAI,KACPxB,CACT,EAMa8B,EAAe,SAAC9B,EAAc+B,GACzCA,EAAOC,SAAQ,SAACC,GACd,OAAQA,GACN,IAAK,OACHlC,EAAYC,GACZ,MACF,IAAK,QACHM,EAAaN,GACb,MACF,IAAK,MACHY,EAAWZ,GACX,MACF,IAAK,OACHc,EAAYd,GACZ,MACF,IAAK,OACHiB,EAAYjB,GACZ,MACF,IAAK,SACHoB,EAAcpB,GACd,MACF,QACE,MAEN,GACF,C,4FC9EakC,EAAY,SAAUlC,GACjC,IAAMmC,EAAW,IAAI,IAAI,CACvBC,OAAQpC,IAEV,OAAOmC,CACT,EAOaE,EAAa,SAAC,G,IACzBrC,EAAK,QACLmC,EAAG,MACHG,EAAK,QACLf,EAAO,UACPgB,EAAI,OAQEC,EAAOxC,EAAMqC,WAAWd,GAG9B,OAFAiB,EAAKC,QAAQF,GACbJ,EAAIO,MAAMF,EAAMF,GACTE,CACT,C,gNChBaG,EAAuC,CAClD,CACEC,UAAW,OACXC,UAAW,YACXC,SAAU,CACR,CACEC,YAAa,OACbC,KAAM,YACNC,KAAM,6GACNC,MAAO,CACLC,SAAU,MAEZC,KAAM,CACJC,UAAW,CAAC,KAAoB,OAElCC,KAAM,CACJH,SAAU,SAKlB,CACEP,UAAW,OACXC,UAAW,OACXC,SAAU,IAEZ,CACEF,UAAW,OACXC,UAAW,UACXC,SAAU,IAEZ,CACEF,UAAW,SACXC,UAAW,WACXC,SAAU,KAGDS,EAAmC,CAC9C,CACEX,UAAW,MACXC,UAAW,YACXC,SAAU,CACR,CACEU,GAAI,YACJR,KAAM,KACND,YAAa,OACbE,KAAM,6GAENC,MAAO,CACLC,SAAU,MAEZC,KAAM,CACJC,UAAW,CAAC,KAAoB,OAElCC,KAAM,CACJH,SAAU,SAKlB,CACEP,UAAW,OACXC,UAAW,WACXC,SAAU,CACR,CACEU,GAAI,QACJR,KAAM,KACND,YAAa,OACbE,KAAM,6GAENC,MAAO,CACLC,SAAU,MAEZC,KAAM,CACJC,UAAW,CAAC,QAGhB,CACEG,GAAI,QACJR,KAAM,MACND,YAAa,OACbE,KAAM,6GAENC,MAAO,CACLC,SAAU,MAEZC,KAAM,CACJC,UAAW,CAAC,QAGhB,CACEG,GAAI,WACJR,KAAM,SACND,YAAa,OACbE,KAAM,6GACNC,MAAO,CACLC,SAAU,MAEZC,KAAM,CACJC,UAAW,CAAC,WA2BTI,EAAwC,CACnD,CACEb,UAAW,MACXC,UAAW,iBACXC,SAAU,CACR,CACEU,GAAI,iBACJR,KAAM,KACND,YAAa,MACbE,KAAM,6GACNC,MAAO,CACLC,SAAU,MAKZG,KAAM,CACJH,SAAU,UAMPO,EAAoC,CAC/C,CACEd,UAAW,OACXC,UAAW,mBACXC,SAAU,CACR,CACEU,GAAI,mBACJR,KAAM,iBACND,YAAa,OACbE,KAAM,6GACNC,MAAO,CACLC,SAAU,MAEZC,KAAM,CACJC,UAAW,CAAC,OAEdC,KAAM,CACJH,SAAU,SAKlB,CACEP,UAAW,OACXC,UAAW,eACXC,SAAU,CACR,CACEU,GAAI,YACJR,KAAM,cACND,YAAa,OACbE,KAAM,6GACNC,MAAO,CACLC,SAAU,MAEZC,KAAM,CACJC,UAAW,CAAC,OAEdC,KAAM,CACJH,SAAU,SAKlB,CACEP,UAAW,OACXC,UAAW,aACXC,SAAU,KAwEDa,GA7DD,KAIM,KAWN,KAIM,KAWN,KAIM,KAWN,KAIM,KAYyB,CACzCf,UAAW,KACXC,UAAW,UACXC,SAAU,CACR,CACEU,GAAI,YACJR,KAAM,KACND,YAAa,OACbE,KAAM,6GACNC,MAAO,CACLC,SAAU,MAKZG,KAAM,CACJH,SAAU,OAGd,CACEK,GAAI,WACJR,KAAM,KACND,YAAa,OACbE,KAAM,6GACNC,MAAO,CACLC,SAAU,UAYLS,EAA2B,CACtChB,UAAW,KACXC,UAAW,UACXC,SAAU,CACR,CACEU,GAAI,OACJR,KAAM,KACND,YAAa,OACbE,KAAM,6GACNC,MAAO,CACLC,SAAU,OASd,CACEK,GAAI,UACJR,KAAM,KACND,YAAa,OACbE,KAAM,6GACNC,MAAO,CACLC,SAAU,OASd,CACEK,GAAI,UACJR,KAAM,KACND,YAAa,OACbE,KAAM,6GACNC,MAAO,CACLC,SAAU,OASd,CACEK,GAAI,UACJR,KAAM,KACND,YAAa,OACbE,KAAM,6GACNC,MAAO,CACLC,SAAU,Q,4HCjYhB,wBAEM,aADJ,iBAA2B,I,eCD/B,MAAMU,EAAS,CAAC,EAGVC,GAA2B,OAAgBD,EAAQ,CAAC,CAAC,SAASE,KAEpE,Q,6BCHMC,EAAe,SAAAC,GAAK,OAAC,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,CAArD,EACpBC,EAAa,CAAEC,MAAO,gBACtBC,EAA2BJ,GAAa,WAAmB,+BAAoB,KAAM,CAAEG,MAAO,QAAU,WAAY,EAAzD,IAC3DE,EAA2BL,GAAa,WAAmB,+BAAoB,OAAQ,KAAM,QAAS,EAA3C,IAC3DM,EAA2BN,GAAa,WAAmB,+BAAoB,OAAQ,KAAM,OAAQ,EAA1C,IAC3DO,EAA2BP,GAAa,WAAmB,+BAAoB,OAAQ,KAAM,OAAQ,EAA1C,IAMjE,GAA4B,qBAAiB,CAC3CQ,OAAQ,QACRC,MAAA,SAAMC,GAER,IAAMC,GAAS,UACTC,GAAQ,UAERC,EAAa,SAACC,EAAaC,GAC/BC,QAAQC,IAAIH,EAAKC,EACnB,EACMG,EAAc,SAACJ,EAAaC,GAChCC,QAAQC,IAAIH,EAAKC,EACnB,EACMI,EAAe,SAACC,GACpBT,EAAOU,KAAKD,EACd,EAEA,OAAO,SAACE,EAAUC,GAChB,IAAMC,GAAqB,sBAAkB,WACvCC,GAA0B,sBAAkB,gBAC5CC,GAAsB,sBAAkB,YACxCC,GAAqB,sBAAkB,WACvCC,GAAoB,sBAAkB,UACtCC,GAAoB,sBAAkB,UACtCC,GAAyB,sBAAkB,eAEjD,OAAQ,kBAAc,wBAAoB,MAAO5B,EAAY,EAC3D,qBAAgB,iBAAa2B,EAAmB,CAAE1B,MAAO,OAAS,CAChE4B,SAAS,cAAS,WAAM,QACtB,iBAAaH,EAAmB,CAAEI,KAAM,IAAM,CAC5CD,SAAS,cAAS,WAAM,OACtB3B,GACA,iBAAauB,EAAoB,CAC/B,iBAAkB,IAClBxB,MAAO,wBACP8B,OAAQpB,EACRqB,QAAShB,EACTiB,SAAUhB,GACT,CACDY,SAAS,cAAS,WAAM,QACtB,iBAAaN,EAAyB,CAAEW,MAAO,aAAe,CAC5DL,SAAS,cAAS,WAAM,QACtB,iBAAaP,EAAoB,KAAM,CACrCO,SAAS,cAAS,WAAM,QACtB,kBAAa,WAAO,SADE,IAGxBM,EAAG,IAELhC,EAPsB,IASxBgC,EAAG,KAEL,iBAAaZ,EAAyB,CAAEW,MAAO,wBAA0B,CACvEL,SAAS,cAAS,WAAM,QACtB,iBAAaP,EAAoB,KAAM,CACrCO,SAAS,cAAS,WAAM,QACtB,iBAAaL,GADS,IAGxBW,EAAG,IAEL/B,EAPsB,IASxB+B,EAAG,KAEL,iBAAaZ,EAAyB,CAAEW,MAAO,uBAAyB,CACtEL,SAAS,cAAS,WAAM,QACtB,iBAAaP,EAAoB,KAAM,CACrCO,SAAS,cAAS,WAAM,QACtB,kBAAa,WAAO,EAAAO,WADE,IAGxBD,EAAG,IAEL9B,EAPsB,IASxB8B,EAAG,IAnCiB,IAsCxBA,EAAG,IA/CiB,IAkDxBA,EAAG,IApDiB,IAuDxBA,EAAG,GACF,KAAM,CACP,CAAC,UAAS,WAAOzB,GAAO2B,KAAKC,aAE/B,iBAAaV,IAEjB,CACA,IClGA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCLM,EAAa,CAAC,OACd,GAA0B,wBAAoB,IAAK,CAAEW,MAAO,CAAC,YAAY,OAAO,OAAS,gBAAkB,SAAU,GACrH,GAA0B,wBAAoB,IAAK,CAAEA,MAAO,CAAC,YAAY,OAAO,OAAS,gBAAkB,QAAS,GAM1H,GAA4B,qBAAiB,CAC3CjC,OAAQ,kBACRC,MAAA,SAAMC,GAAN,WAEIgC,GAAW,IAAAC,KAAI,WACfC,GAAc,IAAAD,OACdE,GAAW,IAAAC,UAAS,CACxB9D,KAAM,GACND,YAAa,GACbE,KAAM,6GACNC,MAAO,GACP6D,OAAQ,GACRC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,UAAU,EACVC,KAAM,GACNC,SAAU,GACVC,KAAM,KAGFC,GAAQ,IAAAT,UAAoB,CAChC9D,KAAM,CAAC,CAAEwE,UAAU,EAAMC,QAAS,oBAAqBC,QAAS,SAChExE,MAAO,CACL,CACEsE,UAAU,EACVC,QAAS,8BACTC,QAAS,WAGbV,MAAO,CACL,CACEQ,UAAU,EACVC,QAAS,+BACTC,QAAS,WAGbN,KAAM,CACJ,CACEA,KAAM,QACNI,UAAU,EACVC,QAAS,2CACTC,QAAS,aAKTC,EAAa,SAAOC,GAAgC,2C,wDACxD,OAAKA,EACL,GAAMA,EAAOC,UAAS,SAACC,EAAOC,GAE5B,GADA/C,QAAQC,IAAI4B,GACRiB,EAAO,CACT9C,QAAQC,IAAI,WACZ,IAAM1C,EAAO,CACXS,KAAM6D,EAAS7D,KACfC,KAAM4D,EAAS5D,KACfF,YAAa8D,EAAS7D,KACtBE,MAAO,CAELC,SAAU0D,EAAS3D,OAErBE,KAAM,CAEJC,UAAWwD,EAASO,OAGlBY,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,MACjEJ,EAAY3C,KAAK9C,GAEjB4F,aAAaE,QAAQ,SAAUJ,KAAKK,UAAUN,G,MAE9ChD,QAAQC,IAAI,gBAAiB8C,EAEjC,KAzBa,I,cACb,S,YA2BIQ,EAAY,SAACX,GACZA,GACLA,EAAOY,aACT,EAOA,OAAO,SAAClD,EAAUC,GAChB,IAAMkD,GAAsB,sBAAkB,YACxCC,GAA0B,sBAAkB,gBAC5CC,GAAuB,sBAAkB,aACzCC,GAAuB,sBAAkB,aACzCC,GAAwB,sBAAkB,cAC1CC,GAAuB,sBAAkB,aACzCC,GAAyB,sBAAkB,eAC3CC,GAA+B,sBAAkB,qBACjDC,GAAuB,sBAAkB,aACzCC,GAAqB,sBAAkB,WAE7C,OAAQ,kBAAc,iBAAaA,EAAoB,CACrDC,QAAS,cACTxC,IAAKC,EACLwC,MAAOvC,EACPU,MAAOA,EACP,cAAe,QACfpD,MAAO,gBACPkF,KAAM3C,EAAS4C,MACf,cAAe,IACd,CACDvD,SAAS,cAAS,WAAM,QACtB,iBAAa2C,EAAyB,CACpCa,MAAO,OACPC,KAAM,eACL,CACDzD,SAAS,cAAS,WAAM,QACtB,iBAAa0C,EAAqB,CAChCgB,WAAY5C,EAAS9D,YACrB,sBAAuBwC,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAE7C,EAAoB,YAAI6C,CAA1B,IACjE,KAAM,EAAG,CAAC,eAJS,IAMxBrD,EAAG,KAEL,iBAAaqC,EAAyB,CACpCa,MAAO,OACPC,KAAM,QACL,CACDzD,SAAS,cAAS,WAAM,QACtB,iBAAa0C,EAAqB,CAChCgB,WAAY5C,EAAS7D,KACrB,sBAAuBuC,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAE7C,EAAa,KAAI6C,CAAnB,IACjE,KAAM,EAAG,CAAC,eAJS,IAMxBrD,EAAG,KAEL,iBAAaqC,EAAyB,CACpCa,MAAO,OACPC,KAAM,QACL,CACDzD,SAAS,cAAS,WAAM,QACtB,wBAAoB,MAAO,CACzB4D,IAAK9C,EAAS5D,KACd2G,IAAK,IACJ,KAAM,EAAG,GAJU,IAMxBvD,EAAG,KAEL,iBAAaqC,EAAyB,CACpCa,MAAO,OACPC,KAAM,UACL,CACDzD,SAAS,cAAS,WAAM,QACtB,iBAAa6C,EAAsB,CACjCa,WAAY5C,EAAS3D,MACrB,sBAAuBqC,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAE7C,EAAc,MAAI6C,CAApB,GAClEG,YAAa,iBACZ,CACD9D,SAAS,cAAS,WAAM,QACtB,iBAAa4C,EAAsB,CACjCY,MAAO,OACPD,MAAO,gBAET,iBAAaX,EAAsB,CACjCY,MAAO,WACPD,MAAO,YAPa,IAUxBjD,EAAG,GACF,EAAG,CAAC,eAjBe,IAmBxBA,EAAG,KAEL,iBAAawC,GACb,GACA,iBAAaH,EAAyB,CACpCa,MAAO,OACPC,KAAM,YACL,CACDzD,SAAS,cAAS,WAAM,QACtB,iBAAa+C,EAAsB,CACjCW,WAAY5C,EAASM,SACrB,sBAAuB5B,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAE7C,EAAiB,SAAI6C,CAAvB,IACjE,KAAM,EAAG,CAAC,eAJS,IAMxBrD,EAAG,KAEL,iBAAaqC,EAAyB,CACpCa,MAAO,QACPC,KAAM,QACL,CACDzD,SAAS,cAAS,WAAM,QACtB,iBAAaiD,EAA8B,CACzCS,WAAY5C,EAASO,KACrB,sBAAuB7B,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAE7C,EAAa,KAAI6C,CAAnB,IACjE,CACD3D,SAAS,cAAS,WAAM,QACtB,iBAAagD,EAAwB,CACnCQ,MAAO,kBACPvG,KAAM,QACL,CACD+C,SAAS,cAAS,WAAM,QACtB,qBAAiB,YADK,IAGxBM,EAAG,KAEL,iBAAa0C,EAAwB,CACnCQ,MAAO,mBACPvG,KAAM,QACL,CACD+C,SAAS,cAAS,WAAM,QACtB,qBAAiB,YADK,IAGxBM,EAAG,KAEL,iBAAa0C,EAAwB,CACnCQ,MAAO,eACPvG,KAAM,QACL,CACD+C,SAAS,cAAS,WAAM,QACtB,qBAAiB,YADK,IAGxBM,EAAG,KAEL,iBAAa0C,EAAwB,CACnCQ,MAAO,gBACPvG,KAAM,QACL,CACD+C,SAAS,cAAS,WAAM,QACtB,qBAAiB,YADK,IAGxBM,EAAG,IAnCiB,IAsCxBA,EAAG,GACF,EAAG,CAAC,eA5Ce,IA8CxBA,EAAG,IAEL,GACA,iBAAaqC,EAAyB,KAAM,CAC1C3C,SAAS,cAAS,WAAM,QACtB,iBAAakD,EAAsB,CACjC7B,KAAM,UACN0C,QAASvE,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAC/B,EAAWf,EAAY0C,MAAxB,IACnD,CACDvD,SAAS,cAAS,WAAM,QACtB,qBAAiB,QADK,IAGxBM,EAAG,KAEL,iBAAa4C,EAAsB,CACjCa,QAASvE,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAACnB,EAAU3B,EAAY0C,MAAvB,IACnD,CACDvD,SAAS,cAAS,WAAM,QACtB,qBAAiB,SADK,IAGxBM,EAAG,IAhBiB,IAmBxBA,EAAG,IArJiB,IAwJxBA,EAAG,GACF,EAAG,CAAC,QAAS,QAAS,QAC3B,CACA,IC7QA,MAAM,EAAc,EAEpB,QCJM,GAA0B,wBAAoB,IAAK,CAAEI,MAAO,CAAC,YAAY,OAAO,OAAS,gBAAkB,WAAY,GAM7H,GAA4B,qBAAiB,CAC3CjC,OAAQ,gBACRC,MAAA,SAAMC,GAAN,WAEIgC,GAAW,IAAAC,KAAI,WACfC,GAAc,IAAAD,OACdE,GAAW,IAAAC,UAAS,CACxB9D,KAAM,GACND,YAAa,GACbE,KAAM,6GACNC,MAAO,GACP6D,OAAQ,GACRC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,UAAU,EACVC,KAAM,GACNC,SAAU,GACVC,KAAM,KAGFC,GAAQ,IAAAT,UAAoB,CAChC9D,KAAM,CAAC,CAAEwE,UAAU,EAAMC,QAAS,oBAAqBC,QAAS,SAChExE,MAAO,CACL,CACEsE,UAAU,EACVC,QAAS,8BACTC,QAAS,WAGbV,MAAO,CACL,CACEQ,UAAU,EACVC,QAAS,+BACTC,QAAS,WAGbN,KAAM,CACJ,CACEA,KAAM,QACNI,UAAU,EACVC,QAAS,2CACTC,QAAS,aAKTC,EAAa,SAAOC,GAAgC,2C,wDACxD,OAAKA,EACL,GAAMA,EAAOC,UAAS,SAACC,EAAOC,GAE5B,GADA/C,QAAQC,IAAI4B,GACRiB,EAAO,CACT9C,QAAQC,IAAI,WACZ,IAAM1C,EAAO,CACXS,KAAM6D,EAAS7D,KACfC,KAAM4D,EAAS5D,KACfF,YAAa8D,EAAS7D,KACtBE,MAAO,CAELC,SAAU0D,EAAS3D,OAErBE,KAAM,CAEJC,UAAWwD,EAASO,OAGlBY,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,MACjEJ,EAAY3C,KAAK9C,GAEjB4F,aAAaE,QAAQ,SAAUJ,KAAKK,UAAUN,G,MAE9ChD,QAAQC,IAAI,gBAAiB8C,EAEjC,KAzBa,I,cACb,S,YA2BIQ,EAAY,SAACX,GACZA,GACLA,EAAOY,aACT,EAOA,OAAO,SAAClD,EAAUC,GAChB,IAAMkD,GAAsB,sBAAkB,YACxCC,GAA0B,sBAAkB,gBAC5CC,GAAuB,sBAAkB,aACzCC,GAAuB,sBAAkB,aACzCC,GAAwB,sBAAkB,cAC1CE,GAAyB,sBAAkB,eAC3CC,GAA+B,sBAAkB,qBACjDC,GAAuB,sBAAkB,aACzCC,GAAqB,sBAAkB,WAE7C,OAAQ,kBAAc,iBAAaA,EAAoB,CACrDC,QAAS,cACTxC,IAAKC,EACLwC,MAAOvC,EACPU,MAAOA,EACP,cAAe,QACfpD,MAAO,gBACPkF,KAAM3C,EAAS4C,MACf,cAAe,IACd,CACDvD,SAAS,cAAS,WAAM,QACtB,iBAAa2C,EAAyB,CACpCa,MAAO,QACPC,KAAM,eACL,CACDzD,SAAS,cAAS,WAAM,QACtB,iBAAa0C,EAAqB,CAChCgB,WAAY5C,EAAS9D,YACrB,sBAAuBwC,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAE7C,EAAoB,YAAI6C,CAA1B,IACjE,KAAM,EAAG,CAAC,eAJS,IAMxBrD,EAAG,KAEL,iBAAaqC,EAAyB,CACpCa,MAAO,QACPC,KAAM,QACL,CACDzD,SAAS,cAAS,WAAM,QACtB,iBAAa0C,EAAqB,CAChCgB,WAAY5C,EAAS7D,KACrB,sBAAuBuC,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAE7C,EAAa,KAAI6C,CAAnB,IACjE,KAAM,EAAG,CAAC,eAJS,IAMxBrD,EAAG,KAEL,iBAAaqC,EAAyB,CACpCa,MAAO,QACPC,KAAM,UACL,CACDzD,SAAS,cAAS,WAAM,QACtB,iBAAa6C,EAAsB,CACjCa,WAAY5C,EAAS3D,MACrB,sBAAuBqC,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAE7C,EAAc,MAAI6C,CAApB,GAClEG,YAAa,iBACZ,CACD9D,SAAS,cAAS,WAAM,QACtB,iBAAa4C,EAAsB,CACjCY,MAAO,IACPD,MAAO,SAET,iBAAaX,EAAsB,CACjCY,MAAO,IACPD,MAAO,YAET,iBAAaX,EAAsB,CACjCY,MAAO,IACPD,MAAO,UAET,iBAAaX,EAAsB,CACjCY,MAAO,IACPD,MAAO,UAfa,IAkBxBjD,EAAG,GACF,EAAG,CAAC,eAzBe,IA2BxBA,EAAG,KAEL,iBAAaqC,EAAyB,CACpCa,MAAO,UACPC,KAAM,UAER,iBAAaX,GACb,GACA,iBAAaH,EAAyB,CACpCa,MAAO,QACPC,KAAM,QACL,CACDzD,SAAS,cAAS,WAAM,QACtB,iBAAaiD,EAA8B,CACzCS,WAAY5C,EAASO,KACrB,sBAAuB7B,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAE7C,EAAa,KAAI6C,CAAnB,IACjE,CACD3D,SAAS,cAAS,WAAM,QACtB,iBAAagD,EAAwB,CACnCQ,MAAO,kBACPvG,KAAM,QACL,CACD+C,SAAS,cAAS,WAAM,QACtB,qBAAiB,YADK,IAGxBM,EAAG,KAEL,iBAAa0C,EAAwB,CACnCQ,MAAO,mBACPvG,KAAM,QACL,CACD+C,SAAS,cAAS,WAAM,QACtB,qBAAiB,YADK,IAGxBM,EAAG,KAEL,iBAAa0C,EAAwB,CACnCQ,MAAO,eACPvG,KAAM,QACL,CACD+C,SAAS,cAAS,WAAM,QACtB,qBAAiB,YADK,IAGxBM,EAAG,KAEL,iBAAa0C,EAAwB,CACnCQ,MAAO,gBACPvG,KAAM,QACL,CACD+C,SAAS,cAAS,WAAM,QACtB,qBAAiB,YADK,IAGxBM,EAAG,IAnCiB,IAsCxBA,EAAG,GACF,EAAG,CAAC,eA5Ce,IA8CxBA,EAAG,KAEL,iBAAaqC,EAAyB,KAAM,CAC1C3C,SAAS,cAAS,WAAM,QACtB,iBAAakD,EAAsB,CACjC7B,KAAM,UACN0C,QAASvE,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAC/B,EAAWf,EAAY0C,MAAxB,IACnD,CACDvD,SAAS,cAAS,WAAM,QACtB,qBAAiB,QADK,IAGxBM,EAAG,KAEL,iBAAa4C,EAAsB,CACjCa,QAASvE,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAACnB,EAAU3B,EAAY0C,MAAvB,IACnD,CACDvD,SAAS,cAAS,WAAM,QACtB,qBAAiB,SADK,IAGxBM,EAAG,IAhBiB,IAmBxBA,EAAG,IAxIiB,IA2IxBA,EAAG,GACF,EAAG,CAAC,QAAS,QAAS,QAC3B,CACA,IC7PA,MAAM,EAAc,EAEpB,QCCA,GAA4B,qBAAiB,CAC3C7B,OAAQ,QACRC,MAAA,SAAMC,GAER,IAAMqF,GAAa,IAAApD,KAAI,SAEjBqD,EAAc,SAACC,EAAsB3H,GACzC0C,QAAQC,IAAIgF,EAAK3H,EACnB,EAEA,OAAO,SAACgD,EAAUC,GAChB,IAAM2E,GAAyB,sBAAkB,eAC3CC,GAAqB,sBAAkB,WAE7C,OAAQ,kBAAc,iBAAaA,EAAoB,CACrDV,WAAYM,EAAWT,MACvB,sBAAuB/D,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAC,EAAaJ,MAAQI,CAAtB,GAClEtC,KAAM,OACNjD,MAAO,YACPiG,WAAYJ,GACX,CACDjE,SAAS,cAAS,WAAM,QACtB,iBAAamE,EAAwB,CACnCX,MAAO,OACPvG,KAAM,SACL,CACD+C,SAAS,cAAS,WAAM,QACtB,iBAAasE,GADS,IAGxBhE,EAAG,KAEL,iBAAa6D,EAAwB,CACnCX,MAAO,QACPvG,KAAM,UACL,CACD+C,SAAS,cAAS,WAAM,QACtB,iBAAauE,GADS,IAGxBjE,EAAG,KAEL,iBAAa6D,EAAwB,CACnCX,MAAO,OACPvG,KAAM,SACL,CACD+C,SAAS,cAAS,WAAM,QACtB,qBAAiB,QADK,IAGxBM,EAAG,KAEL,iBAAa6D,EAAwB,CACnCX,MAAO,OACPvG,KAAM,UACL,CACD+C,SAAS,cAAS,WAAM,QACtB,qBAAiB,QADK,IAGxBM,EAAG,IAnCiB,IAsCxBA,EAAG,GACF,EAAG,CAAC,cACT,CACA,ICjEA,MAAM,EAAc,EAEpB,Q,wCCKe,SAASkE,IACtB,IAAMvK,GAAQ,IAAA2G,OACRxE,GAAM,IAAAwE,OAkBZ,OAjBA,IAAA6D,YAAU,WACRxK,EAAMsJ,OAAQ,OAAc,CAC1BmB,aAAc,KACdC,UAAWC,SAASC,eAAe,eAGrCzI,EAAImH,OAAQ,OAAUtJ,EAAMsJ,QAE5B,OAAatJ,EAAMsJ,MAAO,CACxB,OACA,QACA,MACA,OACA,OACA,UAEJ,IACO,CACLtJ,MAAK,EACLmC,IAAG,EAEP,C,wBChCM,EAAa,CAAEgC,MAAO,oBACtB,EAAa,CAAC,eACd,EAAa,CAAC,OAYpB,GAA4B,qBAAiB,CAC3CK,OAAQ,oBACRqG,MAAO,CACL7K,MAAO,KACPmC,IAAK,MAEPsC,MAAA,SAAMC,GAER,IAAMmG,EAAQnG,EASRoG,EAAa,CAAC,KAAa,MAC3BC,EAA0C,GAChDD,EAAW9I,SAAQ,SAACC,GAClB8I,EAAgB1F,KAAI,MAApB0F,EAAwB9I,EAAKa,SAC/B,KACA,OAAkBiI,GAGlB,IAAMC,EAAU,SAACC,EAAehJ,GAC1B4I,EAAM7K,OAAS6K,EAAM1I,MACvB,OAAW,CACTnC,MAAO6K,EAAM7K,MACbmC,IAAK0I,EAAM1I,IACXG,MAAO2I,EACP1J,QAAS,CACP2B,MAAOjB,EAAKe,MAEdT,MAAM,WAAKN,IAGjB,EAEMiJ,GAAc,IAAAvE,KAAI,CAAC,UAAW,SAC9BwE,EAAiB,WACrBnG,QAAQC,IAAI,QACd,EAEA,OAAO,SAACK,EAAUC,GAChB,IAAM6F,GAA8B,sBAAkB,oBAChDC,GAAyB,sBAAkB,eAEjD,OAAQ,kBAAc,wBAAoB,MAAO,EAAY,EAC3D,iBAAaA,EAAwB,CACnC5B,WAAYyB,EAAY5B,MACxB,sBAAuB/D,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAC,EAAcJ,MAAQI,CAAvB,GAClE4B,SAAUH,GACT,CACDpF,SAAS,cAAS,WAAM,SACrB,kBAAc,wBAAoB,WAAW,MAAM,gBAAY+E,GAAY,SAAC7I,GAC3E,OAAO,iBAAamJ,EAA6B,CAC/CG,MAAOtJ,EAAKW,UACZI,KAAMf,EAAKY,UACXiC,IAAK7C,EAAKY,WACT,CACDkD,SAAS,cAAS,WAAM,SACrB,gBAAW,IAAO,wBAAoB,WAAW,MAAM,gBAAY9D,EAAKa,UAAU,SAAC0I,GAClF,OAAQ,kBAAc,wBAAoB,MAAO,CAC/CrH,MAAO,YACPW,IAAK0G,EAAKhI,GACViI,YAAa,SAAC/B,GAAgB,OAACsB,EAAQtB,EAAQ8B,EAAjB,GAC7B,EACD,wBAAoB,MAAO,CACzB7B,IAAK6B,EAAKvI,MACT,KAAM,EAAG,IACZ,wBAAoB,MAAO,MAAM,qBAAiBuI,EAAKzI,aAAc,IACpE,GAAI,EACT,IAAI,MAZkB,IAcxBsD,EAAG,GACF,KAAM,CAAC,QAAS,QACrB,IAAI,KAvBkB,IAyBxBA,EAAG,GACF,EAAG,CAAC,gBAEX,CACA,IC/FA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,6BCJM,EAAa,CAAElC,MAAO,mBACtB,EAAa,CAAEA,MAAO,mBACtB,EAAa,CAAC,OAQpB,GAA4B,qBAAiB,CAC3CK,OAAQ,QACRqG,MAAO,CACLrI,KAAM,MAERiC,MAAA,SAAMC,GAER,IAAMmG,EAAQnG,EAMRgH,GAAa,IAAAC,WAAS,WAC1B,OAAIC,EAAStC,MAAMhG,MACV,OAAgBsI,EAAStC,MAAMhG,MAEjC,IACT,IAEMsI,GAAW,IAAAD,WAAS,WACxB,OAAQd,EAAMrI,MAAQqI,EAAMrI,KAAKD,MAAS,CAAC,CAC7C,IAOA,OAAO,SAAC+C,EAAUC,GAChB,OAAQ,kBAAc,wBAAoB,MAAO,EAAY,EAC3D,wBAAoB,MAAO,EAAY,EACrC,wBAAoB,MAAO,CACzBoE,KAAK,WAAOiC,GAAU3I,KACtB2G,IAAK,IACJ,KAAM,EAAG,IACZ,wBAAoB,KAAM,MAAM,sBAAiB,WAAOgC,GAAU7I,aAAc,MAEjF,WAAO2I,KACH,kBAAc,kBAAa,8BAAyB,WAAOA,KAAc,qBAAgB,gBAAY,CAAE5G,IAAK,GAAKQ,EAAKuG,SAAU,KAAM,MACvI,wBAAoB,IAAI,IAEhC,CACA,ICnDA,MAAM,IAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,U,WCHe,SAASC,GACtBvJ,EACAqC,GAGA,IAAMmH,EAAYnH,EAAM5B,KAClBQ,EAAKoB,EAAMoH,MAAMxI,GACnByI,GAAW,EAEf,GAAkB,wBAAdF,EAAqC,CACvC,IAAMG,EAAoBjE,KAAKC,MAC7BC,aAAaC,QAAQ,kBAAoB,MAE3C8D,EAAkB1I,GAAgBjB,EAClC4F,aAAaE,QAAQ,gBAAiBJ,KAAKK,UAAU4D,IACrDD,GAAW,C,CAIb,GAAkB,yBAAdF,EAAsC,CACxC,IAAMI,EAAqBlE,KAAKC,MAC9BC,aAAaC,QAAQ,mBAAqB,MAE5C+D,EAAmB3I,GAAgBjB,EACnCyC,QAAQC,IAAI,WAAY1C,GAExB4F,aAAaE,QAAQ,iBAAkBJ,KAAKK,UAAU6D,IACtDF,GAAW,C,CAIb,GAAkB,eAAdF,EAA4B,CAC9B,IAAMK,EAAWnE,KAAKC,MAAMC,aAAaC,QAAQ,SAAW,MAC5DgE,EAAS5I,GAAgBjB,EACzB4F,aAAaE,QAAQ,OAAQJ,KAAKK,UAAU8D,IAC5CH,GAAW,C,CAGTA,IACF,SAAU,CACRxE,QAAS,OACTL,KAAM,WAGZ,C,yBC9CM,GAAe,SAAAnD,GAAK,OAAC,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,CAArD,EACpB,GAAa,CAAEE,MAAO,QACtB,GAAa,CAAEA,MAAO,YACtB,GAAa,CAAEA,MAAO,eACtB,GAA2B,IAAa,WAAmB,+BAAoB,MAAO,CAAEX,GAAI,aAAe,MAAO,EAAvD,IAC3D,GAAa,CAAEW,MAAO,aAwB5B,IAA4B,qBAAiB,CAC3CK,OAAQ,QACRC,MAAA,SAAMC,GAGR,IAAME,GAAQ,UACRyH,GAAoB,WAIpBC,EAAgB/B,IAChBvK,EAAQsM,EAActM,MACtBmC,EAAMmK,EAAcnK,IAEtBoK,GAAgB,IAAA5F,OAChB6F,GAAY,IAAA7F,OAEV8F,EAAU,WACdzM,EAAMsJ,OAAStJ,EAAMsJ,MAAMoD,WAAWH,EAAcjD,OACpDiD,EAAcjD,WAAQqD,CACxB,EAEMC,EAAW,SAACrK,GAChB,GAAIgK,EAAcjD,MAEhB,GAAIiD,EAAcjD,MAAMpG,QAAU,MAChCqJ,EAAcjD,MAAMhG,KAAK,YAAaf,EAAKsK,eACtC,CACL,IAAMC,EAAoBP,EAAcjD,MAAMyD,UAC9CR,EAAcjD,MAAM7G,SAAQ,oBACvBqK,GAAiB,CACpBE,SAAUzK,I,CAIlB,EAEM0K,EAAW,SAAC1K,GAChByC,QAAQC,IAAI,SAAU1C,GACtBuJ,GAAavJ,EAAMqC,EAAO5E,EAAMsJ,MAClC,EAGM4D,EAA4B,CAChC,KACA,KACA,KACA,MAIIC,EAAY,SAACC,EAA+BC,GAChD,IAAK,IAAIC,EAAI,EAAGC,EAAMH,EAAMhN,OAAQkN,EAAIC,EAAKD,GAAQ,EACnDF,EAAME,GAAG7G,MAAM+G,WAAaH,EAAO,UAAY,QAEnD,EAoDA,OAnDA,IAAA7C,YAAU,WACJxK,EAAMsJ,OAASnH,EAAImH,QAErBtJ,EAAMsJ,MAAMmE,GAAG,cAAc,SAAC,G,IAAEC,EAAI,OAAElL,EAAI,OACpCgK,EAAUlD,OACZkD,EAAUlD,MAAMqE,UAAUC,OAAO,UAEnCpB,EAAUlD,MACRoE,EAAKhD,UAAUmD,cAAc,qBAAkBlB,EAC7CH,EAAUlD,OACZkD,EAAUlD,MAAMqE,UAAUG,IAAI,UAG5BvB,EAAcjD,MAEZiD,EAAcjD,QAAU9G,EAC1B+J,EAAcjD,MAAQ9G,EAEtB+J,EAAcjD,WAAQqD,EAGxBJ,EAAcjD,MAAQ9G,CAE1B,IAEAxC,EAAMsJ,MAAMmE,GAAG,eAAe,WAC5BlB,EAAcjD,WAAQqD,EAClBH,EAAUlD,OACZkD,EAAUlD,MAAMqE,UAAUC,OAAO,SAErC,IAEA5N,EAAMsJ,MAAMmE,GAAG,mBAAmB,WAChC,IAAM/C,EAAYC,SAASC,eAAe,aACpCwC,EAAQ1C,EAAUqD,iBACtB,iBAEFZ,EAAUC,GAAO,EACnB,IACApN,EAAMsJ,MAAMmE,GAAG,mBAAmB,WAChC,IAAM/C,EAAYC,SAASC,eAAe,aACpCwC,EAAQ1C,EAAUqD,iBACtB,iBAEFZ,EAAUC,GAAO,EACnB,IAIJ,IAEO,SAAC9H,EAAUC,GAChB,OAAQ,kBAAc,wBAAoB,MAAO,GAAY,EAC3D,wBAAoB,MAAO,GAAY,EACrC,iBAAa,EAAU,CACrBvF,OAAO,WAAOA,GACdmC,KAAK,WAAOA,IACX,KAAM,EAAG,CAAC,QAAS,WAExB,wBAAoB,MAAO,GAAY,EACrC,wBAAoB,SAAU,KAAM,EAClC,iBAAa,IAAY,CACvB+K,MAAOA,EACPlN,OAAO,WAAOA,GACdmC,KAAK,WAAOA,GACZ6L,WAAYf,GACX,KAAM,EAAG,CAAC,QAAS,UAExB,IACA,kBAAa,WAAOZ,OAEtB,qBAAgB,wBAAoB,MAAO,GAAY,EACrD,sBAAiB,kBAAc,iBAAa,GAAgB,CAC1DvH,KAAK,WAAOyH,KAAkB,WAAOA,GAAe/I,GACpDhB,MAAM,WAAO+J,GACb0B,WAAYrB,EACZsB,UAAWzB,GACV,KAAM,EAAG,CAAC,UAAW,CACtB,CAAC,SAAQ,WAAOF,OAEjB,KAAM,CACP,CAAC,SAAQ,WAAOA,OAGtB,CACA,ICvKA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCLM,GAAe,SAAAtI,GAAK,OAAC,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,CAArD,EACpB,GAAa,CAAEE,MAAO,eACtB,GAAa,CAAEA,MAAO,gBACtB,GAA2B,IAAa,WAAmB,+BAAoB,KAAM,KAAM,QAAS,EAAzC,IAOjE,IAA4B,qBAAiB,CAC3CK,OAAQ,gBACRC,MAAA,SAAMC,GAER,IAAMC,GAAS,UAETwJ,GAAY,IAAAxH,KAChBsB,KAAKC,MAAMC,aAAaC,QAAQ,sBAAwB,OAKpDgG,EAAsB,WAC1B,IAAMpL,EAAOqL,OAAO,YAChBrL,IACFmL,EAAU7E,MAAMjE,KAAK,CACnB7B,GAAI,UAAG2K,EAAU7E,MAAMlJ,OAAS,GAChC4C,KAAI,IAENmF,aAAaE,QAAQ,oBAAqBJ,KAAKK,UAAU6F,EAAU7E,QAEvE,EAEMgF,EAAwB,SAACrM,GAC7B0C,EAAOU,KAAK,CACVrC,KAAM,sBACNgJ,MAAO,CAAExI,GAAIvB,EAAKuB,GAAIR,KAAMf,EAAKe,OAErC,EAEMgH,EAAc,SAAC/H,GACnB0C,EAAOU,KAAK,CACVrC,KAAM,cACNgJ,MAAO,CAAExI,GAAIvB,EAAKuB,KAEtB,EAEA,OAAO,SAAC8B,EAAUC,GAChB,IAAM0D,GAAuB,sBAAkB,aACzCsF,GAA6B,sBAAkB,mBAC/CC,GAAsB,sBAAkB,YAE9C,OAAQ,kBAAc,wBAAoB,MAAO,GAAY,EAC3D,wBAAoB,MAAO,GAAY,CACrC,IACA,iBAAavF,EAAsB,CAAEa,QAASsE,GAAuB,CACnErI,SAAS,cAAS,WAAM,QACtB,qBAAiB,SADK,IAGxBM,EAAG,OAGP,iBAAamI,EAAqB,CAChCjM,KAAM4L,EAAU7E,MAChB7C,MAAO,CAAC,MAAQ,SACf,CACDV,SAAS,cAAS,WAAM,QACtB,iBAAawI,EAA4B,CACvC/E,KAAM,OACND,MAAO,QACPkF,MAAO,SAET,iBAAaF,EAA4B,CACvC/E,KAAM,aACND,MAAO,OACPkF,MAAO,SAET,iBAAaF,EAA4B,CACvC/E,KAAM,aACND,MAAO,OACPkF,MAAO,SAET,iBAAaF,EAA4B,CACvC/E,KAAM,aACND,MAAO,OACPkF,MAAO,SAET,iBAAaF,EAA4B,CACvCG,MAAO,QACPnF,MAAO,KACPkF,MAAO,OACN,CACD1I,SAAS,cAAS,SAAC4I,GAAU,QAC3B,iBAAa1F,EAAsB,CACjC2F,KAAM,GACNxH,KAAM,UACNiC,KAAM,QACNS,QAAS,SAACJ,GAAgB,OAACM,EAAY2E,EAAME,IAAnB,GACzB,CACD9I,SAAS,cAAS,WAAM,QACtB,qBAAiB,MADK,IAGxBM,EAAG,GACF,KAAM,CAAC,aACV,iBAAa4C,EAAsB,CACjC2F,KAAM,GACNxH,KAAM,UACNiC,KAAM,QACNS,QAAS,SAACJ,GAAgB,OAAC4E,EAAsBK,EAAME,IAA7B,GACzB,CACD9I,SAAS,cAAS,WAAM,QACtB,qBAAiB,QADK,IAGxBM,EAAG,GACF,KAAM,CAAC,YAtBiB,IAwB7BA,EAAG,IAlDiB,IAqDxBA,EAAG,GACF,EAAG,CAAC,UAEX,CACA,ICxHA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,WCLM,GAAe,SAAApC,GAAK,OAAC,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,CAArD,EACpB,GAAa,CAAEE,MAAO,eACtB,GAAa,CAAEA,MAAO,gBACtB,GAA2B,IAAa,WAAmB,+BAAoB,KAAM,KAAM,SAAU,EAA1C,IAOjE,IAA4B,qBAAiB,CAC3CK,OAAQ,iBACRC,MAAA,SAAMC,GAER,IAAMC,GAAS,UAETwJ,GAAY,IAAAxH,KAChBsB,KAAKC,MAAMC,aAAaC,QAAQ,uBAAyB,OAKrD0G,EAAuB,WAC3B,IAAM9L,EAAOqL,OAAO,YAChBrL,IACFmL,EAAU7E,MAAMjE,KAAK,CACnB7B,GAAI,UAAG2K,EAAU7E,MAAMlJ,OAAS,GAChC4C,KAAI,IAENmF,aAAaE,QAAQ,qBAAsBJ,KAAKK,UAAU6F,EAAU7E,QAExE,EAEMyF,EAAyB,SAAC9M,GAC9B0C,EAAOU,KAAK,CACVrC,KAAM,uBACNgJ,MAAO,CAAExI,GAAIvB,EAAKuB,GAAIR,KAAMf,EAAKe,OAErC,EAEMgH,EAAc,SAAC/H,GACnB0C,EAAOU,KAAK,CACVrC,KAAM,cACNgJ,MAAO,CAAExI,GAAIvB,EAAKuB,KAEtB,EAEA,OAAO,SAAC8B,EAAUC,GAChB,IAAM0D,GAAuB,sBAAkB,aACzCsF,GAA6B,sBAAkB,mBAC/CC,GAAsB,sBAAkB,YAE9C,OAAQ,kBAAc,wBAAoB,MAAO,GAAY,EAC3D,wBAAoB,MAAO,GAAY,CACrC,IACA,iBAAavF,EAAsB,CAAEa,QAASgF,GAAwB,CACpE/I,SAAS,cAAS,WAAM,QACtB,qBAAiB,SADK,IAGxBM,EAAG,OAGP,iBAAamI,EAAqB,CAChCjM,KAAM4L,EAAU7E,MAChB7C,MAAO,CAAC,MAAQ,SACf,CACDV,SAAS,cAAS,WAAM,QACtB,iBAAawI,EAA4B,CACvC/E,KAAM,OACND,MAAO,QACPkF,MAAO,SAET,iBAAaF,EAA4B,CACvC/E,KAAM,aACND,MAAO,OACPkF,MAAO,SAET,iBAAaF,EAA4B,CACvC/E,KAAM,aACND,MAAO,OACPkF,MAAO,SAET,iBAAaF,EAA4B,CACvC/E,KAAM,aACND,MAAO,OACPkF,MAAO,SAET,iBAAaF,EAA4B,CACvCG,MAAO,QACPnF,MAAO,KACPkF,MAAO,OACN,CACD1I,SAAS,cAAS,SAAC4I,GAAU,QAC3B,iBAAa1F,EAAsB,CACjC2F,KAAM,GACNxH,KAAM,UACNiC,KAAM,QACNS,QAAS,SAACJ,GAAgB,OAACM,EAAY2E,EAAME,IAAnB,GACzB,CACD9I,SAAS,cAAS,WAAM,QACtB,qBAAiB,MADK,IAGxBM,EAAG,GACF,KAAM,CAAC,aACV,iBAAa4C,EAAsB,CACjC2F,KAAM,GACNxH,KAAM,UACNiC,KAAM,QACNS,QAAS,SAACJ,GAAgB,OAACqF,EAAuBJ,EAAME,IAA9B,GACzB,CACD9I,SAAS,cAAS,WAAM,QACtB,qBAAiB,QADK,IAGxBM,EAAG,GACF,KAAM,CAAC,YAtBiB,IAwB7BA,EAAG,IAlDiB,IAqDxBA,EAAG,GACF,EAAG,CAAC,UAEX,CACA,ICxHA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCDA,IAEE,CACElH,KAAM,uBACN6D,KAAM,oBACNgM,UAAWC,IAEb,CACE9P,KAAM,yBACN6D,KAAM,sBACNgM,UAAW,cACXzI,KAAM,CACJC,UAAU,IAGd,CACErH,KAAM,oBACN6D,KAAM,kBACNgM,UAAW,cACXzI,KAAM,CACJC,UAAU,IAId,CACErH,KAAM,wBACN6D,KAAM,qBACNgM,UAAWvL,IAEb,CACEtE,KAAM,0BACN6D,KAAM,uBACNgM,UAAW,cACXzI,KAAM,CACJC,UAAU,KCzChB,IACE,CACErH,KAAM,aACN6D,KAAM,YACNgM,UAAW,WAAM,uCAEnB,CACE7P,KAAM,eACN6D,KAAM,aACNgM,UAAW,WACT,sCACFzI,KAAM,CACJC,UAAU,IAGd,CACErH,KAAM,eACN6D,KAAM,aACNgM,UAAW,WACT,sCACFzI,KAAM,CACJC,UAAU,KCrBhB,IACE,CACErH,KAAM,mBACN6D,KAAM,kBACNgM,UAAW,WAAM,uCAEnB,CACE7P,KAAM,qBACN6D,KAAM,kBACNgM,UAAW,WACT,sCACFzI,KAAM,CACJC,UAAU,IAGd,CACErH,KAAM,qBACN6D,KAAM,kBACNgM,UAAW,WACT,sCACFzI,KAAM,CACJC,UAAU,KCXV,IAAM,kBACV,CACErH,KAAM,SACN6D,KAAM,QACNgM,UAAWE,IAEb,CACE/P,KAAM,IACN6D,KAAM,OACNgM,UAAW,EACXlM,UAAU,oBAAI,IAAa,GAAG,IAAU,KAEvC,IAAe,IAClB,CACE3D,KAAM,UACN6D,KAAM,SACNgM,UAAW,K,GAITrK,IAAS,QAAa,CAC1BwK,SAAS,UACTC,OAAM,KAGR,M,WCjCA,IAAe,SAAY,CACzBC,MAAO,CAAC,EACRC,QAAS,CAAC,EACVC,UAAW,CAAC,EACZC,QAAS,CAAC,EACVC,QAAS,CAAC,I,+BCENC,IAAM,IAAAC,WAAUC,GACtBF,GACGlO,IAAI,KAAa,CAChBqO,OAAQ,OAETrO,IAAIsO,IACJtO,IAAI,IACJuO,MAAM,QAET,IAA+B,YAAAC,OAAOC,QAAQ,GAAf,kBAAqC,CAAzD,cAACnL,GAAG,MAAEkK,GAAS,MACxBU,GAAIV,UAAUlK,GAAKkK,G,yPCjBd,IAAMkB,EAAiB,YACjBC,EAAuB,iBAEvBC,EAAiB,gBACjBC,EAAY,OACZC,EAAe,UACfC,EAAa,QACbC,EAAwB,sBACxBC,EAAsB,oBACtBC,EAAoB,mB,yFCLlB,SAASC,EAAgBC,EAAW5D,IAEjD,IAAA6D,OACE7D,GACA,WACEhI,QAAQC,IAAI,QACZ2L,EAAK,WAAY5D,EACnB,GACA,CAAE8D,MAAM,GAEZ,C,cCNA,GAA4B,qBAAiB,CAC3CtM,OAAQ,gBACRuM,MAAO,CAAC,YACRtM,MAAA,SAAMC,EAAS,GAAf,WAAiBkM,EAAI,OAKjBI,EAAkB,SAACC,GACvBjM,QAAQC,IAAIgM,GACZ,IAAMpE,GAAY,IAAAqE,MAAKC,GAAmB,SAAClP,GAAS,OAAAA,EAAKuB,KAAOyN,CAAZ,IACpDpK,EAASgG,UAAYA,EAAU7J,IACjC,EAGMmO,EAAoBlJ,KAAKC,MAC7BC,aAAaC,QAAQ,sBAAwB,MAE/CpD,QAAQC,IAAIkM,IAEZ,IAAA3G,YAAU,WACRmG,EAAgBC,EAAM/J,EACxB,IAEA,IAAMH,GAAW,IAAAC,KAAI,WACfC,GAAc,IAAAD,OACdE,GAAW,IAAAC,UAAS,CACxB9D,KAAM,QACNoO,YAAa,GACbvE,UAAW,GACX7F,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,UAAU,EACVC,KAAM,GACNC,SAAU,GACVC,KAAM,KAGFC,GAAQ,IAAAT,UAAoB,CAChC9D,KAAM,CACJ,CAAEwE,UAAU,EAAMC,QAAS,6BAA8BC,QAAS,QAClE,CAAE2J,IAAK,EAAGC,IAAK,EAAG7J,QAAS,0BAA2BC,QAAS,SAEjE0J,YAAa,CACX,CACE5J,UAAU,EACVC,QAAS,8BACTC,QAAS,WAGbV,MAAO,CACL,CACEQ,UAAU,EACVC,QAAS,+BACTC,QAAS,WAGbT,MAAO,CACL,CACEG,KAAM,OACNI,UAAU,EACVC,QAAS,qBACTC,QAAS,WAGbR,MAAO,CACL,CACEE,KAAM,OACNI,UAAU,EACVC,QAAS,qBACTC,QAAS,WAGbN,KAAM,CACJ,CACEA,KAAM,QACNI,UAAU,EACVC,QAAS,2CACTC,QAAS,WAGbL,SAAU,CACR,CACEG,UAAU,EACVC,QAAS,kCACTC,QAAS,WAGbJ,KAAM,CACJ,CAAEE,UAAU,EAAMC,QAAS,6BAA8BC,QAAS,WAIhEC,EAAa,SAAOC,GAAgC,2C,wDACxD,OAAKA,EACL,GAAMA,EAAOC,UAAS,SAACC,EAAOC,GACxBD,EACF9C,QAAQC,IAAI,WAEZD,QAAQC,IAAI,gBAAiB8C,EAEjC,KAPa,I,cACb,S,YASIQ,EAAY,SAACX,GACZA,GACLA,EAAOY,aACT,EAOA,OAAO,SAAClD,EAAUC,GAChB,IAAMoD,GAAuB,sBAAkB,aACzCC,GAAuB,sBAAkB,aACzCF,GAA0B,sBAAkB,gBAC5CK,GAAyB,sBAAkB,eAC3CC,GAA+B,sBAAkB,qBACjDC,GAAuB,sBAAkB,aACzCC,GAAqB,sBAAkB,WAE7C,OAAQ,kBAAc,iBAAaA,EAAoB,CACrDC,QAAS,cACTxC,IAAKC,EACLwC,MAAOvC,EACPU,MAAOA,EACP,cAAe,QACfpD,MAAO,gBACPkF,KAAM3C,EAAS4C,MACf,cAAe,IACd,CACDvD,SAAS,cAAS,WAAM,QACtB,iBAAa2C,EAAyB,CACpCa,MAAO,MACPC,KAAM,aACL,CACDzD,SAAS,cAAS,WAAM,QACtB,iBAAa6C,EAAsB,CACjCa,WAAY5C,EAASuK,YACrB,sBAAuB7L,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAE7C,EAAoB,YAAI6C,CAA1B,GAClEG,YAAa,SACbyB,SAAU0F,GACT,CACDjL,SAAS,cAAS,WAAM,SACrB,gBAAW,IAAO,wBAAoB,WAAW,MAAM,iBAAY,WAAOoL,IAAoB,SAAClP,GAC9F,OAAQ,kBAAc,iBAAa0G,EAAsB,CACvD7D,IAAK7C,EAAKuB,GACV+F,MAAOtH,EAAKe,KACZsG,MAAOrH,EAAKuB,IACX,KAAM,EAAG,CAAC,QAAS,SACxB,IAAI,MAPkB,IASxB6C,EAAG,GACF,EAAG,CAAC,eAjBe,IAmBxBA,EAAG,KAEL,iBAAaqC,EAAyB,CACpCa,MAAO,OACPC,KAAM,QACL,CACDzD,SAAS,cAAS,WAAM,QACtB,iBAAaiD,EAA8B,CACzCS,WAAY5C,EAASO,KACrB,sBAAuB7B,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAE7C,EAAa,KAAI6C,CAAnB,IACjE,CACD3D,SAAS,cAAS,WAAM,QACtB,iBAAagD,EAAwB,CACnCQ,MAAO,KACPvG,KAAM,UAER,iBAAa+F,EAAwB,CACnCQ,MAAO,KACPvG,KAAM,SAPc,IAUxBqD,EAAG,GACF,EAAG,CAAC,eAhBe,IAkBxBA,EAAG,KAEL,iBAAaqC,EAAyB,KAAM,CAC1C3C,SAAS,cAAS,WAAM,QACtB,iBAAakD,EAAsB,CACjC7B,KAAM,UACN0C,QAASvE,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAC/B,EAAWf,EAAY0C,MAAxB,IACnD,CACDvD,SAAS,cAAS,WAAM,QACtB,qBAAiB,YADK,IAGxBM,EAAG,KAEL,iBAAa4C,EAAsB,CACjCa,QAASvE,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAACnB,EAAU3B,EAAY0C,MAAvB,IACnD,CACDvD,SAAS,cAAS,WAAM,QACtB,qBAAiB,SADK,IAGxBM,EAAG,IAhBiB,IAmBxBA,EAAG,IAtEiB,IAyExBA,EAAG,GACF,EAAG,CAAC,QAAS,QAAS,QAC3B,CACA,ICzNA,MAAMvC,EAAc,EAEpB,QCKA,GAA4B,qBAAiB,CAC3CU,OAAQ,qBACRuM,MAAO,CAAC,YACRtM,MAAA,SAAMC,EAAS,GAAf,WAAiBkM,EAAI,OAKjBI,EAAkB,SAACC,GACvBjM,QAAQC,IAAIgM,GACZ,IAAMpE,GAAY,IAAAqE,MAAKK,GAAoB,SAACtP,GAAS,OAAAA,EAAKuB,KAAOyN,CAAZ,IACrDpK,EAASgG,UAAYA,EAAU7J,IACjC,EAGMuO,EAAqBtJ,KAAKC,MAC9BC,aAAaC,QAAQ,uBAAyB,OAGhD,IAAAoC,YAAU,WACRmG,EAAgBC,EAAM/J,EACxB,IAEA,IAAMH,GAAW,IAAAC,KAAI,WACfC,GAAc,IAAAD,OACdE,GAAW,IAAAC,UAAS,CACxB9D,KAAM,QACNoO,YAAa,GACbvE,UAAW,GACX7F,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,UAAU,EACVC,KAAM,GACNC,SAAU,GACVC,KAAM,KAGFC,GAAQ,IAAAT,UAAoB,CAChC9D,KAAM,CACJ,CAAEwE,UAAU,EAAMC,QAAS,6BAA8BC,QAAS,QAClE,CAAE2J,IAAK,EAAGC,IAAK,EAAG7J,QAAS,0BAA2BC,QAAS,SAEjE0J,YAAa,CACX,CACE5J,UAAU,EACVC,QAAS,8BACTC,QAAS,WAGbV,MAAO,CACL,CACEQ,UAAU,EACVC,QAAS,+BACTC,QAAS,WAGbT,MAAO,CACL,CACEG,KAAM,OACNI,UAAU,EACVC,QAAS,qBACTC,QAAS,WAGbR,MAAO,CACL,CACEE,KAAM,OACNI,UAAU,EACVC,QAAS,qBACTC,QAAS,WAGbN,KAAM,CACJ,CACEA,KAAM,QACNI,UAAU,EACVC,QAAS,2CACTC,QAAS,WAGbL,SAAU,CACR,CACEG,UAAU,EACVC,QAAS,kCACTC,QAAS,WAGbJ,KAAM,CACJ,CAAEE,UAAU,EAAMC,QAAS,6BAA8BC,QAAS,WAIhEC,EAAa,SAAOC,GAAgC,2C,wDACxD,OAAKA,EACL,GAAMA,EAAOC,UAAS,SAACC,EAAOC,GACxBD,EACF9C,QAAQC,IAAI,WAEZD,QAAQC,IAAI,gBAAiB8C,EAEjC,KAPa,I,cACb,S,YASIQ,EAAY,SAACX,GACZA,GACLA,EAAOY,aACT,EAOA,OAAO,SAAClD,EAAUC,GAChB,IAAMoD,GAAuB,sBAAkB,aACzCC,GAAuB,sBAAkB,aACzCF,GAA0B,sBAAkB,gBAC5CO,GAAuB,sBAAkB,aACzCC,GAAqB,sBAAkB,WAE7C,OAAQ,kBAAc,iBAAaA,EAAoB,CACrDC,QAAS,cACTxC,IAAKC,EACLwC,MAAOvC,EACPU,MAAOA,EACP,cAAe,QACfpD,MAAO,gBACPkF,KAAM3C,EAAS4C,MACf,cAAe,IACd,CACDvD,SAAS,cAAS,WAAM,QACtB,iBAAa2C,EAAyB,CACpCa,MAAO,MACPC,KAAM,aACL,CACDzD,SAAS,cAAS,WAAM,QACtB,iBAAa6C,EAAsB,CACjCa,WAAY5C,EAASuK,YACrB,sBAAuB7L,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAE7C,EAAoB,YAAI6C,CAA1B,GAClEG,YAAa,SACbyB,SAAU0F,GACT,CACDjL,SAAS,cAAS,WAAM,SACrB,gBAAW,IAAO,wBAAoB,WAAW,MAAM,iBAAY,WAAOwL,IAAqB,SAACtP,GAC/F,OAAQ,kBAAc,iBAAa0G,EAAsB,CACvD7D,IAAK7C,EAAKuB,GACV+F,MAAOtH,EAAKe,KACZsG,MAAOrH,EAAKuB,IACX,KAAM,EAAG,CAAC,QAAS,SACxB,IAAI,MAPkB,IASxB6C,EAAG,GACF,EAAG,CAAC,eAjBe,IAmBxBA,EAAG,KAEL,iBAAaqC,EAAyB,KAAM,CAC1C3C,SAAS,cAAS,WAAM,QACtB,iBAAakD,EAAsB,CACjC7B,KAAM,UACN0C,QAASvE,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAC/B,EAAWf,EAAY0C,MAAxB,IACnD,CACDvD,SAAS,cAAS,WAAM,QACtB,qBAAiB,YADK,IAGxBM,EAAG,KAEL,iBAAa4C,EAAsB,CACjCa,QAASvE,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAACnB,EAAU3B,EAAY0C,MAAvB,IACnD,CACDvD,SAAS,cAAS,WAAM,QACtB,qBAAiB,SADK,IAGxBM,EAAG,IAhBiB,IAmBxBA,EAAG,IA9CiB,IAiDxBA,EAAG,GACF,EAAG,CAAC,QAAS,QAAS,QAC3B,CACA,IC9LA,MAAM,EAAc,EAEpB,I,EAAA,ICGA,QACE,EAAC,MAAiB,EAClB,EAAC,MAAuB,E,YCqDXlC,MAAM,iB,GACJA,MAAM,gB,GAcNA,MAAM,iB,GAyFf,wBAAc,YAAR,KAAC,G,SAMCA,MAAM,c,GAMTA,MAAM,iB,GACJA,MAAM,gB,SAemBA,MAAM,iB,GAwB3BA,MAAM,e,SA+BbA,MAAM,e,GAEAA,MAAM,e,6RAnPtB,iBA4QU,GA3QRwC,IAAI,WACJxC,MAAM,+BACLiF,MAAO,EAAAvC,SACPU,MAAO,EAAAA,MACR,cAAY,QACZ,iBAAe,O,wBAEf,IAce,EAdf,iBAce,GAdDgC,MAAM,SAASC,KAAK,e,wBAChC,IAYY,EAZZ,iBAYY,G,WAXD,EAAA3C,SAAS2K,Y,qCAAT,EAAA3K,SAAoB,eAC7B4K,WAAA,GACA5H,YAAY,YACZ,eAAa,qB,wBAGX,IAAqC,G,oBADvC,wBAKa,iCAJI,EAAA6H,uBAARzP,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKuB,GACV+F,MAAOtH,EAAK0P,aACZrI,MAAOrH,EAAKuB,I,uEAInB,iBAee,GAfD+F,MAAM,OAAOC,KAAK,iB,wBAC9B,IAaY,EAbZ,iBAaY,G,WAZD,EAAA3C,SAAS+K,c,qCAAT,EAAA/K,SAAsB,iBAC/B4K,WAAA,GACA5H,YAAY,UACZ,eAAa,oBACZ,SAAQ,EAAAgI,yB,wBAGP,IAAiC,G,oBADnC,wBAKa,iCAJI,EAAAC,mBAAR7P,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKuB,GACV+F,MAAOtH,EAAKc,YACZuG,MAAOrH,EAAKuB,I,iFAKD,WAAS,kBAAkB,OAAM,IAAkB,WAAS,eAAiB,WAAS,a,oBAKtG,wBAyGM,oCAxGoB,EAAAqD,SAASkL,mBAAiB,CAA1C9P,EAAMmE,M,kBADhB,wBAyGM,OAvGHtB,IAAK7C,EAAKuB,GACXW,MAAM,c,EAEN,iBAEe,GAFDoF,MAAM,OAAOpF,MAAM,e,wBAC/B,IAAuD,EAAvD,wBAAuD,kCAA9ClC,EAAKc,aAAc,KAAC,qBAAGd,EAAK+P,UAAQ,M,YAE/C,iBAqFe,GArFDzI,MAAM,OAAOpF,MAAM,+B,wBAC/B,IAmFM,EAnFN,wBAmFM,MAnFN,EAmFM,EAlFJ,wBAaM,MAbN,EAaM,EAZJ,iBAWY,G,WAVDlC,EAAKgQ,c,yBAALhQ,EAAkB,gBAC3B,eAAa,oBACZ,SAASgJ,GAAM,EAAAiH,wBAAwBjH,EAAG7E,I,wBAGzC,IAAsC,G,oBADxC,wBAKa,iCAJInE,EAAKkQ,mBAAbC,K,kBADT,iBAKa,GAHVtN,IAAKsN,EAAKtN,IACVyE,MAAO6I,EAAK9I,MACZA,MAAO8I,EAAKtN,K,oGAInB,wBAmEM,MAnEN,EAmEM,CAjEwC,SAAhB,EAAK,aAA6D,SAAhB,EAAK,aAA8D,QAAhB,EAAK,aAA0C,MAAjB,EAAK,e,kBADpK,iBA6Be,G,MAvBZ0E,KAAI,qBAAyBpD,EAAQ,SACrCmB,MAAO,C,2EAQR,IAaY,EAbZ,iBAaY,G,WAZDtF,EAAKoQ,M,yBAALpQ,EAAU,QACnBwE,MAAA,eACAoD,YAAY,QACZ,eAAa,oBACZ,SAASoB,GAAM,EAAAqH,kBAAkBrH,EAAG7E,EAAO,W,wBAG1C,IAAgC,G,oBADlC,wBAKa,iCAJGnE,EAAKsQ,cAAZC,K,kBADT,iBAKa,GAHV1N,IAAK0N,EAAIC,SACTlJ,MAAOiJ,EAAIzP,YACXuG,MAAOkJ,EAAIC,U,6IAIlB,iBAmCe,G,MAjCZjJ,KAAI,qBAAyBpD,EAAQ,SACtCjC,MAAM,8BACLoD,MAAK,C,2DAAyN,EAAM,EAAO,KAAsC,mBAAiB,EAAM,EAAO,EAAQ,K,wBAaxT,IAiBE,EAjBF,iBAiBE,G,WAhBStF,EAAKoQ,M,yBAALpQ,EAAU,QACnBwE,MAAA,eACCiM,UAAgC,WAArBzQ,EAAK0Q,YAA2B,IAAM,KACjD9I,YAAmC,EAAK,a,UAAwG,EAAK,aAAa,S,IAAuE,EAAK,aAAa,S,OAA0E,EAAK,aAAa,M,UAYvV,SAASoB,GAAM,EAAAqH,kBAAkBrH,EAAG7E,EAAO,U,qIAMtD,iBAUe,GATbmD,MAAM,OACLC,KAAI,qBAAyBpD,EAAQ,WACtCjC,MAAM,kB,wBAEN,IAIC,EAJD,iBAIC,G,WAHUlC,EAAK2Q,Q,yBAAL3Q,EAAY,UACpB,SAASgJ,GAAM,EAAAqH,kBAAkBrH,EAAG7E,EAAO,U,wBAC3C,IAAE,E,qBAAF,S,6FAM+C,IAAjC,WAAS,kBAAkB,QAAgB,WAAS,gB,kBAD3E,wBAWW,qBANT,iBAEe,GAFDmD,MAAM,OAAOC,KAAK,gB,wBAC9B,IAAc,CAAd,K,OAEF,iBAEe,GAFDD,MAAM,OAAOpF,MAAM,kB,wBAC/B,IAA8C,EAA9C,iBAA8C,GAAhC0O,UAAU,GAAI,C,uBAAE,IAAE,E,qBAAF,S,yCAGlC,wBA2FM,MA3FN,EA2FM,CAzFK,EAAAhM,SAASiM,W,mDADlB,iBAiFe,G,MA/EbvJ,MAAM,OACNpF,MAAM,+B,wBAEN,IA2EM,EA3EN,wBA2EM,MA3EN,EA2EM,EA1EJ,wBAcM,MAdN,EAcM,EAbJ,iBAYY,G,WAXD,EAAA0C,SAASoL,c,qCAAT,EAAApL,SAAsB,iBAC9BgM,SAAU,EAAAhM,SAASkM,QACpB,eAAa,oBACZ5O,OAAK,oBAAE,EAAA0C,SAASkM,QAAU,cAAgB,K,wBAGzC,IAA0C,G,oBAD5C,wBAKa,iCAJI,EAAAlM,SAASsL,mBAAjBlQ,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAK6C,IACVyE,MAAOtH,EAAKqH,MACZA,MAAOrH,EAAK6C,K,kFAIP,EAAA+B,SAASkM,S,mDAArB,wBA+CM,MA/CN,EA+CM,CA7CsB,MAAM,QAAQ,WAAS,eAAwD,KAAtB,WAAS,gB,kBAD5F,iBAqBe,G,MAhBbvJ,KAAK,sB,wBAEL,IAaY,EAbZ,iBAaY,G,WAZD,EAAA3C,SAASmM,mB,qCAAT,EAAAnM,SAA2B,sBACpCJ,MAAA,eACAoD,YAAY,QACZ,eAAa,oBACZ,SAAQ,EAAAoJ,oB,wBAGP,IAAqC,G,oBADvC,wBAKa,iCAJI,EAAApM,SAAS0L,cAAjBtQ,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKwQ,SACVlJ,MAAOtH,EAAKc,YACZuG,MAAOrH,EAAKwQ,U,sGAInB,iBAuBe,G,MAvBMjJ,KAAK,c,wBACxB,IAqBM,EArBN,wBAqBM,MArBN,EAqBM,EApBJ,iBAmBE,G,WAlBS,EAAA3C,SAASqM,W,qCAAT,EAAArM,SAAmB,cAC5BO,KAAK,OACJsL,UAAiC,WAAS,cAAqC,WAAS,aAAa,aAAqE,UAAjC,WAAS,aAAa,Y,SAO/JvO,OAAK,oBAAwB,WAAS,cAAqC,WAAS,aAAa,aAAqE,UAAjC,WAAS,aAAa,Y,mBAO3J0F,YAAa,EAAAsJ,iBACb,OAAM,EAAAC,mB,kFAMU,MAAM,QAAQ,WAAS,eAAgC,WAAS,cAA+B,WAAS,aAAa,OAAwB,WAAS,U,kBAD/K,wBAUM,MAVN,EAUM,EADJ,wBAAiE,OAAjE,GAAiE,qBAApC,EAAAvM,SAAS0L,aAAac,MAAI,O,4CAI7D,iBAOe,GAPD9J,MAAM,OAAOpF,MAAM,kB,wBAC/B,IAKC,EALD,iBAKC,G,WAJU,EAAA0C,SAASyM,W,qCAAT,EAAAzM,SAAmB,cAC3BgM,SAAU,EAAAhM,SAASkM,QACnB,SAAQ,EAAAQ,oB,wBACR,IAAE,E,qBAAF,S,0DAIP,iBAWe,GAXDhK,MAAM,OAAO9C,MAAA,gB,wBACzB,IASY,EATZ,iBASY,G,WARD,EAAAI,SAASS,K,qCAAT,EAAAT,SAAa,QACtB6L,UAAU,MACVtL,KAAK,WACJjD,OAAK,mCAAmB,EAAAqP,aACzB,qBACA3J,YAAY,kBACX,QAAK,eAAE,EAAA2J,YAAa,GACpB,OAAI,eAAE,EAAAA,YAAa,I,mFAU5B,GACE3I,MAAO,CACL4I,iBAAkB,CAChBrM,KAAM4I,OACNjK,UACE,MAAO,CAAC,CACV,GAEF2N,SAAU,CACRtM,KAAM4I,OACNjK,UACE,MAAO,CAAC,CACV,IAGJxD,OACE,MAAO,CACLiR,YAAY,EACZ3M,SAAU,CACR2K,YAAa,GACbI,cAAe,GACf+B,QAAS,GACTL,YAAY,EACZR,WAAW,EACXC,SAAS,EACTzL,KAAM,GACN2K,cAAe,QACfE,kBAAmB,CACjB,CACErN,IAAK,QACLwE,MAAO,OAGXyI,kBAAmB,GACnBjN,IAAK,CACHwC,KAAM,GACNgC,MAAO,GACP9F,GAAI,IAEN8F,MAAO,CACLA,MAAO,GACPhC,KAAM,GACNE,UAAU,GAEZpI,OAAQ,GACRwU,kBAAmB,KACnBC,eAAe,EACftB,aAAc,KACdW,WAAY,GACZF,mBAAoB,IAEtBc,OAAQC,KAAKC,OAAOhI,MAAM8H,QAAU,GACpCvM,MAAO,CACLiK,YAAa,CACX,CAAEhK,UAAU,EAAMC,QAAS,YAAaC,QAAS,WAEnDkK,cAAe,CACb,CAAEpK,UAAU,EAAMC,QAAS,UAAWC,QAAS,WAEjDsL,mBAAoB,CAClB,CAAExL,UAAU,EAAMC,QAAS,UAAWC,QAAS,SAEjDwL,WAAY,CACV,CAAE1L,UAAU,EAAMC,QAAS,UAAWC,QAAS,QAC/C,CACEuM,UAAW,CAACC,EAAM5K,EAAO6K,KACvB,MAAM5R,EAAO,CACXgQ,aAAcwB,KAAKlN,SAAS0L,aAC5BI,YAAaoB,KAAKlN,SAAS0L,aAAaI,aAE1CoB,KAAKK,iBAAiB7R,EAAM+G,EAAO6K,EAAS,EAE9CzM,QAAS,UAIfgK,sBAAuB,GACvBI,kBAAmB,GACnBqB,iBAAkB,GAClBkB,SAAUN,KAAKL,SAEnB,EACA7C,MAAO,CACL,uBAAwB,CACtByD,QAAQrD,EAAKsD,GAEX,GADAvP,QAAQC,IAAIgM,EAAK,UACbA,EAAK,CACHsD,GAAOtD,IAAQsD,IACjBR,KAAKM,SAAW,CAAC,GAEnB,MAAMG,EAAMT,KAAKrC,sBAAsB+C,QAAQxS,GACtCA,EAAKuB,KAAOyN,IAErB8C,KAAKlN,SAAS8M,QAAUa,EAAI,GAAG7C,aAC/BoC,KAAKlN,SAAS8K,aAAe6C,EAAI,GAAG7C,aACpCoC,KAAKlN,SAAS6N,aAAeF,EAAI,GAAGE,aACpCX,KAAKY,qBACP,CACF,EACAC,WAAW,EACX9D,MAAM,IAGV+D,UACEd,KAAKe,0BACLnE,EAAgBoD,KAAKgB,MAAOhB,KAAKlN,SACnC,EACAmO,QAAS,CAEPzB,mBAAmBtI,GACjB8I,KAAKlN,SAASyC,MAAM9B,SAAWyD,CACjC,EAEAiH,wBAAwBjH,EAAG7E,GACzB2N,KAAKlN,SAASzH,OAAOgH,GAAO6L,cAAgBhH,EAC5C8I,KAAKkB,cACP,EAEAH,0BACE,IAAII,EAEFA,EADkB,kBAAhBnB,KAAKD,OACD,6DAEA,0DAER,OAAW,OAAQoB,GAChBC,MAAMC,IACL,GAAoB,UAAhBA,EAAIC,QAEN,OADAtB,KAAKrC,sBAAwB0D,EAAI7S,MAC1B,CACT,IAED4S,MAAK,KACkC,OAAlClN,KAAKK,UAAUyL,KAAKM,YACtBN,KAAKlN,SAAS2K,YAAcuC,KAAKM,SAAS7C,YAC5C,GAEN,EAEAmD,sBACE,IAAIO,EAEFA,EADkB,kBAAhBnB,KAAKD,OAEL,mFAGA,gFAEJ,OAAW,OAAQoB,EAAK,CACtBI,WAAYvB,KAAKlN,SAAS2K,cAEzB2D,MAAMC,IACL,GAAoB,UAAhBA,EAAIC,QA6BN,OA5BAD,EAAI7S,KAAKgT,KAAKtT,IACZ+C,QAAQC,IAAIhD,EAAKmF,MACA,SAAbnF,EAAKmF,OACPnF,EAAKc,YAAc,OAASd,EAAKc,aAElB,eAAbd,EAAKmF,OACPnF,EAAKc,YAAc,MAAQd,EAAKc,YAClC,IAEFgR,KAAKjC,kBAAoBsD,EAAI7S,KAC7BwR,KAAKyB,WAAU,KACbzB,KAAK0B,MAAMC,SAASC,cAAc,iBAClC5B,KAAKlN,SAASgN,eAAgB,EAC9BE,KAAKlN,SAASiM,WAAY,EAC1BiB,KAAKlN,SAASkL,kBAAoB,GAClCgC,KAAKlN,SAASzH,OAAS,GACvB2U,KAAKlN,SAAS+M,kBAAoB,KAClCG,KAAKlN,SAAS0L,aAAe,KAC7BwB,KAAKlN,SAASqM,WAAa,GAC3Ba,KAAKlN,SAASmM,mBAAqB,GACnCe,KAAKlN,SAASsL,kBAAoB,CAChC,CACErN,IAAK,QACLwE,MAAO,MAEV,IAEHyK,KAAKlN,SAAS+K,cAAgB,IACvB,CACT,IAEDuD,MAAK,KACkC,OAAlClN,KAAKK,UAAUyL,KAAKM,YACtBN,KAAKlN,SAAS+K,cAAgBmC,KAAKM,SAASvP,IAAItB,GAChDuQ,KAAKlC,wBAAwBkC,KAAKlN,SAAS+K,eAC7C,GAEN,EACAC,wBAAwB5G,GACtBjG,QAAQC,IAAI,OAAQgG,GACpB8I,KAAK0B,MAAMC,SAASC,gBAEgB,OAAlC1N,KAAKK,UAAUyL,KAAKM,WACpBpJ,IAAM8I,KAAKM,SAASvP,IAAItB,KAExBuQ,KAAKM,SAAW,CAAC,GAEnBN,KAAKlN,SAASkL,kBAAoB,GAClCgC,KAAKlN,SAASgN,eAAgB,EAC9BE,KAAKlN,SAASoL,cAAgB,QAC9B8B,KAAKlN,SAASsL,kBAAoB,CAChC,CACErN,IAAK,QACLwE,MAAO,OAGXyK,KAAKlN,SAAS+M,kBAAoB,KAClCG,KAAKlN,SAAS0L,aAAe,KAC7BwB,KAAKlN,SAASqM,WAAa,GAC3Ba,KAAKlN,SAASmM,mBAAqB,GACnCe,KAAKlN,SAASyM,YAAa,EAC3BS,KAAKlN,SAASzH,OAAS,GACvB,MAAMmD,EAAOwR,KAAKjC,kBAAkB2C,QAAQxS,GACnCA,EAAKuB,KAAOyH,IAErB,GAAqB,aAAjB1I,EAAK,GAAG6E,KAaV,GAZA2M,KAAKlN,SAASgN,eAAgB,EAC9BE,KAAKlN,SAASzH,OAAS,GACvB2U,KAAKhB,SAAU,EACfgB,KAAKjB,WAAY,EACjBiB,KAAKlN,SAAS/B,IAAM,CAClBwC,KAAM/E,EAAK,GAAGQ,YACduG,MAAO/G,EAAK,GAAGS,KACfQ,GAAIjB,EAAK,GAAGiB,IAEwB,OAAlCyE,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KAAK7B,KAAKlN,SAAU,OAAQkN,KAAKM,SAAS/M,MAE1B,OAAnB/E,EAAK,GAAGsT,QAAkB,CAC5B,MAAMC,EAAQ7N,KAAKC,MAAM3F,EAAK,GAAGwT,UACjChC,KAAKZ,iBACH,MACA2C,EAAME,SACN,IACAF,EAAMG,SACN,OACAH,EAAMI,KACRnC,KAAKlN,SAAS0L,aAAeuD,EAC7B/B,KAAKlN,SAAS0L,aAAaI,YAAcpQ,EAAK,GAAGsT,QACjD9B,KAAKlN,SAASsL,kBAAoB,CAChC,CACErN,IAAK,cACLwE,MAAO,MAET,CACExE,IAAK,QACLwE,MAAO,MAET,CACExE,IAAK,WACLwE,MAAO,OAG2B,OAAlCrB,KAAKK,UAAUyL,KAAKM,YACtBN,KAAK6B,KAAK7B,KAAKlN,SAAU,aAAckN,KAAKM,SAAS/K,MAAMA,OAC3DyK,KAAK6B,KAAK7B,KAAKlN,SAAU,QAASkN,KAAKM,SAAS/K,OAChDyK,KAAK6B,KACH7B,KAAKlN,SACL,gBACAkN,KAAKM,SAASpC,eAEhB8B,KAAK6B,KACH7B,KAAKlN,SACL,aACAkN,KAAKM,SAAS/K,MAAM9B,UAG1B,MAAO,GAAuB,QAAnBjF,EAAK,GAAGsT,SAAwC,QAAnBtT,EAAK,GAAGsT,QAAmB,CACjE,MAAMC,EAAQ7N,KAAKC,MAAM3F,EAAK,GAAGwT,UACjCD,EAAMP,KAAKtT,IACoB,kBAAlBA,EAAKwQ,WACdxQ,EAAKwQ,SAAWxQ,EAAKwQ,SAAS0D,WAChC,IAEFpC,KAAKlN,SAAS0L,aAAeuD,EAEN,QAAnBvT,EAAK,GAAGsT,UACV9B,KAAKlN,SAASsL,kBAAoB,CAChC,CACErN,IAAK,QACLwE,MAAO,QAIU,QAAnB/G,EAAK,GAAGsT,UACV9B,KAAKlN,SAASsL,kBAAoB,CAChC,CACErN,IAAK,QACLwE,MAAO,MAET,CACExE,IAAK,UACLwE,MAAO,SAIyB,OAAlCrB,KAAKK,UAAUyL,KAAKM,YACtBN,KAAK6B,KACH7B,KAAKlN,SACL,qBACAkN,KAAKM,SAAS/K,MAAMA,OAEtByK,KAAK6B,KAAK7B,KAAKlN,SAAU,QAASkN,KAAKM,SAAS/K,OAChDyK,KAAK6B,KACH7B,KAAKlN,SACL,gBACAkN,KAAKM,SAASpC,eAEhB8B,KAAK6B,KACH7B,KAAKlN,SACL,aACAkN,KAAKM,SAAS/K,MAAM9B,UAG1B,MAAO,GAAuB,UAAnBjF,EAAK,GAAGsT,QAAqB,CACtC,MAAMC,EAAQ7N,KAAKC,MAAM3F,EAAK,GAAGwT,UACjChC,KAAKlN,SAASsL,kBAAoB,CAChC,CACErN,IAAK,cACLwE,MAAO,MAET,CACExE,IAAK,QACLwE,MAAO,MAET,CACExE,IAAK,WACLwE,MAAO,OAGXyK,KAAKZ,iBACH,MACA2C,EAAME,SACN,IACAF,EAAMG,SACN,OACAH,EAAMI,KACRnC,KAAKlN,SAAS0L,aAAeuD,EAC7B/B,KAAKlN,SAAS0L,aAAaI,YAAcpQ,EAAK,GAAGsT,QACX,OAAlC5N,KAAKK,UAAUyL,KAAKM,YACtBN,KAAK6B,KAAK7B,KAAKlN,SAAU,aAAckN,KAAKM,SAAS/K,MAAMA,OAC3DyK,KAAK6B,KACH7B,KAAKlN,SACL,gBACAkN,KAAKM,SAASpC,eAEhB8B,KAAK6B,KAAK7B,KAAKlN,SAAU,QAASkN,KAAKM,SAAS/K,OAChDyK,KAAK6B,KACH7B,KAAKlN,SACL,aACAkN,KAAKM,SAAS/K,MAAM9B,UAG1B,KAA8B,UAAnBjF,EAAK,GAAGsT,eACQlJ,IAArBpK,EAAK,GAAGwT,SACVhC,KAAKlN,SAAS0L,aAAe,CAAC,EAE9BwB,KAAKlN,SAAS0L,aAAetK,KAAKC,MAAM3F,EAAK,GAAGwT,UAElDhC,KAAKlN,SAASsL,kBAAoB,CAChC,CACErN,IAAK,cACLwE,MAAO,MAET,CACExE,IAAK,QACLwE,MAAO,MAET,CACExE,IAAK,WACLwE,MAAO,MAET,CACExE,IAAK,mBACLwE,MAAO,SAET,CACExE,IAAK,UACLwE,MAAO,OAET,CACExE,IAAK,gBACLwE,MAAO,UAGXyK,KAAKZ,iBAAmB,GACxBY,KAAKlN,SAAS0L,aAAaI,YAAc,SACH,OAAlC1K,KAAKK,UAAUyL,KAAKM,YACtBN,KAAK6B,KAAK7B,KAAKlN,SAAU,aAAckN,KAAKM,SAAS/K,MAAMA,OAC3DyK,KAAK6B,KAAK7B,KAAKlN,SAAU,QAASkN,KAAKM,SAAS/K,OAChDyK,KAAK6B,KACH7B,KAAKlN,SACL,gBACAkN,KAAKM,SAASpC,eAEhB8B,KAAK6B,KACH7B,KAAKlN,SACL,aACAkN,KAAKM,SAAS/K,MAAM9B,YAKP,gBAAjBjF,EAAK,GAAG6E,MACV2M,KAAKlN,SAAS/B,IAAM,CAClBwC,KAAM/E,EAAK,GAAG6T,eACd9M,MAAO/G,EAAK,GAAGS,KACfQ,GAAIjB,EAAK,GAAGiB,GACZ4D,KAAM,eAE8B,OAAlCa,KAAKK,UAAUyL,KAAKM,YACtBN,KAAK6B,KAAK7B,KAAKlN,SAAU,OAAQkN,KAAKM,SAAS/M,MAC/CyM,KAAK6B,KAAK7B,KAAKlN,SAAU,SAAUkN,KAAKM,SAASjV,SAEnD2U,KAAKlN,SAASgN,eAAgB,EAC9BE,KAAKlN,SAASkL,kBAAoBxP,EAAK,GAAG8T,2BACtC9T,EAAK,GAAG8T,2BACR,GACAtC,KAAKlN,SAASkL,kBAAkB3R,OAAS,EAC3C2T,KAAKlN,SAASkL,kBAAkBwD,KAAI,CAACtT,EAAMmE,KACzC2N,KAAK6B,KAAK3T,EAAM,QAAS,IACzB,MAAMqU,EAAU,CACdhP,KAAMrF,EAAKc,YACX+B,IAAK,CACHwC,KAAMrF,EAAKc,YACXS,GAAIvB,EAAKuB,GACT4D,KAAM,cACNkC,MAAOrH,EAAK+P,UAEduE,YAAa,MACbtE,cAAe,QACf3I,MAAO,CACLhC,KAAM,GACNE,UAAU,EACV8B,MAAO,KAMX,GAHsC,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAKlN,SAASzH,OAAOiG,KAAKiR,GAEJ,QAApBrU,EAAK0Q,YAAuB,CAC9B,GAAI1Q,EAAK8T,SAAU,CACjB,MAAMxT,EAAOwR,KAAKyC,YAAYvU,EAAK8T,UAC/B9N,KAAKC,MAAMjG,EAAK8T,UAChB,GACJxT,EAAKgT,KAAKkB,IACsB,kBAAnBA,EAAMhE,WACfgE,EAAMhE,SAAWgE,EAAMhE,SAAW,GACpC,IAEFxQ,EAAKsQ,aAAehQ,CACtB,CACAN,EAAK4H,YAAc,QACnB5H,EAAKkQ,kBAAoB,CACvB,CACErN,IAAK,QACLwE,MAAO,MAET,CACExE,IAAK,UACLwE,MAAO,QAG2B,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KACH3T,EACA,QACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAMA,OAEpCyK,KAAK6B,KACH3T,EACA,gBACA8R,KAAKM,SAASjV,OAAOgH,GAAO6L,eAE9B8B,KAAK6B,KACH3T,EACA,UACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAM9B,UAEpCuM,KAAK6B,KAAK3T,EAAM,QAAS8R,KAAKM,SAAS/K,OACvCyK,KAAK6B,KAAK3T,EAAM,SAAU8R,KAAKM,SAASjV,UAExC6C,EAAKgQ,cAAgB,QACrBhQ,EAAK2Q,SAAU,EAEnB,MAAO,GAAwB,UAApB3Q,EAAK0Q,YACV1Q,EAAK8T,UACP9T,EAAKsQ,aAAewB,KAAKyC,YAAYvU,EAAK8T,UACtC9N,KAAKC,MAAMjG,EAAK8T,UAChB,GACJ9T,EAAK4H,YACH,MACA5H,EAAKsQ,aAAayD,SAClB,IACA/T,EAAKsQ,aAAa0D,SAClB,OACAhU,EAAKsQ,aAAa2D,KACpBjU,EAAKoR,KAAOpR,EAAKsQ,aAAac,KAC1BpR,EAAKsQ,aAAac,KAClB,IAEJpR,EAAK4H,YAAc,SAErB5H,EAAKkQ,kBAAoB,CACvB,CACErN,IAAK,cACLwE,MAAO,MAET,CACExE,IAAK,QACLwE,MAAO,MAET,CACExE,IAAK,WACLwE,MAAO,MAET,CACExE,IAAK,mBACLwE,MAAO,SAET,CACExE,IAAK,UACLwE,MAAO,OAET,CACExE,IAAK,gBACLwE,MAAO,UAG2B,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KACH3T,EACA,QACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAMA,OAEpCyK,KAAK6B,KACH3T,EACA,gBACA8R,KAAKM,SAASjV,OAAOgH,GAAO6L,eAE9B8B,KAAK6B,KACH3T,EACA,UACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAM9B,UAEpCuM,KAAK6B,KAAK3T,EAAM,QAAS8R,KAAKM,SAAS/K,OACvCyK,KAAK6B,KAAK3T,EAAM,SAAU8R,KAAKM,SAASjV,UAExC6C,EAAKgQ,cAAgB,QACrBhQ,EAAK2Q,SAAU,QAEZ,GAAwB,QAApB3Q,EAAK0Q,YAAuB,CACrC,GAAI1Q,EAAK8T,SAAU,CACjB,MAAMxT,EAAOwR,KAAKyC,YAAYvU,EAAK8T,UAC/B9N,KAAKC,MAAMjG,EAAK8T,UAChB,GACJxT,EAAKgT,KAAKkB,IACsB,kBAAnBA,EAAMhE,WACfgE,EAAMhE,SAAWgE,EAAMhE,SAAW,GACpC,IAEFxQ,EAAKsQ,aAAehQ,CACtB,CACAN,EAAK4H,YAAc,QACnB5H,EAAKkQ,kBAAoB,CACvB,CACErN,IAAK,QACLwE,MAAO,OAG2B,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KACH3T,EACA,QACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAMA,OAEpCyK,KAAK6B,KACH3T,EACA,gBACA8R,KAAKM,SAASjV,OAAOgH,GAAO6L,eAE9B8B,KAAK6B,KACH3T,EACA,UACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAM9B,UAEpCuM,KAAK6B,KAAK3T,EAAM,QAAS8R,KAAKM,SAAS/K,OACvCyK,KAAK6B,KAAK3T,EAAM,SAAU8R,KAAKM,SAASjV,UAExC6C,EAAKgQ,cAAgB,QACrBhQ,EAAK2Q,SAAU,EAEnB,MAAW3Q,EAAK0Q,YACV1Q,EAAK8T,UACP9T,EAAKsQ,aAAewB,KAAKyC,YAAYvU,EAAK8T,UACtC9N,KAAKC,MAAMjG,EAAK8T,UAChB,GACJ9T,EAAK4H,YACH,MACA5H,EAAKsQ,aAAayD,SAClB,IACA/T,EAAKsQ,aAAa0D,SAClB,OACAhU,EAAKsQ,aAAa2D,KACpBjU,EAAKoR,KAAOpR,EAAKsQ,aAAac,KAC1BpR,EAAKsQ,aAAac,KAClB,IAEJpR,EAAK4H,YAAc,MAErB5H,EAAKkQ,kBAAoB,CACvB,CACErN,IAAK,cACLwE,MAAO,MAET,CACExE,IAAK,QACLwE,MAAO,MAET,CACExE,IAAK,WACLwE,MAAO,OAG2B,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KACH3T,EACA,QACAyU,OAAO3C,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAMA,QAE3CyK,KAAK6B,KACH3T,EACA,gBACA8R,KAAKM,SAASjV,OAAOgH,GAAO6L,eAE9B8B,KAAK6B,KACH3T,EACA,UACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAM9B,UAEpCuM,KAAK6B,KAAK3T,EAAM,QAAS8R,KAAKM,SAAS/K,OACvCyK,KAAK6B,KAAK3T,EAAM,SAAU8R,KAAKM,SAASjV,UAExC6C,EAAKgQ,cAAgB,QACrBhQ,EAAK2Q,SAAU,EAwDnB,IAGFmB,KAAKlN,SAASzH,OAAS,IAGzB2U,KAAKlN,SAASgN,eAAgB,EAEZ,WAAhBtR,EAAK,GAAG6E,MACV2M,KAAKlN,SAASiM,WAAY,EAC1BiB,KAAKlN,SAAS/B,IAAM,CAClBwC,KAAM/E,EAAK,GAAG6T,eACd9M,MAAO/G,EAAK,GAAGS,KACfQ,GAAIjB,EAAK,GAAGiB,GACZ4D,KAAM,WAE8B,OAAlCa,KAAKK,UAAUyL,KAAKM,YACtBN,KAAK6B,KAAK7B,KAAKlN,SAAU,OAAQkN,KAAKM,SAAS/M,MAC/CyM,KAAK6B,KAAK7B,KAAKlN,SAAU,SAAUkN,KAAKM,SAASjV,SAEnD2U,KAAKlN,SAASkL,kBAAoBxP,EAAK,GAAG8T,2BACtC9T,EAAK,GAAG8T,2BACR,GACAtC,KAAKlN,SAASkL,kBAAkB3R,OAAS,EAC3C2T,KAAKlN,SAASkL,kBAAkBwD,KAAI,CAACtT,EAAMmE,KACzC2N,KAAK6B,KAAK3T,EAAM,QAAS,IACzB,MAAMqU,EAAU,CACdhP,KAAMrF,EAAKc,YACX+B,IAAK,CACHwC,KAAMrF,EAAKc,YACXS,GAAIvB,EAAKuB,GACT4D,KAAM,UACNkC,MAAOrH,EAAK+P,UAEduE,YAAa,MACbtE,cAAe,QACf3I,MAAO,CACLhC,KAAM,GACNE,UAAU,EACV8B,MAAO,KAMX,GAHsC,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAKlN,SAASzH,OAAOiG,KAAKiR,GAEJ,QAApBrU,EAAK0Q,YAAuB,CAC9B,GAAI1Q,EAAK8T,SAAU,CACjB,MAAMxT,EAAOwR,KAAKyC,YAAYvU,EAAK8T,UAC/B9N,KAAKC,MAAMjG,EAAK8T,UAChB,GACJxT,EAAKgT,KAAKkB,IACsB,kBAAnBA,EAAMhE,WACfgE,EAAMhE,SAAWgE,EAAMhE,SAAW,GACpC,IAEFxQ,EAAKsQ,aAAehQ,CACtB,CACAN,EAAK4H,YAAc,QACnB5H,EAAKkQ,kBAAoB,CACvB,CACErN,IAAK,QACLwE,MAAO,MAET,CACExE,IAAK,UACLwE,MAAO,QAG2B,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KACH3T,EACA,QACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAMA,OAEpCyK,KAAK6B,KACH3T,EACA,gBACA8R,KAAKM,SAASjV,OAAOgH,GAAO6L,eAE9B8B,KAAK6B,KACH3T,EACA,UACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAM9B,UAEpCuM,KAAK6B,KAAK3T,EAAM,QAAS8R,KAAKM,SAAS/K,OACvCyK,KAAK6B,KAAK3T,EAAM,SAAU8R,KAAKM,SAASjV,UAExC6C,EAAKgQ,cAAgB,QACrBhQ,EAAK2Q,SAAU,EAEnB,MAAO,GAAwB,UAApB3Q,EAAK0Q,YACV1Q,EAAK8T,UACP9T,EAAKsQ,aAAewB,KAAKyC,YAAYvU,EAAK8T,UACtC9N,KAAKC,MAAMjG,EAAK8T,UAChB,GACJ9T,EAAK4H,YACH,MACA5H,EAAKsQ,aAAayD,SAClB,IACA/T,EAAKsQ,aAAa0D,SAClB,OACAhU,EAAKsQ,aAAa2D,KACpBjU,EAAKoR,KAAOpR,EAAKsQ,aAAac,KAC1BpR,EAAKsQ,aAAac,KAClB,IAEJpR,EAAK4H,YAAc,SAErB5H,EAAKkQ,kBAAoB,CACvB,CACErN,IAAK,cACLwE,MAAO,MAET,CACExE,IAAK,QACLwE,MAAO,MAET,CACExE,IAAK,WACLwE,MAAO,MAET,CACExE,IAAK,mBACLwE,MAAO,SAET,CACExE,IAAK,UACLwE,MAAO,OAET,CACExE,IAAK,gBACLwE,MAAO,UAG2B,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KACH3T,EACA,QACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAMA,OAEpCyK,KAAK6B,KACH3T,EACA,gBACA8R,KAAKM,SAASjV,OAAOgH,GAAO6L,eAE9B8B,KAAK6B,KACH3T,EACA,UACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAM9B,UAEpCuM,KAAK6B,KAAK3T,EAAM,QAAS8R,KAAKM,SAAS/K,OACvCyK,KAAK6B,KAAK3T,EAAM,SAAU8R,KAAKM,SAASjV,UAExC6C,EAAKgQ,cAAgB,QACrBhQ,EAAK2Q,SAAU,QAEZ,GAAwB,QAApB3Q,EAAK0Q,YAAuB,CACrC,GAAI1Q,EAAK8T,SAAU,CACjB,MAAMxT,EAAOwR,KAAKyC,YAAYvU,EAAK8T,UAC/B9N,KAAKC,MAAMjG,EAAK8T,UAChB,GACJxT,EAAKgT,KAAKkB,IACsB,kBAAnBA,EAAMhE,WACfgE,EAAMhE,SAAWgE,EAAMhE,SAAW,GACpC,IAEFxQ,EAAKsQ,aAAehQ,CACtB,CACAN,EAAK4H,YAAc,QACnB5H,EAAKkQ,kBAAoB,CACvB,CACErN,IAAK,QACLwE,MAAO,OAG2B,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KACH3T,EACA,QACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAMA,OAEpCyK,KAAK6B,KACH3T,EACA,gBACA8R,KAAKM,SAASjV,OAAOgH,GAAO6L,eAE9B8B,KAAK6B,KACH3T,EACA,UACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAM9B,UAEpCuM,KAAK6B,KAAK3T,EAAM,QAAS8R,KAAKM,SAAS/K,OACvCyK,KAAK6B,KAAK3T,EAAM,SAAU8R,KAAKM,SAASjV,UAExC6C,EAAKgQ,cAAgB,QACrBhQ,EAAK2Q,SAAU,EAEnB,MAAO,GAAwB,OAApB3Q,EAAK0Q,YACd,GAA0B,MAAtB1Q,EAAK0U,aAAsB,CAC7B,GAAI1U,EAAK2U,iBAAkB,CACzB,MAAMrU,EAAOwR,KAAKyC,YAAYvU,EAAK2U,kBAC/B3O,KAAKC,MAAMjG,EAAK2U,kBAChB,GACJrU,EAAKgT,KAAKkB,IACsB,kBAAnBA,EAAMhE,WACfgE,EAAMhE,SAAWgE,EAAMhE,SAAW,GACpC,IAEFxQ,EAAKsQ,aAAehQ,CACtB,CACAN,EAAK4H,YAAc,QACnB5H,EAAKkQ,kBAAoB,CACvB,CACErN,IAAK,QACLwE,MAAO,MAET,CACExE,IAAK,UACLwE,MAAO,QAG2B,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KACH3T,EACA,QACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAMA,OAEpCyK,KAAK6B,KACH3T,EACA,gBACA8R,KAAKM,SAASjV,OAAOgH,GAAO6L,eAE9B8B,KAAK6B,KACH3T,EACA,UACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAM9B,UAEpCuM,KAAK6B,KAAK3T,EAAM,QAAS8R,KAAKM,SAAS/K,OACvCyK,KAAK6B,KAAK3T,EAAM,SAAU8R,KAAKM,SAASjV,UAExC6C,EAAKgQ,cAAgB,QACrBhQ,EAAK2Q,SAAU,EAEnB,MACM3Q,EAAK8T,UACP9T,EAAKsQ,aAAewB,KAAKyC,YAAYvU,EAAK8T,UACtC9N,KAAKC,MAAMjG,EAAK8T,UAChB,GACJ9T,EAAK4H,YACH,MACA5H,EAAKsQ,aAAayD,SAClB,IACA/T,EAAKsQ,aAAa0D,SAClB,OACAhU,EAAKsQ,aAAa2D,KACpBjU,EAAKoR,KAAOpR,EAAKsQ,aAAac,KAC1BpR,EAAKsQ,aAAac,KAClB,IAEJpR,EAAK4H,YAAc,MAErB5H,EAAKkQ,kBAAoB,CACvB,CACErN,IAAK,cACLwE,MAAO,MAET,CACExE,IAAK,QACLwE,MAAO,MAET,CACExE,IAAK,WACLwE,MAAO,OAG2B,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KACH3T,EACA,QACAyU,OAAO3C,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAMA,QAE3CyK,KAAK6B,KACH3T,EACA,gBACA8R,KAAKM,SAASjV,OAAOgH,GAAO6L,eAE9B8B,KAAK6B,KACH3T,EACA,UACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAM9B,UAEpCuM,KAAK6B,KAAK3T,EAAM,QAAS8R,KAAKM,SAAS/K,OACvCyK,KAAK6B,KAAK3T,EAAM,SAAU8R,KAAKM,SAASjV,UAExC6C,EAAKgQ,cAAgB,QACrBhQ,EAAK2Q,SAAU,QAIf3Q,EAAK8T,UACP9T,EAAKsQ,aAAewB,KAAKyC,YAAYvU,EAAK8T,UACtC9N,KAAKC,MAAMjG,EAAK8T,UAChB,GACJ9T,EAAK4H,YACH,MACA5H,EAAKsQ,aAAayD,SAClB,IACA/T,EAAKsQ,aAAa0D,SAClB,OACAhU,EAAKsQ,aAAa2D,KACpBjU,EAAKoR,KAAOpR,EAAKsQ,aAAac,KAC1BpR,EAAKsQ,aAAac,KAClB,IAEJpR,EAAK4H,YAAc,MAErB5H,EAAKkQ,kBAAoB,CACvB,CACErN,IAAK,cACLwE,MAAO,MAET,CACExE,IAAK,QACLwE,MAAO,MAET,CACExE,IAAK,WACLwE,MAAO,OAG2B,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KACH3T,EACA,QACAyU,OAAO3C,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAMA,QAE3CyK,KAAK6B,KACH3T,EACA,gBACA8R,KAAKM,SAASjV,OAAOgH,GAAO6L,eAE9B8B,KAAK6B,KACH3T,EACA,UACA8R,KAAKM,SAASjV,OAAOgH,GAAOkD,MAAM9B,UAEpCuM,KAAK6B,KAAK3T,EAAM,QAAS8R,KAAKM,SAAS/K,OACvCyK,KAAK6B,KAAK3T,EAAM,SAAU8R,KAAKM,SAASjV,UAExC6C,EAAKgQ,cAAgB,QACrBhQ,EAAK2Q,SAAU,EAEnB,IAGFmB,KAAKlN,SAASzH,OAAS,IAGzB2U,KAAKlN,SAASiM,WAAY,EAER,SAAhBvQ,EAAK,GAAG6E,MACV2M,KAAKlN,SAASkM,SAAU,EACxBgB,KAAKlN,SAASzH,OAAS,GACvB2U,KAAKlN,SAAS/B,IAAM,CAClBwC,KAAM/E,EAAK,GAAGQ,YACduG,MAAO/G,EAAK,GAAGS,KACfQ,GAAIjB,EAAK,GAAGiB,IAEduQ,KAAKlN,SAASyC,MAAQ,CACpBhC,KAAM,GACNE,UAAU,EACV8B,MAAO,IAE6B,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KAAK7B,KAAKlN,SAAU,OAAQkN,KAAKM,SAAS/M,OAGjDyM,KAAKlN,SAASkM,SAAU,CAE5B,EACAyD,YAAYK,GACV,GAAkB,iBAAPA,EACT,IACE,IAAIC,EAAM7O,KAAKC,MAAM2O,GAErB,OADA7R,QAAQC,IAAI6R,IACL,CAGT,CAFE,MAAO7L,GACP,OAAO,CACT,CAEJ,EAEAmJ,iBAAiBnS,EAAMqH,EAAO6K,GAC5B,GAAIlS,EAAKsQ,cAAgBjJ,EAAO,CAoB9B,GAnByB,WAArBrH,EAAK0Q,cACFoB,KAAKgD,gBAAgBC,SAAS1N,EAAO,IACxC6K,EAAS,WAEP8C,WAAW3N,GAAS2N,WAAWhV,EAAKsQ,aAAayD,WAGnDiB,WAAW3N,GAAS2N,WAAWhV,EAAKsQ,aAAa0D,WAIjDgB,WAAW3N,GAAS2N,WAAWhV,EAAKsQ,aAAa2D,QACjD,EAPA/B,EAAS,oBAWTA,KAGqB,QAArBlS,EAAK0Q,YAAuB,CAC9B,IAAIuE,EAAM,WACLA,EAAIpY,KAAKwK,IACZ6K,EAAS,WAEXnP,QAAQC,IAAIyR,OAAOpN,GAAQoN,OAAOzU,EAAKsQ,aAAayD,WAChDU,OAAOpN,GAASoN,OAAOzU,EAAKsQ,aAAayD,WAElCU,OAAOpN,GAASoN,OAAOzU,EAAKsQ,aAAa0D,WAEzCS,OAAOpN,GAASoN,OAAOzU,EAAKsQ,aAAa2D,QAAU,EAH5D/B,EAAS,oBAMTA,GAEJ,CACyB,WAArBlS,EAAK0Q,aACPwB,GAEJ,MACEA,GAEJ,EAEA7B,kBAAkBrH,EAAG7E,EAAOgB,GACb,WAATA,EACF2M,KAAKlN,SAASkL,kBAAkB3L,GAAOmM,aAAakC,QAAQxS,IACtDA,EAAKwQ,WAAaxH,IACpB8I,KAAKlN,SAASzH,OAAOgH,GAAOkD,MAAQ,CAClChC,KAAMrF,EAAKc,YACXyE,SAAUuM,KAAKlN,SAASkL,kBAAkB3L,GAAOwM,QACjDtJ,MAAO2B,GAEX,IAEgB,UAAT7D,EACT2M,KAAKlN,SAASzH,OAAOgH,GAAOkD,MAAQ,CAClChC,KAAM2D,EACNzD,SAAUuM,KAAKlN,SAASkL,kBAAkB3L,GAAOwM,QACjDtJ,MAAO2B,IAGT8I,KAAK6B,KAAK7B,KAAKlN,SAASkL,kBAAkB3L,GAAQ,UAAW6E,GAC7D8I,KAAKlN,SAASzH,OAAOgH,GAAOkD,MAAM9B,SAAWyD,EAC7C8I,KAAKkB,eAET,EACAkC,gBACEpD,KAAK0B,MAAMC,SAASlN,aACtB,EAEAyK,mBAAmBhI,GACbA,GACF8I,KAAK0B,MAAMC,SAASC,cAAc,sBAEpC,MAAMpT,EAAOwR,KAAKlN,SAAS0L,aAAakC,QAAQxS,GACvCA,EAAKwQ,WAAaxH,IAE3B8I,KAAKlN,SAASyC,MAAQ,CACpBhC,KAAM/E,EAAK,GAAGQ,YACduG,MAAO2B,EACPzD,SAAUuM,KAAKlN,SAASyM,WAE5B,EACA8D,2BAA2BnM,GACzB,MAAM1I,EAAOwR,KAAKlN,SAAS+M,kBAAkBa,QAAQxS,GAC5CA,EAAKwQ,WAAaxH,IAE3B8I,KAAKlN,SAASwQ,KAAK,GAAG/N,MAAQ,CAC5BhC,KAAM/E,EAAK,GAAGQ,YACduG,MAAO2B,EACPzD,SAAUuM,KAAKlN,SAASyM,WAE5B,EACAgE,qBAAqBrM,GACnB,IAAI3D,EACAyM,KAAKlN,SAAS0L,aAAac,OAC7B/L,EAAO2D,EAAE7I,OAAOkH,MAAQyK,KAAKlN,SAAS0L,aAAac,MAErDU,KAAKlN,SAASwQ,KAAK,GAAG/N,MAAQ,CAC5BhC,KAAMA,EACNgC,MAAO2B,EAAE7I,OAAOkH,MAChB9B,SAAUuM,KAAKlN,SAASyM,WAE5B,EACAF,kBAAkBnI,GAChB,IAAI3D,EAEFA,EADEyM,KAAKlN,SAAS0L,aAAac,KACtBpI,EAAE7I,OAAOkH,MAAQyK,KAAKlN,SAAS0L,aAAac,KAE5CpI,EAAE7I,OAAOkH,MAElByK,KAAKlN,SAASyC,MAAQ,CACpBhC,KAAMA,EACNgC,MAAO2B,EAAE7I,OAAOkH,MAChB9B,SAAUuM,KAAKlN,SAASyM,WAE5B,I,UCl9CJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASvP,KAEpE,Q,SCsBQ,wBAAoC,QAA9B0C,MAAA,kBAAsB,KAAC,G,GAc7B,wBAAuC,QAAjCA,MAAA,uBAAyB,KAAC,G,sSApCtC,iBAqEU,GApERE,IAAI,WACHyC,MAAO,EAAAE,MACRnF,MAAM,cACN,cAAY,QACZ,iBAAe,O,wBAEf,IA+BM,EA/BN,wBA+BM,aA9BJ,iBA6Be,GA7BDoF,MAAM,OAAOpF,MAAM,iB,wBAC/B,IAYY,EAZZ,iBAYY,G,WAXD,EAAAmF,MAAMiO,M,qCAAN,EAAAjO,MAAW,SACpB7C,MAAA,gBACA,eAAa,oBACboD,YAAY,I,wBAGV,IAAuB,G,oBADzB,wBAKa,iCAJI,EAAA2N,SAARvV,K,kBADT,iBAKa,GAHV6C,IAAK7C,EACLsH,MAAOtH,EACPqH,MAAOrH,G,6DAGZ,GACA,iBAYY,G,WAXD,EAAAqH,MAAMmO,Q,qCAAN,EAAAnO,MAAa,WACtB7C,MAAA,gBACA,eAAa,oBACboD,YAAY,I,wBAGV,IAA0B,G,oBAD5B,wBAKa,iCAJI,EAAA6N,YAARzV,K,kBADT,iBAKa,GAHV6C,IAAK7C,EACLsH,MAAOtH,EACPqH,MAAOrH,G,6DAGZ,K,SAGJ,iBAce,GAdDsH,MAAM,OAAOpF,MAAM,iB,wBAC/B,IAYY,EAZZ,iBAYY,G,WAXD,EAAAmF,MAAMqO,W,qCAAN,EAAArO,MAAgB,cACzB7C,MAAA,eACA,eAAa,oBACZ,SAAQ,EAAAmR,iB,wBAGP,IAA6B,G,oBAD/B,wBAKa,iCAJI,EAAAC,eAAR5V,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKuB,GACV+F,MAAOtH,EAAKc,YACZuG,MAAOrH,EAAKuB,I,kFAKnB,iBAae,Q,uBAZb,IAWoB,CAVQ,GAApB,EAAA8F,MAAMqO,a,kBADd,iBAWoB,G,iBATT,EAAArO,MAAMwO,c,qCAAN,EAAAxO,MAAmB,iBAC3B,SAAQ,EAAAyO,W,wBAGP,IAA6B,G,oBAD/B,wBAKC,iCAJgB,EAAAC,eAAR/V,K,kBADT,iBAKC,GAHE6C,IAAK7C,EAAKuB,GACV+F,MAAOtH,EAAKuB,I,wBACZ,IAAsB,E,2CAAnBvB,EAAKc,aAAW,M,kIClE9B,IAAMkV,EAAU,SAACC,EAAaC,GACR,qBAATA,IAAsBA,GAAO,GAExC,IADA,IAAMC,EAAS,IAAIC,MAAMH,GAChB5K,EAAI,EAAGA,EAAI4K,EAAK5K,IAErB8K,EAAO9K,GADL6K,GAAQ7K,EAAI,GACF,IAAMA,EAAE6I,WAER7I,EAAE6I,WAGlB,OAAOiC,CACT,EACA,GACEH,QAAO,GDkET,GACEpN,MAAO,CACL6I,SAAU,CACRtM,KAAM4I,OACNjK,UACE,MAAO,CAAC,CACV,IAGJxD,OACE,MAAO,CACL+G,MAAO,CACLhC,KAAM,GACNE,UAAU,EACV8B,MAAO,GACPmO,QAAS,KACTF,MAAO,KACPI,WAAY,EACZG,cAAe,IAEjBjR,SAAU,CACR2K,YAAa,GACb1M,IAAK,CACHtB,GAAI,GACJ8F,MAAO,GACPhC,KAAM,IAERiP,YAAa,KACbtE,cAAe,SAEjB6B,OAAQC,KAAKC,OAAOhI,MAAM8H,QAAU,GACpC0D,QAAS,KACTE,WAAY,KACZG,cAAe,CACb,CACE9U,YAAa,KACbS,GAAI,GAEN,CACET,YAAa,aACbS,GAAI,GAEN,CACET,YAAa,aACbS,GAAI,GAEN,CACET,YAAa,MACbS,GAAI,IAGRwU,cAAe,CACb,CACEjV,YAAa,MACbS,GAAI,GAEN,CACET,YAAa,MACbS,GAAI,GAEN,CACET,YAAa,MACbS,GAAI,GAEN,CACET,YAAa,MACbS,GAAI,GAEN,CACET,YAAa,MACbS,GAAI,EACJ8U,SAAS,GAEX,CACEvV,YAAa,MACbS,GAAI,EACJ8U,SAAS,GAEX,CACEvV,YAAa,MACbS,GAAI,EACJ8U,SAAS,IAIjB,EACAzD,UAIE,GAHAd,KAAKyD,QAAU,UAAmB,IAAI,GACtCzD,KAAK2D,WAAa,UAAmB,IAAI,GACzC3D,KAAKwE,WACiC,OAAlCtQ,KAAKK,UAAUyL,KAAKL,UAAoB,CAC1C,MAAMnR,EAAOwR,KAAKL,SAASpK,MAAMA,MAAMkP,MAAM,KAC7CzE,KAAKzK,MAAMiO,MAAQhV,EAAK,GAAGiW,MAAM,KAAK,GACtCzE,KAAKzK,MAAMmO,QAAUlV,EAAK,GAAGiW,MAAM,KAAK,GACxC,MAAMC,EAAQlW,EAAK,GAAGiW,MAAM,KAAK,GAAGA,MAAM,KAAK,GAC/C,GAAa,iBAATC,EACF1E,KAAKzK,MAAMqO,WAAa,OACnB,GAAc,cAAVc,EACT1E,KAAKzK,MAAMqO,WAAa,OACnB,GAAc,QAAVc,EACT1E,KAAKzK,MAAMqO,WAAa,MACnB,CACL5D,KAAKzK,MAAMqO,WAAa,EACxB,MAAMe,EAAWnW,EAAK,GAAGiW,MAAM,KAAK,GAAGA,MAAM,KAC7CE,EAASnD,KAAKtT,IACZ8R,KAAKzK,MAAMwO,cAAczS,KAAKqR,OAAOzU,GAAM,GAE/C,CACF,CACA0O,EAAgBoD,KAAKgB,MAAOhB,KAAKzK,MACnC,EACA0L,QAAS,CACPuD,WACE,IAAIrD,EAEFA,EADkB,kBAAhBnB,KAAKD,OACD,8DAEA,2DAER,OAAW,MAAOoB,GAAKC,MAAMC,IACP,UAAhBA,EAAIC,UACNtB,KAAKlN,SAAW,CACd2K,YAAa4D,EAAI7S,KAAK,GAAGiP,YACzB1M,IAAK,CACHtB,GAAI4R,EAAI7S,KAAK,GAAGiB,GAChB8F,MAAO8L,EAAI7S,KAAK,GAAGS,KACnBsE,KAAM8N,EAAI7S,KAAK,GAAGQ,cAGxB,GAEJ,EAEA6U,kBACE7D,KAAKzK,MAAMwO,cAAgB,EAC7B,EAEAX,gBACEpD,KAAKzK,MAAQ,CACXmO,QAAS,KACTF,MAAO,KACPI,WAAY,EACZG,cAAe,GAEnB,EACAC,UAAU9M,GACRjG,QAAQC,IAAIgG,EACd,IEnOJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,Q,SCuEe9G,MAAM,a,SAOsBA,MAAM,Q,qPA9E/C,iBAkGU,GAjGRwC,IAAI,WACHyC,MAAO,EAAAvC,SACR1C,MAAM,gCACLoD,MAAO,EAAAA,MACR,cAAY,QACZ,iBAAe,O,wBAEf,IAee,EAff,iBAee,GAfDgC,MAAM,OAAOC,KAAK,M,wBAC9B,IAaY,EAbZ,iBAaY,G,WAZD,EAAA3C,SAASrD,G,qCAAT,EAAAqD,SAAW,MACpBJ,MAAA,eACAoD,YAAY,UACZ,eAAa,oBACZ,SAAQ,EAAA8K,qB,wBAGP,IAAiC,G,oBADnC,wBAKa,iCAJI,EAAA7C,mBAAR7P,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKuB,GACV+F,MAAOtH,EAAKc,YACZuG,MAAOrH,EAAKuB,I,kFAInB,wBA4DM,aA3DJ,iBA0De,GA1DD+F,MAAM,OAAOpF,MAAM,e,wBAC/B,IAYY,EAZZ,iBAYY,G,WAXD,EAAA0C,SAASoL,c,qCAAT,EAAApL,SAAsB,iBAC/BJ,MAAA,eACA,eAAa,oBACZoM,SAAyB,IAAf,EAAAhM,SAASrD,I,wBAGlB,IAAiC,G,oBADnC,wBAKa,iCAJI,EAAA2O,mBAARlQ,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKe,KACVuG,MAAOtH,EAAKqH,MACZA,MAAOrH,EAAKe,M,wEAIM,2BAAyB,OAAM,GAA0D,QAAnC,2BAAwB,GAAI,SAA8C,IAAX,WAAS,K,kBADrJ,iBAuBe,G,MAjBbwG,KAAK,cACLrF,MAAM,qB,wBAEN,IAaY,EAbZ,iBAaY,G,WAZD,EAAA0C,SAAS8R,Y,qCAAT,EAAA9R,SAAoB,eAC7BJ,MAAA,iDACCoM,SAAyB,IAAf,EAAAhM,SAASrD,GACpB,eAAa,oBACZ,SAAQ,EAAAoV,0B,wBAGP,IAAyB,G,oBAD3B,wBAKa,iCAJI,EAAAC,WAAR5W,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKwQ,SACVlJ,MAAOtH,EAAKc,YACZuG,MAAOrH,EAAKwQ,U,6HAKG,2BAAyB,OAAM,GAAwD,OAAnC,2BAAwB,GAAI,U,kBADtG,iBAmBe,G,MAdbjJ,KAAK,mBACLrF,MAAM,qB,wBAEN,IAUM,EAVN,wBAUM,MAVN,EAUM,EATJ,iBAKE,G,WAJS,EAAA0C,SAASiS,iB,qCAAT,EAAAjS,SAAyB,oBACjCgD,YAAa,EAAAkP,gBACblG,SAAyB,IAAf,EAAAhM,SAASrD,GACnB,OAAM,EAAAwV,Y,yDAEgB,MAAb,EAAAH,Y,kBAAZ,wBAES,OAFT,GAES,qBADP,EAAAA,UAAUxF,MAAI,K,uFAMxB,iBAYe,GAZD9J,MAAM,OAAO9C,MAAA,gB,wBACzB,IAUY,EAVZ,iBAUY,G,WATD,EAAAI,SAASS,K,qCAAT,EAAAT,SAAa,QACtBO,KAAK,WACLsL,UAAU,MACTuG,KAAM,EACN9U,OAAK,mCAAmB,EAAAqP,aACzB,qBACA3J,YAAY,kBACX,QAAK,eAAE,EAAA2J,YAAa,GACpB,OAAI,eAAE,EAAAA,YAAa,I,qEAU5B,OACE3I,MAAO,CACL6I,SAAU,CACRtM,KAAM4I,OACNjK,UACE,MAAO,CAAC,CACV,IAGJxD,OACE,MAAO,CACLiR,YAAY,EACZ3M,SAAU,CACR2K,YAAa,GACbhO,GAAI,GACJmV,YAAa,GACbG,iBAAkB,GAClB7G,cAAe,QACf3K,KAAM,GACNxC,IAAK,CACHwC,KAAM,GACN9D,GAAI,GACJ8F,MAAO,IAETA,MAAO,CACLhC,KAAM,GACNE,UAAU,EACV8B,MAAO,KAGX/B,MAAO,CACL/D,GAAI,CAAC,CAAEgE,UAAU,EAAMC,QAAS,UAAWC,QAAS,WACpDiR,YAAa,CACX,CACEnR,UAAU,EACVC,QAAS,oBACTC,QAAS,WAGboR,iBAAkB,CAChB,CACEtR,UAAU,EACVyM,UAAW,CAACC,EAAM3R,EAAM4R,KACjB5R,EAIDA,EAAOwR,KAAK8E,UAAU7C,UACtBzT,EAAOwR,KAAK8E,UAAU5C,UACtB1T,EAAOwR,KAAK8E,UAAU3C,OAAS,EAE/B/B,EAAS,IAAI+E,MAAM,sBAEnB/E,IATFA,EAAS,IAAI+E,MAAM,WAWrB,EAEFxR,QAAS,UAIfoM,OAAQC,KAAKC,OAAOhI,MAAM8H,QAAU,GACpChC,kBAAmB,GACnBqH,yBAA0B,GAC1BN,UAAW,KACX1G,kBAAmB,CACjB,CACEnP,KAAM,QACNsG,MAAO,OAGXyP,gBAAiB,GAErB,EACAlI,MAAO,CACL,cAAe,CACbyD,QAAQ8E,GACN,GAAIA,EAAQ,CACV,MAAM7W,EAAOwR,KAAKjC,kBAAkB2C,QAAQxS,GACnCA,EAAKuB,IAAM4V,IAEpBrF,KAAKlN,SAAS/B,IAAM,CAClBwC,KAAM/E,EAAK,GAAGQ,YACdS,GAAIjB,EAAK,GAAGiB,GACZ8F,MAAO/G,EAAK,GAAGS,MAEjB+Q,KAAKlN,SAAS2K,YAAcjP,EAAK,GAAGiP,YACb,QAAnBjP,EAAK,GAAGsT,UACV9B,KAAK8E,UAAY5Q,KAAKC,MAAM3F,EAAK,GAAGwT,UACpCxT,EAAK,GAAG8W,SAAU,EAClBtF,KAAK5B,kBAAoB,CACvB,CACEnP,KAAM,QACNsG,MAAO,OAGX/G,EAAK,GAAG0P,cAAgB,QACxB8B,KAAKgF,gBAAkB,IAEF,OAAnBxW,EAAK,GAAGsT,UACV9B,KAAK8E,UAAY5Q,KAAKC,MAAM3F,EAAK,GAAGwT,UACpCxT,EAAK,GAAG8W,SAAU,EAClBtF,KAAK5B,kBAAoB,CACvB,CACEnP,KAAM,cACNsG,MAAO,MAET,CACEtG,KAAM,WACNsG,MAAO,OAGXyK,KAAKgF,gBACH,MACAhF,KAAK8E,UAAU7C,SACf,IACAjC,KAAK8E,UAAU5C,SACf,OACAlC,KAAK8E,UAAU3C,MAEnBnC,KAAKoF,yBAA2B5W,EAChCwR,KAAKlN,SAASoL,cAAgB8B,KAAK5B,kBAAkB,GAAGnP,IAC1D,CACF,IAGJ6R,UACEd,KAAK0B,MAAMC,SAASC,gBACpB5B,KAAKuF,mBACL3I,EAAgBoD,KAAKgB,MAAOhB,KAAKlN,SACnC,EACAmO,QAAS,CAEPsE,mBACE,IAAIpE,EAEFA,EADkB,kBAAhBnB,KAAKD,OACD,gEAEA,6DAER,OAAW,MAAOoB,GACfC,MAAMC,IACe,UAAhBA,EAAIC,UACNtB,KAAKjC,kBAAoBsD,EAAI7S,KAC/B,IAED4S,MAAK,KACJ,GAAsC,OAAlClN,KAAKK,UAAUyL,KAAKL,UAAoB,CAC1CK,KAAKlN,SAAW,IACXkN,KAAKL,UAEVK,KAAKlN,SAASrD,GAAKuQ,KAAKL,SAAS5O,IAAItB,GACrC,MAAMjB,EAAOwR,KAAKjC,kBAAkB2C,QAAQxS,GACnCA,EAAKuB,IAAMuQ,KAAKlN,SAASrD,KAEX,QAAnBjB,EAAK,GAAGsT,SAC4B,OAAlC5N,KAAKK,UAAUyL,KAAKL,WACtBK,KAAK6B,KACH7B,KAAKlN,SACL,cACAkN,KAAKL,SAASpK,MAAMA,OAIH,OAAnB/G,EAAK,GAAGsT,SAC4B,OAAlC5N,KAAKK,UAAUyL,KAAKL,WACtBK,KAAK6B,KACH7B,KAAKlN,SACL,mBACAkN,KAAKL,SAASpK,MAAMA,MAI5B,IAEN,EAEAqL,sBACEZ,KAAK0B,MAAMC,SAASC,cAAc,eAClC5B,KAAK0B,MAAMC,SAASC,cAAc,oBAClC5B,KAAKlN,SAASiS,iBAAmB,GACjC/E,KAAKlN,SAAS8R,YAAc,EAI9B,EAEAK,WAAW/N,GACT8I,KAAKlN,SAASyC,MAAQ,CACpBhC,KAAM2D,EAAE7I,OAAOkH,MAAQyK,KAAK8E,UAAUxF,KACtC7L,UAAU,EACV8B,MAAO2B,EAAE7I,OAAOkH,MAEpB,EAEAsP,yBAAyB3N,GACvB,MAAM1I,EAAOwR,KAAK8E,UAAUpE,QAAQxS,GAC3BA,EAAKwQ,UAAYxH,IAE1B8I,KAAKlN,SAASyC,MAAQ,CACpBhC,KAAM/E,EAAK,GAAGQ,YACdyE,UAAU,EACV8B,MAAO2B,EAEX,EAEAkM,gBACEpD,KAAKlN,SAAW,CACdrD,GAAI,GACJmV,YAAa,GACb1G,cAAe,QACf3K,KAAM,IAERyM,KAAK8E,UAAY,KACjB9E,KAAKoF,yBAA2B,GAChCpF,KAAK0B,MAAMC,SAASlN,cACpBuL,KAAK5B,kBAAoB,CACvB,CACEnP,KAAM,QACNsG,MAAO,MAGb,ICzUJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,Q,qPCAE,iBA+EU,GA9ER3C,IAAI,WACHyC,MAAO,EAAAvC,SACPU,MAAO,EAAAA,MACRpD,MAAM,kCACN,cAAY,QACZ,iBAAe,O,wBAEf,IAee,EAff,iBAee,GAfDoF,MAAM,OAAOC,KAAK,M,wBAC9B,IAaY,EAbZ,iBAaY,G,WAZD,EAAA3C,SAASrD,G,qCAAT,EAAAqD,SAAW,MACpBJ,MAAA,eACAoD,YAAY,UACZ,eAAa,oBACZ,SAAQ,EAAA8K,qB,wBAGP,IAAiC,G,oBADnC,wBAKa,iCAJI,EAAA7C,mBAAR7P,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKuB,GACV+F,MAAOtH,EAAKc,YACZuG,MAAOrH,EAAKuB,I,kFAInB,wBAyCM,aAxCJ,iBAuCe,GAvCD+F,MAAM,OAAOpF,MAAM,e,wBAC/B,IAYY,EAZZ,iBAYY,G,WAXD,EAAA0C,SAASoL,c,qCAAT,EAAApL,SAAsB,iBAC/BJ,MAAA,eACA,eAAa,oBACZoM,SAAyB,IAAf,EAAAhM,SAASrD,I,wBAGlB,IAAiC,G,oBADnC,wBAKa,iCAJI,EAAA2O,mBAARlQ,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKe,KACVuG,MAAOtH,EAAKqH,MACZA,MAAOrH,EAAKe,M,wEAIM,2BAAyB,OAAM,GAA0D,QAAnC,2BAAwB,GAAI,SAA8C,IAAX,WAAS,K,kBADrJ,iBAwBe,G,MAlBbwG,KAAK,cACLrF,MAAM,qB,wBAEN,IAcY,EAdZ,iBAcY,G,WAbD,EAAA0C,SAAS8R,Y,qCAAT,EAAA9R,SAAoB,eAC7BJ,MAAA,oCACCoM,SAAyB,IAAf,EAAAhM,SAASrD,GACpBqG,YAAY,QACZ,eAAa,oBACZ,SAAQ,EAAA+O,0B,wBAGP,IAAyB,G,oBAD3B,wBAKa,iCAJI,EAAAC,WAAR5W,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKwQ,SACVlJ,MAAOtH,EAAKc,YACZuG,MAAOrH,EAAKwQ,U,yIAMvB,iBAYe,GAZDlJ,MAAM,OAAO9C,MAAA,gB,wBACzB,IAUY,EAVZ,iBAUY,G,WATD,EAAAI,SAASS,K,qCAAT,EAAAT,SAAa,QACtBO,KAAK,WACLsL,UAAU,MACTuG,KAAM,EACN9U,OAAK,mCAAmB,EAAAqP,aACzB,qBACA3J,YAAY,kBACX,QAAK,eAAE,EAAA2J,YAAa,GACpB,OAAI,eAAE,EAAAA,YAAa,I,qEAQ5B,OACE3I,MAAO,CACL6I,SAAU,CACRtM,KAAM4I,OACNjK,UACE,MAAO,CAAC,CACV,IAGJxD,OACE,MAAO,CACLiR,YAAY,EACZ3M,SAAU,CACR2K,YAAa,GACbhO,GAAI,GACJmV,YAAa,GACb1G,cAAe,QACf3K,KAAM,GACNxC,IAAK,CACHwC,KAAM,GACN9D,GAAI,GACJ8F,MAAO,IAETA,MAAO,CACLhC,KAAM,GACNE,UAAU,EACV8B,MAAO,KAGXwK,OAAQC,KAAKC,OAAOhI,MAAM8H,QAAU,GACpCvM,MAAO,CACL/D,GAAI,CAAC,CAAEgE,UAAU,EAAMC,QAAS,UAAWC,QAAS,WACpDiR,YAAa,CACX,CACEnR,UAAU,EACVC,QAAS,oBACTC,QAAS,YAIfoK,kBAAmB,GACnBqH,yBAA0B,GAC1BN,UAAW,KACX1G,kBAAmB,CACjB,CACEnP,KAAM,QACNsG,MAAO,OAIf,EACAuH,MAAO,CACL,cAAe,CACbyD,QAAQ8E,GACN,GAAIA,EAAQ,CACV,MAAM7W,EAAOwR,KAAKjC,kBAAkB2C,QAAQxS,GACnCA,EAAKuB,IAAM4V,IAEpBrF,KAAKlN,SAAS/B,IAAM,CAClBwC,KAAM/E,EAAK,GAAGQ,YACdS,GAAIjB,EAAK,GAAGiB,GACZ8F,MAAO/G,EAAK,GAAGS,MAEjB+Q,KAAKlN,SAAS2K,YAAcjP,EAAK,GAAGiP,YACb,QAAnBjP,EAAK,GAAGsT,UACV9B,KAAK8E,UAAY5Q,KAAKC,MAAM3F,EAAK,GAAGwT,UACpCxT,EAAK,GAAG8W,SAAU,EAClBtF,KAAK5B,kBAAoB,CACvB,CACEnP,KAAM,QACNsG,MAAO,OAGX/G,EAAK,GAAG0P,cAAgB,SAE1B8B,KAAKoF,yBAA2B5W,EAChCwR,KAAKlN,SAASoL,cAAgB8B,KAAK5B,kBAAkB,GAAGnP,IAC1D,CACF,IAGJ6R,UACEd,KAAK0B,MAAMC,SAASC,gBACpB5B,KAAKuF,kBACP,EACAtE,QAAS,CAEPsE,mBACE,IAAIpE,EAEFA,EADkB,kBAAhBnB,KAAKD,OACD,iEAEA,8DAER,OAAW,MAAOoB,GACfC,MAAMC,IACe,UAAhBA,EAAIC,UACNtB,KAAKjC,kBAAoBsD,EAAI7S,KAC/B,IAED4S,MAAK,KACkC,OAAlClN,KAAKK,UAAUyL,KAAKL,YACtBK,KAAKlN,SAAW,IAAKkN,KAAKL,UAC1BK,KAAK6B,KAAK7B,KAAKlN,SAAU,cAAekN,KAAKL,SAASpK,MAAMA,OAC5DyK,KAAKlN,SAASrD,GAAKuQ,KAAKL,SAAS5O,IAAItB,GACvC,GAEN,EAEAmR,sBACEZ,KAAK0B,MAAMC,SAASC,cAAc,cACpC,EAEAiD,yBAAyB3N,GACvB,MAAM1I,EAAOwR,KAAK8E,UAAUpE,QAAQxS,GAC3BA,EAAKwQ,UAAYxH,IAE1B8I,KAAKlN,SAASyC,MAAQ,CACpBhC,KAAM/E,EAAK,GAAGQ,YACdyE,UAAU,EACV8B,MAAO2B,EAEX,EAEAkM,gBACEpD,KAAKlN,SAAW,CACdrD,GAAI,GACJmV,YAAa,GACb1G,cAAe,QACf3K,KAAM,IAERyM,KAAK8E,UAAY,KACjB9E,KAAKoF,yBAA2B,GAChCpF,KAAK0B,MAAMC,SAASlN,cACpBuL,KAAK5B,kBAAoB,CACvB,CACEnP,KAAM,QACNsG,MAAO,MAGb,IClOJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,Q,SCmIQ,wBAAc,YAAR,KAAC,G,SAMCnF,MAAM,c,GAETA,MAAM,iB,IACJA,MAAM,gB,UAaTA,MAAM,iB,UA0CNA,MAAM,iB,IAqBCA,MAAM,e,UAgBbA,MAAM,e,IAEAA,MAAM,e,mUA1OtB,iBA6SU,GA5SRwC,IAAI,WACJxC,MAAM,6BACLiF,MAAO,EAAAvC,SACPU,MAAO,EAAAA,MACR,cAAY,QACZ,iBAAe,O,wBAEf,IAce,EAdf,iBAce,GAdDgC,MAAM,SAASC,KAAK,e,wBAChC,IAYY,EAZZ,iBAYY,G,WAXD,EAAA3C,SAAS2K,Y,qCAAT,EAAA3K,SAAoB,eAC7B,eAAa,oBACb4K,WAAA,GACA5H,YAAY,a,wBAGV,IAAqC,G,oBADvC,wBAKa,iCAJI,EAAA6H,uBAARzP,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKuB,GACV+F,MAAOtH,EAAK0P,aACZrI,MAAOrH,EAAKuB,I,uEAInB,iBAee,GAfD+F,MAAM,OAAOC,KAAK,iB,wBAC9B,IAaY,EAbZ,iBAaY,G,WAZD,EAAA3C,SAAS+K,c,qCAAT,EAAA/K,SAAsB,iBAC/B,eAAa,oBACb4K,WAAA,GACA5H,YAAY,UACX,SAAQ,EAAAgI,yB,wBAGP,IAAiC,G,oBADnC,wBAKa,iCAJI,EAAAC,mBAAR7P,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKuB,GACV+F,MAAOtH,EAAKc,YACZuG,MAAOrH,EAAKuB,I,iFAKX,EAAAqD,SAASkL,kBAAkB3R,OAAS,GAAK,EAAAyG,SAASgN,gB,oBAExD,wBAiFM,oCAhFoB,EAAAhN,SAASkL,mBAAiB,CAA1C9P,EAAMmE,M,kBADhB,wBAiFM,OA/EHtB,IAAK7C,EAAKuB,GACXW,MAAM,c,EAEN,iBAEe,GAFDoF,MAAM,QAAM,C,uBACxB,IAAmC,EAAnC,wBAAmC,kCAA1BtH,EAAKc,aAAW,M,WAIE,SAArBd,EAAK0Q,aAA+C,SAArB1Q,EAAK0Q,c,kBAD5C,iBAyBe,G,MAvBbpJ,MAAM,MACLC,KAAI,qBAAyBpD,EAAQ,SACrCmB,MAAO,C,2EAQR,IAYY,EAZZ,iBAYY,G,WAXDtF,EAAKoQ,M,yBAALpQ,EAAU,QACnB4H,YAAY,QACZ,eAAa,oBACZ,SAASoB,GAAM,EAAAqH,kBAAkBrH,EAAG7E,EAAO,W,wBAG1C,IAAgC,G,oBADlC,wBAKa,iCAJGnE,EAAKsQ,cAAZC,K,kBADT,iBAKa,GAHV1N,IAAK0N,EAAIC,SACTlJ,MAAOiJ,EAAIzP,YACXuG,MAAOkJ,EAAIC,U,6IAIlB,iBAkCe,G,MAhCblJ,MAAM,MACLC,KAAI,qBAAyBpD,EAAQ,SACrCmB,MAAK,C,2DAA+K,EAAM,EAAO,KAAgC,mBAAiB,EAAM,EAAO,EAAQ,K,wBAaxQ,IAgBE,EAhBF,iBAgBE,G,WAfStF,EAAKoQ,M,yBAALpQ,EAAU,QACnBwE,MAAA,eACCoD,YAA6B,EAAK,a,UAAsF,EAAK,aAAa,S,IAA2D,EAAK,aAAa,S,OAA8D,EAAK,aAAa,M,UAYvS,SAASoB,GAAM,EAAAqH,kBAAkBrH,EAAG7E,EAAO,U,uGAGhD,iBAUe,GATbmD,MAAM,OACLC,KAAI,qBAAyBpD,EAAQ,WACtCjC,MAAM,kB,wBAEN,IAIC,EAJD,iBAIC,G,WAHUlC,EAAK2Q,Q,yBAAL3Q,EAAY,UACpB,SAASgJ,GAAM,EAAAqH,kBAAkBrH,EAAG7E,EAAO,U,wBAC3C,IAAE,E,qBAAF,S,6FAM+C,IAAjC,WAAS,kBAAkB,QAAgB,WAAS,gB,kBAD3E,wBAWW,qBANT,iBAEe,GAFDmD,MAAM,OAAOC,KAAK,gB,wBAC9B,IAAc,CAAd,K,OAEF,iBAEe,GAFDD,MAAM,OAAOpF,MAAM,kB,wBAC/B,IAA8C,EAA9C,iBAA8C,GAAhC0O,UAAU,GAAI,C,uBAAE,IAAE,E,qBAAF,S,yCAGlC,wBAuJM,MAvJN,EAuJM,EAtJJ,iBAmGe,GAnGDtJ,MAAM,OAAOpF,MAAM,+B,wBAC/B,IAiGM,EAjGN,wBAiGM,MAjGN,EAiGM,EAhGJ,wBAMM,MANN,GAMM,EALJ,iBAIC,GAHCiD,KAAK,QACJyL,SAAgC,SAAtB,EAAAhM,SAAS0S,WAAwB,EAAA1S,SAAS2S,S,wBACpD,IAAE,E,qBAAF,S,uBAIyC,KAAtB,WAAS,eAAyD,UAAlB,WAAS,WAA0D,UAAlB,WAAS,Y,kBADlI,wBA2CM,MA3CN,GA2CM,CAlCInB,MAAMoB,QAAQ,EAAA5S,SAAS0L,gB,kBAD/B,iBAkBe,G,MAhBb/I,KAAK,sB,wBAEL,IAaY,EAbZ,iBAaY,G,WAZD,EAAA3C,SAASmM,mB,qCAAT,EAAAnM,SAA2B,sBACpCJ,MAAA,qBACAoD,YAAY,QACZ,eAAa,oBACZ,SAAQ,EAAAoJ,oB,wBAGP,IAAqC,G,oBADvC,wBAKa,iCAJI,EAAApM,SAAS0L,cAAjBtQ,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKwQ,SACVlJ,MAAOtH,EAAKc,YACZuG,MAAOrH,EAAKwQ,U,sGAInB,iBAee,G,MAfMjJ,KAAK,c,wBACxB,IAaM,EAbN,wBAaM,OAZHrF,OAAK,oBAAuD,WAAjC,WAAS,aAAa,Y,iCAMlD,iBAKE,G,WAJS,EAAA0C,SAASqM,W,qCAAT,EAAArM,SAAmB,cAC5BO,KAAK,OACJyC,YAAa,EAAAsJ,iBACb,OAAM,EAAAC,mB,+FAM2B,UAAlB,WAAS,WAAyB,WAAS,aAAa,OAAM,I,kBADtF,wBAkCM,MAlCN,GAkCM,CA3BIiF,MAAMoB,QAAQ,EAAA5S,SAAS0L,gB,kBAD/B,iBAiBe,G,MAfb/I,KAAK,sB,wBAEL,IAYY,EAZZ,iBAYY,G,WAXD,EAAA3C,SAASmM,mB,qCAAT,EAAAnM,SAA2B,sBACpCgD,YAAY,QACZ,eAAa,oBACZ,SAAQ,EAAA6P,yB,wBAGP,IAAqC,G,oBADvC,wBAKa,iCAJI,EAAA7S,SAAS0L,cAAjBtQ,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKuB,GACV+F,MAAOtH,EAAKc,YACZuG,MAAOrH,EAAKuB,I,sGAInB,iBASe,G,MATMgG,KAAK,c,wBACxB,IAOM,EAPN,wBAOM,MAPN,GAOM,EANJ,iBAKE,G,WAJS,EAAA3C,SAASqM,W,qCAAT,EAAArM,SAAmB,cAC5BO,KAAK,OACJyC,YAAa,EAAAsJ,iBACb,OAAM,EAAAC,mB,8FAMU,MAAM,QAAQ,WAAS,eAAgC,WAAS,cAA+B,WAAS,aAAa,O,kBAD9I,wBASM,MATN,GASM,EADJ,wBAAiE,OAAjE,IAAiE,qBAApC,EAAAvM,SAAS0L,aAAac,MAAI,O,0CAMd,KAA3B,WAAS,oBAAwC,WAAS,kBAAkB,OAAM,IAA6D,SAAzC,WAAS,kBAAiB,GAAI,aAAgF,SAAzC,WAAS,kBAAiB,GAAI,e,kBAD7N,iBAuBe,G,MAhBb7J,KAAK,iBACLD,MAAM,Q,wBAEN,IAYY,EAZZ,iBAYY,G,WAXD,EAAA1C,SAAS8S,e,qCAAT,EAAA9S,SAAuB,kBAChCgD,YAAY,QACZ,eAAa,oBACZ,SAAQ,EAAAuN,4B,wBAGP,IAA0C,G,oBAD5C,wBAKa,iCAJI,EAAAvQ,SAAS+M,mBAAjB3R,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKwQ,SACVlJ,MAAOtH,EAAKc,YACZuG,MAAOrH,EAAKwQ,U,kHAM4B,KAA3B,WAAS,oBAAwC,WAAS,kBAAkB,OAAM,IAA6D,WAAzC,WAAS,kBAAiB,GAAI,aAAkF,QAAzC,WAAS,kBAAiB,GAAI,aAA+E,WAAzC,WAAS,kBAAiB,GAAI,e,kBADnS,iBAgBe,G,MARbjJ,KAAK,gBACLD,MAAM,Q,wBAEN,IAIY,EAJZ,iBAIY,G,WAHD,EAAA1C,SAAS+S,c,qCAAT,EAAA/S,SAAsB,iBAC/BJ,MAAA,eACC,OAAM,EAAA6Q,sB,2EAGX,iBAMe,GAND/N,MAAM,OAAOpF,MAAM,kB,wBAC/B,IAIC,EAJD,iBAIC,G,WAHU,EAAA0C,SAASyM,W,qCAAT,EAAAzM,SAAmB,cAC3BgM,SAAgC,SAAtB,EAAAhM,SAAS0S,WAAwB,EAAA1S,SAAS2S,S,wBACpD,IAAE,E,qBAAF,S,+CAIP,iBAWe,GAXDjQ,MAAM,QAAM,C,uBACxB,IASY,EATZ,iBASY,G,WARD,EAAA1C,SAAS9D,Y,qCAAT,EAAA8D,SAAoB,eAC7B6L,UAAU,MACVtL,KAAK,WACJjD,OAAK,mCAAmB,EAAAqP,aACzB,qBACA3J,YAAY,kBACX,QAAK,iBAAE,EAAA2J,YAAa,GACpB,OAAI,iBAAE,EAAAA,YAAa,I,qEAO5B,QACE3I,MAAO,CACL4I,iBAAkB,CAChBrM,KAAM4I,OACNjK,UACE,MAAO,CAAC,CACV,GAEF2N,SAAU,CACRtM,KAAM4I,OACNjK,UACE,MAAO,CAAC,CACV,IAGJxD,OACE,MAAO,CACLiR,YAAY,EACZ3M,SAAU,CACR2K,YAAa,GACbI,cAAe,GACf+B,QAAS,GACTL,YAAY,EACZvQ,YAAa,GACbgP,kBAAmB,CACjB,CACEM,MAAO,GACPO,SAAS,IAGbyE,KAAM,GACNwC,UAAW,CACTvS,KAAM,GACN9D,GAAI,GACJ8F,MAAO,IAETsK,kBAAmB,KACnBC,eAAe,EACf2F,SAAS,EACTD,UAAW,GACXhH,aAAc,KACdW,WAAY,GACZF,mBAAoB,GACpB2G,eAAgB,GAChBC,cAAe,IAEjB9F,OAAQC,KAAKC,OAAOhI,MAAM8H,QAAU,GACpCvM,MAAO,CACLiK,YAAa,CACX,CAAEhK,UAAU,EAAMC,QAAS,YAAaC,QAAS,WAEnDkK,cAAe,CACb,CAAEpK,UAAU,EAAMC,QAAS,UAAWC,QAAS,WAEjDsL,mBAAoB,CAClB,CAAExL,UAAU,EAAMC,QAAS,UAAWC,QAAS,SAEjDiS,eAAgB,CACd,CAAEnS,UAAU,EAAMC,QAAS,UAAWC,QAAS,WAEjDkS,cAAe,CACb,CAAEpS,UAAU,EAAMC,QAAS,UAAWC,QAAS,SAEjDwL,WAAY,CACV,CAAE1L,UAAU,EAAMC,QAAS,UAAWC,QAAS,QAC/C,CACEuM,UAAW,CAACC,EAAM5K,EAAO6K,KACvBnP,QAAQC,IAAIiP,EAAM5K,EAAO6K,GACzBnP,QAAQC,IAAI8O,KAAKlN,SAAS0L,aAAc,OACxC,MAAMhQ,EAAO,CACXgQ,aAAcwB,KAAKlN,SAAS0L,aAC5BI,YAAaoB,KAAKlN,SAAS0L,aAAaI,aAE1CoB,KAAKK,iBAAiB7R,EAAM+G,EAAO6K,EAAS,EAE9CzM,QAAS,UAIfoS,uBAAwB,CACtBC,oBAAqB,CACnB,CACEvS,UAAU,EACVC,QAAS,OACTC,QAAS,QAEX,CACEuM,UAAW,CAACC,EAAM5K,EAAO6K,KACvBnP,QAAQC,IAAIiP,EAAM5K,EAAO6K,EAAS,IAIxC6F,sBAAuB,CACrB,CACExS,UAAU,EACVC,QAAS,OACTC,QAAS,QAEX,CACEuM,UAAW,CAACC,EAAM5K,EAAO6K,KACvBnP,QAAQC,IAAIiP,GACZlP,QAAQC,IAAIqE,GACZtE,QAAQC,IAAIkP,EAAS,KAK7BzC,sBAAuB,GACvBI,kBAAmB,GACnBmI,qBAAsB,CACpBC,UAAW,KACXxa,OAAQ,KACRya,aAAc,KACdC,YAAa,MAEfjH,iBAAkB,GAClBkB,SAAUN,KAAKL,SAEnB,EACA7C,MAAO,CACL,uBAAwB,CACtByD,QAAQrD,EAAKsD,GACX,GAAItD,EAAK,CACHsD,GAAOtD,IAAQsD,IACjBR,KAAKM,SAAW,CAAC,GAEnB,MAAMG,EAAMT,KAAKrC,sBAAsB+C,QAAQxS,GACtCA,EAAKuB,KAAOyN,IAErB8C,KAAKlN,SAAS8M,QAAUa,EAAI,GAAG7C,aAC/BoC,KAAKY,qBACP,CACF,EACAC,WAAW,EACX9D,MAAM,IAGV+D,UACEd,KAAKe,yBACP,EACAE,QAAS,CAEPF,0BACE,IAAII,EAEFA,EADkB,kBAAhBnB,KAAKD,OACD,6DAEA,0DAER,OAAW,OAAQoB,GAChBC,MAAMC,IACL,GAAoB,UAAhBA,EAAIC,QAEN,OADAtB,KAAKrC,sBAAwB0D,EAAI7S,MAC1B,CACT,IAED4S,MAAK,KACkC,OAAlClN,KAAKK,UAAUyL,KAAKM,YACtBN,KAAKlN,SAAS2K,YAAcuC,KAAKM,SAASgG,QAAQ7I,YACpD,GAEN,EAEAmD,sBACE,IAAIO,EAEFA,EADkB,kBAAhBnB,KAAKD,OAEL,gFAGA,6EAEJ,OAAW,OAAQoB,EAAK,CACtBI,WAAYvB,KAAKlN,SAAS2K,cAEzB2D,MAAMC,IACL,GAAoB,UAAhBA,EAAIC,QA+BN,OA9BAD,EAAI7S,KAAKgT,KAAKtT,IACZ+C,QAAQC,IAAIhD,EAAKmF,KAAMnF,EAAK4T,QAAS,QACpB,SAAb5T,EAAKmF,OACPnF,EAAKc,YAAc,OAASd,EAAKc,aAElB,eAAbd,EAAKmF,OACPnF,EAAKc,YAAc,MAAQd,EAAKc,YAClC,IAEFgR,KAAKjC,kBAAoBsD,EAAI7S,KAC7BwR,KAAKyB,WAAU,KACbzB,KAAK0B,MAAMC,SAASC,cAAc,iBAClC5B,KAAKlN,SAASgN,eAAgB,EAC9BE,KAAKlN,SAAS2S,SAAU,EACxBzF,KAAKlN,SAASkL,kBAAoB,GAClCgC,KAAKlN,SAASwQ,KAAO,GACrBtD,KAAKlN,SAAS+M,kBAAoB,KAClCG,KAAKlN,SAAS0L,aAAe,KAC7BwB,KAAKlN,SAASqM,WAAa,GAC3Ba,KAAKlN,SAASmM,mBAAqB,GACnCe,KAAKlN,SAAS8S,eAAiB,GAC/B5F,KAAKlN,SAAS+S,cAAgB,GAC9B7F,KAAKlN,SAAS0S,UAAY,GAC1BxF,KAAKlN,SAASgT,UAAY,CACxBvS,KAAM,GACN9D,GAAI,GACJ8F,MAAO,GACR,IAEHyK,KAAKlN,SAAS+K,cAAgB,IACvB,CACT,IAEDuD,MAAK,KACkC,OAAlClN,KAAKK,UAAUyL,KAAKM,YAGpBN,KAAKM,SAASgG,QAAQhD,OACrBtD,KAAKM,SAASgG,QAAQR,UAEvB9F,KAAKlN,SAAS+K,cACZmC,KAAKM,SAASgG,QAAQhD,KAAK,GAAGrU,KAAKQ,GAErCuQ,KAAKlN,SAAS+K,cAAgBmC,KAAKM,SAASgG,QAAQR,UAAUrW,GAEhEuQ,KAAKlC,wBAAwBkC,KAAKlN,SAAS+K,eAC7C,GAEN,EACAC,wBAAwB5G,GACtBjG,QAAQC,IAAI,OAAQgG,GACpB8I,KAAK0B,MAAMC,SAASC,gBACpB5B,KAAKlN,SAASgN,eAAgB,EAC9BE,KAAKlN,SAAS2S,SAAU,EACxBzF,KAAKlN,SAASkL,kBAAoB,GAClCgC,KAAKlN,SAASwQ,KAAO,GACrBtD,KAAKlN,SAAS+M,kBAAoB,KAClCG,KAAKlN,SAAS0L,aAAe,KAC7BwB,KAAKlN,SAASyM,YAAa,EAC3BS,KAAKlN,SAASqM,WAAa,GAC3Ba,KAAKlN,SAAS8S,eAAiB,GAC/B5F,KAAKlN,SAAS+S,cAAgB,GAC9B7F,KAAKlN,SAASmM,mBAAqB,GACG,OAAlC/K,KAAKK,UAAUyL,KAAKM,YAClBN,KAAKM,SAASgG,QAAQhD,OAAStD,KAAKM,SAASgG,QAAQR,UACnD5O,IAAM8I,KAAKM,SAASgG,QAAQhD,KAAK,GAAGrU,KAAKQ,IAC3CuQ,KAAKM,SAAW,CAAC,EACjBN,KAAK6B,KAAK7B,KAAKlN,SAAU,OAAQ,KAEjCkN,KAAK6B,KAAK7B,KAAKlN,SAAU,OAAQkN,KAAKM,SAASgG,QAAQhD,MAGrDpM,IAAM8I,KAAKM,SAASgG,QAAQR,UAAUrW,IACxCuQ,KAAKM,SAAW,CAAC,EACjBN,KAAK6B,KAAK7B,KAAKlN,SAAU,OAAQ,KAEjCkN,KAAK6B,KAAK7B,KAAKlN,SAAU,OAAQkN,KAAKM,SAASgG,QAAQhD,OAI7D,MAAM9U,EAAOwR,KAAKjC,kBAAkB2C,QAAQxS,GACnCA,EAAKuB,KAAOyH,IAMrB,GAHsC,OAAlChD,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KAAK7B,KAAKlN,SAAU,cAAekN,KAAKM,SAAStR,aAEnC,aAAjBR,EAAK,GAAG6E,KAAqB,CAC/B2M,KAAKlN,SAASgN,eAAgB,EAC9BE,KAAKlN,SAAS2S,SAAU,EACxBzF,KAAKlN,SAAS0S,UAAY,GAC1B,MAAMzC,EAAM,CACV9T,KAAM,CACJsE,KAAM/E,EAAK,GAAGQ,YACdS,GAAIjB,EAAK,GAAGiB,GACZ8F,MAAO/G,EAAK,GAAGyP,WAMnB,GAHsC,OAAlC/J,KAAKK,UAAUyL,KAAKM,WACtBN,KAAKlN,SAASwQ,KAAKhS,KAAKyR,GAEH,OAAnBvU,EAAK,GAAGsT,QAAkB,CAC5B,MAAMC,EAAQ7N,KAAKC,MAAM3F,EAAK,GAAGwT,UACjChC,KAAKZ,iBACH,MACA2C,EAAME,SACN,IACAF,EAAMG,SACN,OACAH,EAAMI,KACRnC,KAAKlN,SAAS0L,aAAeuD,EAC7B/B,KAAKlN,SAAS0L,aAAaI,YAAcpQ,EAAK,GAAGsT,QACX,OAAlC5N,KAAKK,UAAUyL,KAAKM,YACtBN,KAAK6B,KACH7B,KAAKlN,SACL,aACAkN,KAAKM,SAASgG,QAAQhD,KAAK,GAAG/N,MAAMA,OAEtCyK,KAAK6B,KACH7B,KAAKlN,SACL,aACAkN,KAAKM,SAASgG,QAAQhD,KAAK,GAAG/N,MAAM9B,UAG1C,MAAO,GAAuB,QAAnBjF,EAAK,GAAGsT,SAAwC,QAAnBtT,EAAK,GAAGsT,QAAmB,CACjE,MAAMC,EAAQ7N,KAAKC,MAAM3F,EAAK,GAAGwT,UACjCD,EAAMP,KAAKtT,IACoB,kBAAlBA,EAAKwQ,WACdxQ,EAAKwQ,SAAWxQ,EAAKwQ,SAAW,GAClC,IAEFsB,KAAKlN,SAAS0L,aAAeuD,EACS,OAAlC7N,KAAKK,UAAUyL,KAAKM,YACtBN,KAAK6B,KACH7B,KAAKlN,SACL,qBACAkN,KAAKM,SAASgG,QAAQhD,KAAK,GAAG/N,MAAMA,OAEtCyK,KAAK6B,KACH7B,KAAKlN,SACL,aACAkN,KAAKM,SAASgG,QAAQhD,KAAK,GAAG/N,MAAM9B,WAGxCxC,QAAQC,IAAI8O,KAAKlN,SAAS0L,aAAc,MAC1C,MAAO,GAAuB,UAAnBhQ,EAAK,GAAGsT,QAAqB,CACtC,MAAMC,EAAQ7N,KAAKC,MAAM3F,EAAK,GAAGwT,UACjChC,KAAKZ,iBACH,MACA2C,EAAME,SACN,IACAF,EAAMG,SACN,OACAH,EAAMI,KACRnC,KAAKlN,SAAS0L,aAAeuD,EAC7B/B,KAAKlN,SAAS0L,aAAaI,YAAcpQ,EAAK,GAAGsT,QACX,OAAlC5N,KAAKK,UAAUyL,KAAKM,YACtBN,KAAK6B,KACH7B,KAAKlN,SACL,aACAkN,KAAKM,SAASgG,QAAQhD,KAAK,GAAG/N,MAAMA,OAEtCyK,KAAK6B,KACH7B,KAAKlN,SACL,aACAkN,KAAKM,SAASgG,QAAQhD,KAAK,GAAG/N,MAAM9B,UAG1C,MAAO,GAAuB,UAAnBjF,EAAK,GAAGsT,QAAqB,CAEtC,GADA7Q,QAAQC,IAAI1C,EAAK,GAAI,oBACjBA,EAAK,GAAGwT,SAAU,CACpB,MAAMD,EAAQ7N,KAAKC,MAAM3F,EAAK,GAAGwT,UAC7BD,EAAME,UACRjC,KAAKZ,iBACH,MACA2C,EAAME,SACN,IACAF,EAAMG,SACN,OACAH,EAAMI,KACRnC,KAAKlN,SAAS0L,aAAeuD,EAC7B/B,KAAKlN,SAAS0L,aAAaI,YAAcpQ,EAAK,GAAGsT,SAEjD9B,KAAKlN,SAAS0L,aAAe,CAC3BI,YAAapQ,EAAK,GAAGsT,QAG3B,MACE9B,KAAKlN,SAAS0L,aAAe,CAC3BI,YAAa,UAGqB,OAAlC1K,KAAKK,UAAUyL,KAAKM,YACtBN,KAAK6B,KACH7B,KAAKlN,SACL,aACAkN,KAAKM,SAASgG,QAAQhD,KAAK,GAAG/N,MAAMA,OAEtCyK,KAAK6B,KACH7B,KAAKlN,SACL,aACAkN,KAAKM,SAASgG,QAAQhD,KAAK,GAAG/N,MAAM9B,UAG1C,CACF,CACqB,UAAjBjF,EAAK,GAAG6E,OACVpC,QAAQC,IAAI,KACZ8O,KAAKlN,SAASgN,eAAgB,EAC9BE,KAAKlN,SAAS2S,SAAU,EACxBzF,KAAKlN,SAAS0S,UAAY,QAC1BxF,KAAKlN,SAASgT,UAAY,CACxBvS,KAAM/E,EAAK,GAAG6T,eACd5S,GAAIjB,EAAK,GAAGiB,GACZ8F,MAAO/G,EAAK,GAAGS,MAEjBgC,QAAQC,IAAI,UAEO,UAAjB1C,EAAK,GAAG6E,OACV2M,KAAKlN,SAASgN,eAAgB,EAC9BE,KAAKlN,SAAS0S,UAAY,QAC1BxF,KAAKlN,SAASgT,UAAY,CACxBvS,KAAM/E,EAAK,GAAG6T,eACd5S,GAAIjB,EAAK,GAAGiB,GACZ8F,MAAO/G,EAAK,GAAGS,MAEjB+Q,KAAKlN,SAASkL,kBAAoBxP,EAAK,GAAG8T,2BACtC9T,EAAK,GAAG8T,2BACR,GACJtC,KAAKlN,SAAS0L,aAAewB,KAAKlN,SAASkL,kBACvCgC,KAAKlN,SAASkL,kBAAkB3R,OAAS,GAC3C2T,KAAKlN,SAAS2S,SAAU,EACxBzF,KAAKlN,SAASkL,kBAAkBwD,KAAKtT,IACnC,MAAMqU,EAAU,CACdtT,KAAM,CACJsE,KAAMrF,EAAKc,YACXS,GAAIvB,EAAKuB,GACTgE,UAAU,EACV8B,MAAOrH,EAAK+P,UAEd1I,MAAO,CACLhC,KAAM,GACNE,UAAU,EACV8B,MAAO,KAG2B,OAAlCrB,KAAKK,UAAUyL,KAAKM,WACtBN,KAAKlN,SAASwQ,KAAKhS,KAAKiR,GAEtBrU,EAAK8T,WACPhC,KAAKlN,SAAS+M,kBAAoBG,KAAKyC,YAAYvU,EAAK8T,UACpD9N,KAAKC,MAAMjG,EAAK8T,UAChB,IAEN/Q,QAAQC,IACN8O,KAAKlN,SAAS+M,kBACd,mCAEoC,OAAlC3L,KAAKK,UAAUyL,KAAKM,YACtBN,KAAK6B,KACH7B,KAAKlN,SACL,qBACAkN,KAAKL,SAAS2G,QAAQhD,KAAK,GAAGrU,KAAKQ,IAErCuQ,KAAK6B,KACH7B,KAAKlN,SACL,iBACAkN,KAAKL,SAAS2G,QAAQhD,KAAK,GAAG/N,MAAMA,OAEtCyK,KAAK6B,KACH7B,KAAKlN,SACL,gBACAkN,KAAKL,SAAS2G,QAAQhD,KAAK,GAAG/N,MAAMA,OAEtCyK,KAAK6B,KACH7B,KAAKlN,SACL,aACAkN,KAAKM,SAASgG,QAAQhD,KAAK,GAAG/N,MAAM9B,UAExC,IAEFxC,QAAQC,IAAI8O,KAAKlN,SAASwQ,KAAM,2BAEhCtD,KAAKlN,SAASwQ,KAAO,GACrBtD,KAAKlN,SAAS2S,SAAU,IAGP,gBAAjBjX,EAAK,GAAG6E,OACVpC,QAAQC,IAAI,KACZ8O,KAAKlN,SAAS2S,SAAU,EACxBzF,KAAKlN,SAAS0S,UAAY,cAC1BxF,KAAKlN,SAASgT,UAAY,CACxBvS,KAAM/E,EAAK,GAAG6T,eACd5S,GAAIjB,EAAK,GAAGiB,GACZ8F,MAAO/G,EAAK,GAAGS,MAEjB+Q,KAAKlN,SAASgN,eAAgB,EAC9BE,KAAKlN,SAASkL,kBAAoBxP,EAAK,GAAG8T,2BACtC9T,EAAK,GAAG8T,2BACR,GACAtC,KAAKlN,SAASkL,kBAAkB3R,OAAS,EAC3C2T,KAAKlN,SAASkL,kBAAkBwD,KAAI,CAACtT,EAAMmE,KACzC2N,KAAK6B,KAAK3T,EAAM,QAAS,IACzB,MAAMqU,EAAU,CACdtT,KAAM,CACJsE,KAAMrF,EAAKc,YACXS,GAAIvB,EAAKuB,GACTgE,UAAU,EACV8B,MAAOrH,EAAK+P,UAEd1I,MAAO,CACLhC,KAAM,GACNE,UAAU,EACV8B,MAAO,KAIX,GADAtE,QAAQC,IAAIhD,EAAM,cACdA,EAAK8T,SAAU,CACjB,IAAIxT,EACoB,QAApBN,EAAK0Q,aAA6C,QAApB1Q,EAAK0Q,aACrCpQ,EAAOwR,KAAKyC,YAAYvU,EAAK8T,UACzB9N,KAAKC,MAAMjG,EAAK8T,UAChB,GACJxT,EAAKgT,KAAKkB,IACsB,kBAAnBA,EAAMhE,WACfgE,EAAMhE,SAAWgE,EAAMhE,SAAW,GACpC,KAGFlQ,EAAOwR,KAAKyC,YAAYvU,EAAK8T,UACzB9N,KAAKC,MAAMjG,EAAK8T,UAChB,GAEN9T,EAAKsQ,aAAehQ,CACtB,CACsC,OAAlC0F,KAAKK,UAAUyL,KAAKM,WACtBN,KAAKlN,SAASwQ,KAAKhS,KAAKiR,GAEY,OAAlCrO,KAAKK,UAAUyL,KAAKM,WACtBN,KAAK6B,KACH3T,EACA,QACA8R,KAAKM,SAASgG,QAAQhD,KAAKjR,GAAOkD,MAAMA,OAE1CyK,KAAK6B,KACH3T,EACA,UACA8R,KAAKM,SAASgG,QAAQhD,KAAKjR,GAAOkD,MAAM9B,WAG1CvF,EAAK2Q,SAAU,CACjB,IAGFmB,KAAKlN,SAASwQ,KAAO,IAGzBrS,QAAQC,IAAI1C,EAAM,aACpB,EACAiU,YAAYK,GACV,GAAkB,iBAAPA,EACT,IACE,IAAIC,EAAM7O,KAAKC,MAAM2O,GAErB,OADA7R,QAAQC,IAAI,QAAU6R,IACf,CAGT,CAFE,MAAO7L,GACP,OAAO,CACT,CAEJ,EAEAmJ,iBAAiBnS,EAAMqH,EAAO6K,GAC5B,GAAIlS,EAAKsQ,cAAgBjJ,EAAO,CAoB9B,GAnByB,WAArBrH,EAAK0Q,cACFoB,KAAKgD,gBAAgBC,SAAS1N,EAAO,IACxC6K,EAAS,WAEP8C,WAAW3N,GAAS2N,WAAWhV,EAAKsQ,aAAayD,WAGnDiB,WAAW3N,GAAS2N,WAAWhV,EAAKsQ,aAAa0D,WAIjDgB,WAAW3N,GAAS2N,WAAWhV,EAAKsQ,aAAa2D,QACjD,EAPA/B,EAAS,oBAWTA,KAGqB,QAArBlS,EAAK0Q,YAAuB,CAC9B,IAAIuE,EAAM,WACLA,EAAIpY,KAAKwK,IACZ6K,EAAS,WAEPuC,OAAOpN,GAASoN,OAAOzU,EAAKsQ,aAAayD,WAElCU,OAAOpN,GAASoN,OAAOzU,EAAKsQ,aAAa0D,WAEzCS,OAAOpN,GAASoN,OAAOzU,EAAKsQ,aAAa2D,QAAU,EAH5D/B,EAAS,oBAMTA,GAEJ,CACyB,WAArBlS,EAAK0Q,aACPwB,GAEJ,MACEA,GAEJ,EAEA7B,kBAAkBrH,EAAG7E,EAAOgB,GAC1BpC,QAAQC,IAAIgG,EAAG7E,EAAOgB,GACT,WAATA,EACF2M,KAAKlN,SAASkL,kBAAkB3L,GAAOmM,aAAakC,QAAQxS,IACtDA,EAAKwQ,WAAaxH,IACpB8I,KAAKlN,SAASwQ,KAAKjR,GAAOkD,MAAQ,CAChChC,KAAMrF,EAAKc,YACXyE,SAAUuM,KAAKlN,SAASkL,kBAAkB3L,GAAOwM,QACjDtJ,MAAO2B,GAEX,IAEgB,UAAT7D,EACT2M,KAAKlN,SAASwQ,KAAKjR,GAAOkD,MAAQ,CAChChC,KAAM2D,EACNzD,SAAUuM,KAAKlN,SAASkL,kBAAkB3L,GAAOwM,QACjDtJ,MAAO2B,IAGT8I,KAAK6B,KAAK7B,KAAKlN,SAASkL,kBAAkB3L,GAAQ,UAAW6E,GAC7DjG,QAAQC,IAAI8O,KAAKlN,SAASwQ,KAAM,sBAChCtD,KAAKlN,SAASwQ,KAAKjR,GAAOkD,MAAM9B,SAAWyD,EAC3C8I,KAAKkB,eAET,EACAkC,gBACEpD,KAAK0B,MAAMC,SAASlN,aACtB,EAEAyK,mBAAmBhI,GACjBjG,QAAQC,IAAIgG,EAAG,SACXA,GACF8I,KAAK0B,MAAMC,SAASC,cAAc,sBAEpC3Q,QAAQC,IAAI8O,KAAKlN,SAAS0L,aAAc,+BACxC,MAAMhQ,EAAOwR,KAAKlN,SAAS0L,aAAakC,QAAQxS,GACvCA,EAAKwQ,WAAaxH,IAE3B8I,KAAKlN,SAASwQ,KAAK,GAAG/N,MAAQ,CAC5BhC,KAAM/E,EAAK,GAAGQ,YACduG,MAAO2B,EACPzD,SAAUuM,KAAKlN,SAASyM,WAE5B,EAEAoG,wBAAwBzO,GAClBA,GACF8I,KAAK0B,MAAMC,SAASC,cAAc,sBAEpC3Q,QAAQC,IAAI8O,KAAKlN,SAAS0L,aAAc,+BACxC,MAAMhQ,EAAOwR,KAAKlN,SAAS0L,aAAakC,QAAQxS,GACvCA,EAAKuB,KAAOyH,IAErB8I,KAAKlN,SAASwQ,KAAK,GAAG/N,MAAQ,CAC5BhC,KAAM/E,EAAK,GAAGQ,YACduG,MAAO2B,EACPzD,SAAUuM,KAAKlN,SAASyM,WAE5B,EACA8D,2BAA2BnM,GACzB,MAAM1I,EAAOwR,KAAKlN,SAAS+M,kBAAkBa,QAAQxS,GAC5CA,EAAKwQ,WAAaxH,IAE3B8I,KAAKlN,SAASwQ,KAAK,GAAG/N,MAAQ,CAC5BhC,KAAM/E,EAAK,GAAGQ,YACduG,MAAO2B,EACPzD,SAAUuM,KAAKlN,SAASyM,WAE5B,EACAgE,qBAAqBrM,GAEnB,IAAI3D,EADJtC,QAAQC,IAAIgG,EAAG,UAGb3D,EADEyM,KAAKlN,SAAS0L,aAAac,KACtBpI,EAAE7I,OAAOkH,MAAQyK,KAAKlN,SAAS0L,aAAac,KAE5CpI,EAAE7I,OAAOkH,MAElByK,KAAKlN,SAASwQ,KAAK,GAAG/N,MAAQ,CAC5BhC,KAAMA,EACNgC,MAAO2B,EAAE7I,OAAOkH,MAChB9B,SAAUuM,KAAKlN,SAASyM,YAE1BtO,QAAQC,IAAI8O,KAAKlN,SAASwQ,KAAK,GAAG/N,MAAO,8BAC3C,EACA8J,kBAAkBnI,GAChB,IAAI3D,EACAyM,KAAKlN,SAAS0L,aAAac,OAC7B/L,EAAO2D,EAAE7I,OAAOkH,MAAQyK,KAAKlN,SAAS0L,aAAac,MAErDU,KAAKlN,SAASwQ,KAAK,GAAG/N,MAAQ,CAC5BhC,KAAMA,GAAQ2D,EAAE7I,OAAOkH,MACvBA,MAAO2B,EAAE7I,OAAOkH,MAChB9B,SAAUuM,KAAKlN,SAASyM,YAE1BtO,QAAQC,IAAI8O,KAAKlN,SAASwQ,KAAK,GAAG/N,MACpC,ICl+BJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,suBCcWnF,MAAM,a,IAeT,wBAAoC,QAA9BsC,MAAA,kBAAsB,KAAC,G,IAe7B,wBAAuC,QAAjCA,MAAA,uBAAyB,KAAC,G,IAE7BtC,MAAM,W,IAeT,wBAAoC,QAA9BsC,MAAA,kBAAsB,KAAC,G,IAe7B,wBAAuC,QAAjCA,MAAA,uBAAyB,KAAC,G,IAoGlC,wBAGI,KAHDtC,MAAM,aAAW,EAClB,wBAAsE,OAAjEwF,IAAA,GAAsCC,IAAI,GAAGzF,MAAM,eACxD,wBAAgC,QAA1BA,MAAM,YAAW,Q,OAEzB,wBAGI,KAHDA,MAAM,eAAc,+GAGvB,G,8RAvLJ,iBAyLU,GAxLRwC,IAAI,WACHyC,MAAO,EAAAvC,SACR1C,MAAM,cACLoD,MAAO,EAAAA,MACR,cAAY,QACZ,iBAAe,O,wBAEf,IAsEe,EAtEf,iBAsEe,GAtEDgC,MAAM,QAAQC,KAAK,oBAAoBrF,MAAM,a,wBACzD,IAIC,EAJD,iBAIC,G,WAHU,EAAA0C,SAASyT,a,qCAAT,EAAAzT,SAAqB,gBAC7B,SAAQ,EAAA0T,0B,wBACR,IAAE,E,qBAAF,S,mCAEH,wBA+BM,MA/BN,GA+BM,EA9BJ,iBAaY,G,WAZD,EAAA1T,SAAS2T,kB,qCAAT,EAAA3T,SAA0B,qBACnCJ,MAAA,eACA,eAAa,oBACboD,YAAY,GACXgJ,UAAW,EAAAhM,SAASyT,c,wBAGnB,IAAuB,G,oBADzB,wBAKa,iCAJI,EAAA9C,SAARvV,K,kBADT,iBAKa,GAHV6C,IAAK7C,EACLsH,MAAOtH,EACPqH,MAAOrH,G,wEAGZ,IACA,iBAaY,G,WAZD,EAAA4E,SAAS4T,qB,qCAAT,EAAA5T,SAA6B,wBACtCJ,MAAA,eACA,eAAa,oBACboD,YAAY,GACXgJ,UAAW,EAAAhM,SAASyT,c,wBAGnB,IAA0B,G,oBAD5B,wBAKa,iCAJI,EAAA5C,YAARzV,K,kBADT,iBAKa,GAHV6C,IAAK7C,EACLsH,MAAOtH,EACPqH,MAAOrH,G,wEAGZ,MAEF,wBA+BM,MA/BN,GA+BM,EA9BJ,iBAaY,G,WAZD,EAAA4E,SAAS6T,gB,qCAAT,EAAA7T,SAAwB,mBACjCJ,MAAA,eACA,eAAa,oBACboD,YAAY,GACXgJ,UAAW,EAAAhM,SAASyT,c,wBAGnB,IAAuB,G,oBADzB,wBAKa,iCAJI,EAAA9C,SAARvV,K,kBADT,iBAKa,GAHV6C,IAAK7C,EACLsH,MAAOtH,EACPqH,MAAOrH,G,wEAGZ,IACA,iBAaY,G,WAZD,EAAA4E,SAAS8T,mB,qCAAT,EAAA9T,SAA2B,sBACpCJ,MAAA,eACA,eAAa,oBACboD,YAAY,GACXgJ,UAAW,EAAAhM,SAASyT,c,wBAGnB,IAA0B,G,oBAD5B,wBAKa,iCAJI,EAAA5C,YAARzV,K,kBADT,iBAKa,GAHV6C,IAAK7C,EACLsH,MAAOtH,EACPqH,MAAOrH,G,wEAGZ,Q,OAGJ,iBAmCe,GAnCDsH,MAAM,OAAOC,KAAK,gBAAgBrF,MAAM,a,wBACpD,IAIC,EAJD,iBAIC,G,WAHU,EAAA0C,SAAS+T,a,qCAAT,EAAA/T,SAAqB,gBAC7B,SAAQ,EAAAgU,0B,wBACR,IAAE,E,qBAAF,S,mCAEH,iBAcY,G,WAbD,EAAAhU,SAASiU,c,qCAAT,EAAAjU,SAAsB,iBAC/B1C,MAAM,YACN0F,YAAY,GACZpD,MAAA,gBACA,eAAa,oBACZoM,UAAW,EAAAhM,SAAS+T,c,wBAGnB,IAA+B,G,oBADjC,wBAKa,iCAJI,EAAAG,iBAAR9Y,K,kBADT,iBAKa,GAHV6C,IAAK7C,EACLsH,MAAOtH,EACPqH,MAAOrH,G,yEAGZ,iBAaY,G,WAZD,EAAA4E,SAASmU,gB,qCAAT,EAAAnU,SAAwB,mBACjCgD,YAAY,GACZpD,MAAA,qCACA,eAAa,oBACZoM,UAAW,EAAAhM,SAAS+T,c,wBAGnB,IAAkC,G,oBADpC,wBAKa,iCAJI,EAAAK,oBAARhZ,K,kBADT,iBAKa,GAHV6C,IAAK7C,EACLsH,MAAOtH,EACPqH,MAAOrH,G,kFAId,iBAee,GAfDsH,MAAM,OAAOC,KAAK,gB,wBAC9B,IAaY,EAbZ,iBAaY,G,WAZD,EAAA3C,SAASqU,a,qCAAT,EAAArU,SAAqB,gBAC9BnF,SAAA,GACAmI,YAAY,UACZ,eAAa,oBACbpD,MAAA,gB,wBAGE,IAAgC,G,oBADlC,wBAKa,iCAJI,EAAA0U,kBAARlZ,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKmZ,WACV7R,MAAOtH,EAAKc,YACZuG,MAAOrH,EAAKmZ,Y,uEAInB,iBAce,GAdD7R,MAAM,OAAOC,KAAK,a,wBAC9B,IAYY,EAZZ,iBAYY,G,WAXD,EAAA3C,SAASwU,U,qCAAT,EAAAxU,SAAkB,aAC3BgD,YAAY,UACZ,eAAa,mCACbpD,MAAA,gB,wBAGE,IAA6B,G,oBAD/B,wBAKa,iCAJI,EAAA6U,eAARrZ,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAKmZ,WACV7R,MAAOtH,EAAKc,YACZuG,MAAOrH,EAAKmZ,Y,uEAInB,iBAce,GAdD7R,MAAM,QAAQC,KAAK,mB,wBAC/B,IAYY,EAZZ,iBAYY,G,WAXD,EAAA3C,SAAS0U,gB,uCAAT,EAAA1U,SAAwB,mBACjCJ,MAAA,eACA,eAAa,oBACboD,YAAY,I,wBAGV,IAAmC,G,oBADrC,wBAKa,iCAJI,EAAA2R,qBAARvZ,K,kBADT,iBAKa,GAHV6C,IAAK7C,EAAK6C,IACVyE,MAAOtH,EAAKqH,MACZA,MAAOrH,EAAK6C,K,uEAInB,iBAMe,GANDyE,MAAM,OAAO9C,MAAA,eAAoB+C,KAAK,gB,wBAClD,IAIE,EAJF,iBAIE,G,WAHS,EAAA3C,SAAS4U,a,uCAAT,EAAA5U,SAAqB,gBAC9BgD,YAAY,iBACZ6I,UAAU,M,iCAGd,iBAMe,GANDnJ,MAAM,OAAO9C,MAAA,eAAoB+C,KAAK,kB,wBAClD,IAIE,EAJF,iBAIE,G,WAHS,EAAA3C,SAAS6U,e,uCAAT,EAAA7U,SAAuB,kBAChCgD,YAAY,iBACZ6I,UAAU,M,iCAGd,iBASe,GATDvO,MAAM,OAAK,C,uBACvB,IAGI,CAHJ,GAIA,M,mCAWN,QACE0G,MAAO,CACL6I,SAAU,CACRtM,KAAM4I,OACNjK,UACE,MAAO,CAAC,CACV,IAGJxD,OACE,MAAO,CACLsE,SAAU,CACRyT,cAAc,EACdE,kBAAmB,KACnBC,qBAAsB,KACtBC,gBAAiB,KACjBC,mBAAoB,KACpBC,cAAc,EACdE,cAAe,KACfE,gBAAiB,QACjBE,aAAc,GACdG,UAAW,GACXE,gBAAiB,IACjBE,aAAc,GACdC,eAAgB,IAElB5H,OAAQC,KAAKC,OAAOhI,MAAM8H,QAAU,GACpCvM,MAAO,CACLiT,kBAAmB,CACjB,CAAEhT,UAAU,EAAMC,QAAS,WAAYC,QAAS,WAElDoT,cAAe,CACb,CAAEtT,UAAU,EAAMC,QAAS,UAAWC,QAAS,WAEjDwT,aAAc,CACZ,CAAE1T,UAAU,EAAMC,QAAS,UAAWC,QAAS,WAEjD2T,UAAW,CACT,CAAE7T,UAAU,EAAMC,QAAS,UAAWC,QAAS,WAEjD+T,aAAc,CACZ,CAAEjU,UAAU,EAAMC,QAAS,UAAWC,QAAS,SAEjDgU,eAAgB,CACd,CAAElU,UAAU,EAAMC,QAAS,UAAWC,QAAS,UAGnDyT,iBAAkB,GAClBG,cAAe,GACfE,oBAAqB,CACnB,CACE1W,IAAK,IACLwE,MAAO,QAET,CACExE,IAAK,IACLwE,MAAO,QAET,CACExE,IAAK,IACLwE,MAAO,QAET,CACExE,IAAK,IACLwE,MAAO,SAGXkO,QAAS,GACTE,WAAY,GACZqD,gBAAiB,GACjBE,mBAAoB,GAExB,EACApG,UAQE,GAPA7P,QAAQC,IAAI,MACZ8O,KAAK4H,kBACL5H,KAAK6H,eACL7H,KAAKyD,QAAU,UAAmB,IAAI,GACtCzD,KAAK2D,WAAa,UAAmB,IAAI,GACzC3D,KAAKgH,gBAAkBhH,KAAK8H,wBAC5B9H,KAAKkH,mBAAqBlH,KAAK+H,yBAAyB,IAClB,OAAlC7T,KAAKK,UAAUyL,KAAKL,UAAoB,CAC1C,MAAMnR,EAAOwR,KAAKL,SAASqI,YAAYC,YACvC,QAAsBrP,IAAlBpK,EAAK0Z,SAAwB,CAC/BjX,QAAQC,IACN8O,KAAKL,SAASqI,YAAYC,YAC1B,yCAEF,MAAME,EACJnI,KAAKL,SAASqI,YAAYC,YAAYG,kBACtCpI,KAAKL,SAASqI,YAAYC,YAAYG,iBAAiB/b,OAAS,EAC5D2T,KAAKL,SAASqI,YAAYC,YAAYG,iBAAiB3D,MAAM,KAC7D,GACNzE,KAAKlN,SAAS2T,kBACO,iBAAZ0B,EAAuBA,EAAS,GAAK,KAC9CnI,KAAKlN,SAAS4T,qBACO,iBAAZyB,EAAuBA,EAAS,GAAK,KAC9C,MAAME,EACJrI,KAAKL,SAASqI,YAAYC,YAAYK,gBACtCtI,KAAKL,SAASqI,YAAYC,YAAYK,eAAejc,OAAS,EAC1D2T,KAAKL,SAASqI,YAAYC,YAAYK,eAAe7D,MAAM,KAC3D,GACNzE,KAAKlN,SAAS6T,gBACM,iBAAX0B,EAAsBA,EAAQ,GAAK,KAC5CrI,KAAKlN,SAAS8T,mBACM,iBAAXyB,EAAsBA,EAAQ,GAAK,KAEzCrI,KAAKL,SAASqI,YAAYC,YAAYG,kBACrCpI,KAAKL,SAASqI,YAAYC,YAAYG,iBAAiB/b,OACrD,GACH2T,KAAKL,SAASqI,YAAYC,YAAYK,gBACrCtI,KAAKL,SAASqI,YAAYC,YAAYK,eAAejc,OAAS,EAEhE2T,KAAKlN,SAASyT,cAAe,EAE7BvG,KAAKlN,SAASyT,cAAe,EAE/BvG,KAAKuI,eAAevI,KAAKL,SAASqI,YAAYC,YAAYO,aAC5D,MAA4B,MAAjBha,EAAK0Z,WACdlI,KAAKlN,SAAW,CACdyT,cAAc,EACdE,kBAAmB,KACnBC,qBAAsB,KACtBC,gBAAiB,KACjBC,mBAAoB,KACpBC,cAAc,EACdE,cAAe,KACfE,gBAAiB,UAGrBjH,KAAK6B,KACH7B,KAAKlN,SACL,eACAkN,KAAKL,SAASqI,YAAYS,YAAYC,UAExC1I,KAAK6B,KACH7B,KAAKlN,SACL,iBACAkN,KAAKL,SAASqI,YAAYS,YAAYE,YAExC3I,KAAK6B,KACH7B,KAAKlN,SACL,kBACAkN,KAAKL,SAASqI,YAAYY,SAASxG,YAKrCpC,KAAK6I,oBAAoB7I,KAAKL,SAASqI,YAAYc,UACrD,CACF,EACA7H,QAAS,CAEP2G,kBACE,IAAIzG,EAEFA,EADkB,kBAAhBnB,KAAKD,OACD,sDAEA,mDAER,OAAW,OAAQoB,EAAK,CACtB4H,iBAAkB,qBACjB3H,MAAMC,IACY,SAAfA,EAAIC,UACNtB,KAAKoH,iBAAmB/F,EAAI7S,KAC9B,GAEJ,EAEAqZ,eACE,IAAI1G,EAEFA,EADkB,kBAAhBnB,KAAKD,OACD,sDAEA,mDAER,OAAW,OAAQoB,EAAK,CACtB4H,iBAAkB,iBACjB3H,MAAMC,IACY,SAAfA,EAAIC,UACNtB,KAAKuH,cAAgBlG,EAAI7S,KAC3B,GAEJ,EAEA4U,gBACEpD,KAAK0B,MAAMC,SAASlN,aACtB,EAEAqT,wBACE,MAAMtZ,EAAO,UAAmB,IAChC,OAAOA,EAAKgT,KAAKtT,GACAA,EAAO,KAE1B,EAEA6Z,yBAAyB5D,GACvB,MAAMC,EAAO,GACb,IAAK,IAAI7K,EAAI,EAAGA,EAAI4K,EAAK5K,GAAK,EAC5B6K,EAAK9S,KAAKiI,EAAE6I,WAAa,OAE3B,OAAOgC,CACT,EAEAmE,eAAeS,GACb,GAAY,MAARA,EACF,OAEF,MAAMC,EAAOC,SAASF,EAAO,IAC7BhJ,KAAKlN,SAASiU,cAAgBmC,SAASF,EAAO,IAAI5G,WAAa,IAC/DpC,KAAKlN,SAASmU,gBACZiC,SAASF,EAAc,GAAPC,GAAW7G,WAAa,MAExCpC,KAAKlN,SAAS+T,aADH,OAATmC,CAKN,EAEAH,oBAAoBvK,GAClB,MAAM9P,EAAO,GACb,IAAK,IAAI+K,KAAK+E,EACZ9P,EAAK8C,KAAKiI,GACVyG,KAAK6B,KAAK7B,KAAKlN,SAAU,YAAawL,EAAM/E,IAG9CyG,KAAK6B,KAAK7B,KAAKlN,SAAU,eAAgBtE,EAE3C,EAEAgY,yBAAyBtP,GAClBA,IACH8I,KAAKlN,SAAS2T,kBAAoB,KAClCzG,KAAKlN,SAAS4T,qBAAuB,KACrC1G,KAAKlN,SAAS6T,gBAAkB,KAChC3G,KAAKlN,SAAS8T,mBAAqB,KAEvC,EAEAE,yBAAyB5P,GAClBA,IACH8I,KAAKlN,SAASiU,cAAgB,KAC9B/G,KAAKlN,SAASmU,gBAAkB,QAEpC,ICrbJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,UCQW7W,MAAM,a,IAcT,wBAAsC,QAAhCsC,MAAA,mBAAuB,MAAE,G,IAc/B,wBAAsC,QAAhCA,MAAA,mBAAuB,MAAE,G,IAc/B,wBAAwC,QAAlCA,MAAA,wBAA0B,KAAC,G,iNAlDvC,iBAwDU,GAvDRE,IAAI,WACHyC,MAAO,EAAAvC,SACR1C,MAAM,cACN,cAAY,QACZ,iBAAe,O,wBAEf,IA6Ce,EA7Cf,iBA6Ce,GA7CDoF,MAAM,OAAOpF,MAAM,Y,wBAC/B,IA2CM,EA3CN,wBA2CM,MA3CN,GA2CM,EA1CJ,iBAYY,G,WAXD,EAAA0C,SAASqW,e,qCAAT,EAAArW,SAAuB,kBAChC,eAAa,oBACbJ,MAAA,eACAoD,YAAY,I,wBAGV,IAAuB,G,oBADzB,wBAKa,iCAJI,EAAA2N,SAARvV,K,kBADT,iBAKa,GAHV6C,IAAK7C,EACLsH,MAAOtH,EACPqH,MAAOrH,G,6DAGZ,IACA,iBAYY,G,WAXD,EAAA4E,SAASsW,kB,qCAAT,EAAAtW,SAA0B,qBACnC,eAAa,oBACbJ,MAAA,eACAoD,YAAY,I,wBAGV,IAA0B,G,oBAD5B,wBAKa,iCAJI,EAAA6N,YAARzV,K,kBADT,iBAKa,GAHV6C,IAAK7C,EACLsH,MAAOtH,EACPqH,MAAOrH,G,6DAGZ,IACA,iBAYY,G,WAXD,EAAA4E,SAASuW,iB,qCAAT,EAAAvW,SAAyB,oBAClC,eAAa,oBACbJ,MAAA,eACAoD,YAAY,I,wBAGV,IAA0B,G,oBAD5B,wBAKa,iCAJI,EAAAwT,YAARpb,K,kBADT,iBAKa,GAHV6C,IAAK7C,EACLsH,MAAOtH,EACPqH,MAAOrH,G,6DAGZ,Q,MAGgB,EAAA4E,SAAe,S,kBAAnC,iBAEC,G,MAFoCJ,MAAA,e,wBAClC,IAAQ,E,qBAAR,e,4DAQP,QACEoE,MAAO,CACL6I,SAAU,CACRtM,KAAM4I,OACNjK,UACE,MAAO,CAAC,CACV,IAGJxD,OACE,MAAO,CACLsE,SAAU,CACRqW,eAAgB,IAChBC,kBAAmB,IACnBC,iBAAkB,IAClBE,QAAQ,GAEVxJ,OAAQC,KAAKC,OAAOhI,MAAM8H,QAAU,GACpC0D,QAAS,GACTE,WAAY,GACZ2F,WAAY,GACZE,UAAW,CAAC,EAEhB,EACA1I,UACEd,KAAKyD,QAAU,UAAmB,IAClCzD,KAAK2D,WAAa,UAAmB,IACrC3D,KAAKsJ,WAAa,UAAmB,IACrCtJ,KAAKyJ,eACiC,OAAlCvV,KAAKK,UAAUyL,KAAKL,WACtBK,KAAK0J,cAAc1J,KAAKL,SAASgK,aAAarG,KAAK,GAAG/N,MAAMA,MAEhE,EACA0L,QAAS,CAEPwI,eACE,IAAItI,EAEFA,EADkB,kBAAhBnB,KAAKD,OACD,8DAEA,2DAER,OAAW,MAAOoB,GAAKC,MAAMC,IACR,SAAfA,EAAIC,UACNtB,KAAKwJ,UAAYnI,EAAI7S,KAAK,GAC5B,GAEJ,EAEA4U,gBACEpD,KAAKlN,SAAW,CACdqW,eAAgB,IAChBC,kBAAmB,IACnBC,iBAAkB,IAClBE,QAAQ,EAEZ,EAEAG,cAAcV,GACZhJ,KAAKlN,SAASqW,eAAiBD,SAASF,EAAO,MAAM5G,WACrDpC,KAAKlN,SAASsW,kBAAoBF,UAC/BF,EAAsC,KAA/BhJ,KAAKlN,SAASqW,gBAAyB,IAC/C/G,WACFpC,KAAKlN,SAASuW,iBAAmBH,UAC9BF,EAAsC,KAA/BhJ,KAAKlN,SAASqW,gBAAyB,IAC/C/G,UACJ,IClIJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,I,GAAA,MCSA,UACE,GAAC,MAAiB,EAClB,GAAC,MAAY,EACb,GAAC,MAAe,EAChB,GAAC,MAAa,EACd,GAAC,MAAwB,GACzB,GAAC,MAAsB,GACvB,GAAC,MAAoB,G,IClBjBwH,IAAU,oBACX,IACA,GAYQC,GAAkB,SAAC,G,IAC9Bza,EAAQ,WAKR,OADA6B,QAAQC,IAAI9B,GACLwa,GAAQxa,EACjB,C,kGC3Ba0a,EAAkB,gBAClBC,EAAkB,gBAClBC,EAAgB,cAChBC,EAAuB,qBCErB,SAASC,EAAc,G,IACpCC,EAAU,aACVC,EAAU,aAEV,OAAID,IAAcC,GAAcD,IAAeC,CAIjD,C,gBCRe,SAASC,EAAc,G,IACpCC,EAAc,iBACdC,EAAc,iBAEd,GACE,aAAoBD,IAAmB,GACvC,aAAmBC,IAAmB,EAEtC,OAAO,CAEX,CCEA,SAASC,EAAYve,EAAcse,EAAwBE,GACzD,OACEF,IAAmB,OACnBte,EAAMye,iBAAiBD,EAK3B,CAMA,SAASE,EAAa1e,EAAcse,EAAwBE,GAC1D,OACEF,IAAmB,OACnBte,EAAMye,iBAAiBD,EAK3B,CAMA,SAASG,EACP3e,EACAqe,EACAG,GAEA,OAAIH,IAAmB,OAGnBre,EAAMye,iBAAiBD,KACvBxe,EAAM4e,iBAAiBJ,EAM7B,CAKe,SAASK,EACtB,EAOA7e,G,IANEwe,EAAU,aACVM,EAAc,iBACdT,EAAc,iBACdU,EAAc,iBACdT,EAAc,iBAMhB,OAFAtZ,QAAQC,IAAI8Z,EAAgBP,GAExBM,IAAmB,MAAiBC,IAAmB,QAItDR,EAAYve,EAAOse,EAAgBE,OAInCE,EAAa1e,EAAOse,EAAgBE,MAMpCG,EAAmB3e,EAAOqe,EAAgBG,GAiBjD,CCrGe,SAAS,EACtB,EAMAxe,G,IALEwe,EAAU,aACVM,EAAc,iBACdC,EAAc,iBACdT,EAAc,iBAIhB,OAAIQ,IAAmB,MAAkBC,IAAmB,OAK1DT,IAAmB,OACnBte,EAAMye,iBAAiBD,GAQ3B,CCnBA,IAAMQ,GAAa,KACjB,EAACnB,GAAkBI,EACnB,EAACH,GAAkBM,EACnB,EAACL,GAAgBc,EACjB,EAACb,GAAuB,E,GAE1B,ICVe,SAASiB,EACtBC,EACA9f,EACAY,GAEA,OAAO,WACL,IAAMmf,EAAcD,EAAS9e,OACzBgf,GAAc,EAElB,GAAIhgB,EAAO8e,YAAc9e,EAAO+e,WAAY,CACpC,MAAmC/e,EAAO8e,WAAW1F,MAAM,KAA1DsG,EAAc,KAAET,EAAc,KAC/B,EAAmCjf,EAAO+e,WAAW3F,MAAM,KAA1DuG,EAAc,KAAET,EAAc,KACrCtZ,QAAQC,IAAI7F,EAAO+e,YAEnB,IAAK,IAAI7Q,EAAI,EAAGA,EAAI6R,EAAa7R,IAC/B,IACG,EAAc4R,EAAS5R,KAAI,oBAErBlO,GAAM,CACT0f,eAAc,EACdT,eAAc,EACdU,eAAc,EACdT,eAAc,IAEhBte,GAEF,CACAof,GAAc,EACd,K,CAGJ,OAAOA,C,CAET,OAAO,CACT,CACF,CC5BA,IAAMF,EAA8C,CAClDrB,EACAC,EACAC,EACAC,GAEa,SAAS,EAAc5e,GACpC,OAAO6f,EAAiBC,EAAU9f,EAAQ2U,KAAnCkL,EACT,CCyBA,I,EAAA,GACEI,mBAAkB,EAElBC,KAAM,CACJC,OAAQ,IAEVC,YAAY,EACZC,YAAY,EACZC,WAAW,EACXC,WAAW,EACXC,WAAW,EACXC,WAAW,EACXC,WAAW,EAEXC,UAAW,CACT/c,KAAM,UACNqU,KAAM,CACJkI,OAAQ,IAGZS,gBAAiB,SAEjBC,OAAQ,SAERtb,OAAQ,CACN3B,KAAM,YACNqU,KAAM,CACJ6I,QAAS,IAQbC,WAAU,WAeR,OAAO,IAAI,QAAW,CACpBxb,OAAQ,YACRyb,MAAO,CACLC,KAAM,C,GAIRC,QAAS,GAEb,GC3GWC,EAAa,YCEpBC,EAAmB,CAGvBC,YAAY,EACZC,KAAM,CACJtZ,KAAM,OACNiC,KAAM,GACNsX,SAAS,EACTtJ,KAAM,CACJuJ,MAAO,UACPC,UAAW,IAGfC,YAAY,EACZC,QAAS,CACPtf,SAAS,EACTuf,UAAW,CAAC,MAAO,QACnBC,WAAY,CAAC,kBAEfC,WAAY,CACVzf,SAAS,EACTuf,UAAW,OACXG,OAAQ,IACRC,SAAU,IACVC,SAAU,IAEZC,aAAc,CACZC,gBAAiB,CACfve,KAAM,SACNqU,KAAM,CACJ+I,MAAO,CACLoB,KAAM,OACNC,OAAQ,UACRC,YAAa,MAKrBC,WAAY,CACVrC,MAAM,EACNE,YAAY,EACZC,YAAY,EACZC,WAAW,EACXC,WAAW,EACXC,WAAW,EACXC,WAAW,EACXC,WAAW,EACXC,UAAWQ,EACXP,gBAAiB,SACjB4B,WAAY,QACZ3B,OAAQ,SACRtb,OAAQ,SACRkd,aAAa,EACbC,iBAAiB,EACjBC,eAAc,WAGZ,OAAO,CACT,EACA5B,WAAU,WACR,OAAO,IAAI,QAAW,CACpBC,MAAO,CACLC,KAAM,CACJoB,OAAQ,OACRC,YAAa,EACbM,aAAc,CACZhf,KAAM,QACNyL,MAAO,GACPwT,OAAQ,KAId3B,OAAQ,GAEZ,IAGJ,IC5EM4B,GAAmB,oBACpBC,GAAY,CACfR,WAAU,IAEZ,ICHMS,GAAQ,KACZ,EAAC,MAAclT,E,GAGjB,ICQO,SAASmT,EAAc,G,IAC5B5X,EAAY,eACZC,EAAS,YACT4X,EAAM,SAEA/gB,EAAU,CACdmJ,UAAS,GAgBX,OAbID,EACFuF,OAAOuS,OAAOhhB,EAAS,EAASkJ,IACvB6X,GAETtS,OAAOuS,OAAOhhB,EAAS4gB,EAAcG,EAAO/gB,SAAW,CAAC,EAAG,C,IAStD,OAAUA,EACnB,C,wDCtCO,IACMihB,EAAc,e,mGCErBte,EAAa,CAAEC,MAAO,cACtBC,EAAa,CAAED,MAAO,oBACtBE,EAAa,CAAC,OACdC,EAAa,CAAEH,MAAO,aAM5B,GAA4B,qBAAiB,CAC3CK,OAAQ,YACRC,MAAA,SAAMC,GAER,IAAM+d,GAAoC,IAAAC,QAAO,WAE3ClgB,GAAO,IAAAmE,OACPgc,GAAa,IAAAhc,KAAS,CAAEqG,SAAU,KAClCA,GAAW,IAAArG,KAAS,CAAC,GAe3B,OAbA,IAAA6D,YAAU,WACJiY,IACFjgB,EAAK8G,MAAQmZ,IACbE,EAAWrZ,MAAQ9G,EAAK8G,MAAM/G,KAC9ByK,EAAS1D,MAAQqZ,EAAWrZ,MAAM0D,UAAY,CAAC,EAC/ChI,QAAQC,IAAI0d,EAAWrZ,OACvB9G,EAAK8G,MAAMmE,GAAG,eAAe,SAAC,G,IAAEmV,EAAO,UACrCD,EAAWrZ,MAAQsZ,EACnB5V,EAAS1D,MAAQqZ,EAAWrZ,MAAM0D,UAAY,CAAC,CACjD,IAEJ,IAEO,SAAC1H,EAAUC,GAChB,OAAQ,kBAAc,wBAAoB,MAAOrB,EAAY,EAC3D,wBAAoB,MAAOE,EAAY,EACrC,wBAAoB,MAAO,CACzBD,MAAO,mBACPwF,IAAKgZ,EAAWrZ,MAAMrG,KACtB2G,IAAK,IACJ,KAAM,EAAGvF,IACZ,wBAAoB,MAAOC,GAAY,qBAAiBqe,EAAWrZ,MAAMvG,aAAc,MAG7F,CACA,I,UC1CA,MAAMe,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCJM,EAAa,CAAEK,MAAO,cACtB,EAAa,CAAEA,MAAO,aAM5B,GAA4B,qBAAiB,CAC3CK,OAAQ,cACRC,MAAA,SAAMC,GAER,IAAM+d,GAAoC,IAAAC,QAAO,WAE3ClgB,GAAO,IAAAmE,OACPgc,GAAa,IAAAhc,KAAS,CAAEqG,SAAU,KAClCA,GAAW,IAAArG,KAAS,CAAC,GAe3B,OAbA,IAAA6D,YAAU,WACJiY,IACFjgB,EAAK8G,MAAQmZ,IACbE,EAAWrZ,MAAQ9G,EAAK8G,MAAM/G,KAC9ByK,EAAS1D,MAAQqZ,EAAWrZ,MAAM0D,UAAY,CAAC,EAC/ChI,QAAQC,IAAI0d,EAAWrZ,OACvB9G,EAAK8G,MAAMmE,GAAG,eAAe,SAAC,G,IAAEmV,EAAO,UACrCD,EAAWrZ,MAAQsZ,EACnB5V,EAAS1D,MAAQqZ,EAAWrZ,MAAM0D,UAAY,CAAC,CACjD,IAEJ,IAEO,SAAC1H,EAAUC,GAChB,OAAQ,kBAAc,wBAAoB,MAAO,EAAY,EAC3D,wBAAoB,MAAO,GAAY,qBAAiBod,EAAWrZ,MAAMvG,aAAc,IAE3F,CACA,ICjCA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCJM,EAAa,CAAEoB,MAAO,cACtB,EAAa,CAAC,OACd,EAAa,CAAEA,MAAO,aAM5B,GAA4B,qBAAiB,CAC3CK,OAAQ,qBACRC,MAAA,SAAMC,GAER,IAAM+d,GAAoC,IAAAC,QAAO,WAE3ClgB,GAAO,IAAAmE,OACPgc,GAAa,IAAAhc,KAAS,CAAEqG,SAAU,KAClCA,GAAW,IAAArG,KAAS,CAAC,GAmB3B,OAZA,IAAA6D,YAAU,WACJiY,IACFjgB,EAAK8G,MAAQmZ,IACbE,EAAWrZ,MAAQ9G,EAAK8G,MAAM/G,KAC9ByK,EAAS1D,MAAQqZ,EAAWrZ,MAAM0D,UAAY,CAAC,EAC/CxK,EAAK8G,MAAMmE,GAAG,eAAe,SAAC,G,IAAEmV,EAAO,UACrCD,EAAWrZ,MAAQsZ,EACnB5V,EAAS1D,MAAQqZ,EAAWrZ,MAAM0D,UAAY,CAAC,CACjD,IAEJ,IAEO,SAAC1H,EAAUC,GAChB,OAAQ,kBAAc,wBAAoB,MAAO,EAAY,EAC3D,wBAAoB,MAAO,CACzBpB,MAAO,mBACPwF,IAAKgZ,EAAWrZ,MAAMrG,KACtB2G,IAAK,IACJ,KAAM,EAAG,IACZ,wBAAoB,MAAO,GAAY,qBAAiBoD,EAAS1D,MAAMuD,WAAa8V,EAAWrZ,MAAMvG,aAAc,IAEvH,CACA,IC3CA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCJM,EAAa,CAAEoB,MAAO,cACtB,EAAa,CAAEA,MAAO,aAM5B,GAA4B,qBAAiB,CAC3CK,OAAQ,iBACRC,MAAA,SAAMC,GAER,IAAM+d,GAAoC,IAAAC,QAAO,WAC3ClgB,GAAO,IAAAmE,OACPgc,GAAa,IAAAhc,KAAS,CAAEqG,SAAU,KAWxC,OAVA,IAAAxC,YAAU,WACJiY,IACFjgB,EAAK8G,MAAQmZ,IACbE,EAAWrZ,MAAQ9G,EAAK8G,MAAM/G,KAC9BC,EAAK8G,MAAMmE,GAAG,eAAe,SAAC,G,IAAEmV,EAAO,UACrCD,EAAWrZ,MAAQsZ,CACrB,IAEJ,IAEO,SAACtd,EAAUC,GAChB,OAAQ,kBAAc,wBAAoB,MAAO,EAAY,EAC3D,wBAAoB,MAAO,GAAY,qBAAiBod,EAAWrZ,MAAMvG,aAAc,IAE3F,CACA,IC3BA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCLM,EAAe,SAAAkB,GAAK,OAAC,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,CAArD,EACpB,EAAa,CAAEE,MAAO,aACtB,EAA2B,GAAa,WAAmB,+BAAoB,MAAO,CAAEA,MAAO,SAAW,MAAO,EAAtD,IAC3D,EAAa,CAAEA,MAAO,WAM5B,GAA4B,qBAAiB,CAC3CK,OAAQ,cACRC,MAAA,SAAMC,GAER,IAAM+d,GAAoC,IAAAC,QAAO,WAC3ClgB,GAAO,IAAAmE,OAEPkc,GAAO,IAAAlc,OASb,OAPA,IAAA6D,YAAU,WACJiY,IACFjgB,EAAK8G,MAAQmZ,IACbI,EAAKvZ,MAAQ9G,EAAK8G,MAAM/G,KAAKiB,GAEjC,IAEO,SAAC8B,EAAUC,GAChB,IAAMud,GAAmB,sBAAkB,SACrCtd,GAAqB,sBAAkB,WACvCud,GAAkB,sBAAkB,QAE1C,OAAQ,kBAAc,wBAAoB,MAAO,EAAY,CAC3D,GACA,wBAAoB,MAAO,EAAY,CACrB,cAAfF,EAAKvZ,QACD,kBAAc,iBAAa9D,EAAoB,CAAEV,IAAK,GAAK,CAC1DiB,SAAS,cAAS,WAAM,QACtB,iBAAa+c,GADS,IAGxBzc,EAAG,MAEL,wBAAoB,IAAI,GACZ,aAAfwc,EAAKvZ,QACD,kBAAc,iBAAa9D,EAAoB,CAAEV,IAAK,GAAK,CAC1DiB,SAAS,cAAS,WAAM,QACtB,iBAAagd,GADS,IAGxB1c,EAAG,MAEL,wBAAoB,IAAI,MAGlC,CACA,ICjDA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCJM,EAAa,CAAElC,MAAO,aACtB,EAAa,CAAEA,MAAO,SAM5B,GAA4B,qBAAiB,CAC3CK,OAAQ,WACRC,MAAA,SAAMC,GAER,IAAM+d,GAAoC,IAAAC,QAAO,WAC3ClgB,GAAO,IAAAmE,OAEP1D,GAAO,IAAA0D,OACPqc,EAAe,CACnBC,KAAM,cAUR,OAPA,IAAAzY,YAAU,WACJiY,IACFjgB,EAAK8G,MAAQmZ,IACbxf,EAAKqG,MAAQ0Z,EAAQxgB,EAAK8G,MAAM/G,KAAKiB,IAEzC,IAEO,SAAC8B,EAAUC,GAChB,IAAMC,GAAqB,sBAAkB,WAE7C,OAAQ,kBAAc,wBAAoB,MAAO,EAAY,EAC3D,wBAAoB,MAAO,EAAY,EACrC,iBAAaA,EAAoB,KAAM,CACrCO,SAAS,cAAS,WAAM,SACrB,kBAAc,kBAAa,6BAAyB9C,EAAKqG,SADpC,IAGxBjD,EAAG,OAIX,CACA,ICtCA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,I,EAAA,I,6BCsBa6c,EAAoB,SAAC3hB,IAChC,SAAS,SACP2B,MAAO3B,EAAQyB,KACfyL,MAAO,IACPwT,OAAQ,GACRjT,UAAWxC,GACRjL,GAEP,EAKa4hB,EAAyB,SAAC5hB,IACrC,SAAS,SACP2B,MAAO3B,EAAQyB,KACfyL,MAAO,GACPwT,OAAQ,GACRjT,UAAWoU,GACR7hB,GAEP,EAGa8hB,EAAsB,SAAC9hB,IAClC,SAAS,SACP2B,MAAO3B,EAAQyB,KACfyL,MAAO,IACPwT,OAAQ,IACRjT,UAAWsU,GACR/hB,GAEP,EAEagiB,EAA6B,SAAChiB,IACzC,SAAS,SACP2B,MAAO,KACPuL,MAAO,IACPwT,OAAQ,GACRjT,UAAWwU,GACRjiB,GAEP,EAIIkiB,GAA2B,EAClBC,EAA8B,WACrCD,IACJA,GAA2B,EAC3B,kBAAmB,KAAuB,CACxCE,QAAS,UACTlV,MAAO,IACPwT,OAAQ,IACR1Y,MAAO,MACP6W,MAAO,CACLwD,KAAM,CACJlC,YAAa,EACbD,OAAQ,UACRD,KAAM,OACNqC,UAAW,yBAEbC,KAAM,CACJC,SAAU,GACVvC,KAAM,YAGVpU,OAAO,OAAc,CACnB4W,cAAe,CAAC,KAAmB,UAGzC,EAKaC,EAAsB,SAAC1iB,IAClC,SAAS,SACP2B,MAAO,KACPuL,MAAO,GACPwT,OAAQ,GACRjT,UAAWkV,GACR3iB,GAwBP,EAIa4iB,GAAmB,SAAC5iB,IAC/B,SAAS,SACP2B,MAAO,KACPuL,MAAO,IACPwT,OAAQ,IACRjT,UAAWoV,GACR7iB,GAEP,EAEA,SACE,EAAC,MAAa2hB,EACd,EAAC,MAAmBC,EACpB,EAAC,MAAgBE,EACjB,EAAC,MAAuBE,EACxB,EAAC,MAAwBG,EACzB,EAAC,MAAeO,EAChB,EAAC,MAAYE,G,GCxJFE,IAAc,WACtB,IAICC,GAAmB,SACvBC,GAKAA,EAASviB,SAAQ,SAACsgB,GAChB+B,GAAY/B,EAAOnf,UAAUmf,EAAO/gB,QACtC,GACF,EACA,MCde,SAASijB,GACtBC,GAEAA,EAAiBziB,SAAQ,SAACsgB,G,MAClB/gB,EAA2B,CAAC,EAElCA,EAAQ6L,OAAQ,OAAc,CAC5B4W,eAA0B,QAAX,EAAA1B,EAAOlf,YAAI,eAAEC,YAAa,KAE3C9B,EAAQyB,KAAOsf,EAAOtf,KACtB,IAAM0hB,EAAcpC,EAAOpf,MAC3B,GAAiB,CAAC,CAAEC,SAAUuhB,EAAYvhB,SAAU5B,QAAO,IAC7D,GACF,C,uMClBO,IAAMojB,EAAa,aACbC,EAAmB,mBACnBC,EAAgB,gBAChBC,EAAuB,uBACvBC,EAAwB,wBAExBC,EAAe,eACfC,EAAY,W,wYCPlB,IAAMC,EAAe,SACfC,EAAc,QACdC,EAAiB,YACjBC,EAAc,CAACH,EAAcE,GAC7BE,EAAa,CAACH,GAEdI,EAAiB,gBACjBC,EAAqB,mBACrBC,EAAoB,kBAEpBC,EAAc,aACdC,EAAkB,gBAClBC,EAAiB,eAEjBC,EAAgB,cAChBC,EAAmB,gBACnBC,EAAoB,iBACpBC,EAA0B,sB,iFClBvC,GACEC,OAAQ,CACNC,EAAG,EACHC,QAAQ,EACR1E,OAAQ,UACRC,YAAa,EACbF,KAAM,S,UCEV,GACE4E,QAAM,KACJ,EAAC,MAAqB,CACpBC,SAAU,QACVjG,MAAK,G,GAGT3J,MAAO,CACL,CACE6P,MAAO,KACP9iB,GAAI,UAAG,KAAc,YAAI,KAAY,aAAI,EAAA+iB,EAAA,SCV/C,GACEH,QAAM,KACJ,EAAC,MAAoB,CACnBC,SAAU,OACVjG,MAAK,G,GAGT3J,MAAO,CACL,CACE6P,MAAO,KACP9iB,GAAI,UAAG,KAAc,YAAI,KAAW,aAAI,EAAA+iB,EAAA,SCV9C,GACEH,QAAM,KACJ,EAAC,MAAkB,CACjBC,SAAU,QACVjG,MAAK,G,GAGT3J,MAAO,CACL,CAAE6P,MAAO,KAAiB9iB,GAAI,UAAG,KAAW,YAAI,KAAW,aAAI,EAAA+iB,EAAA,SCRnE,GACEH,QAAM,KACJ,EAAC,MAAiB,CAChBC,SAAU,OACVjG,MAAK,G,GAGT3J,MAAO,CACL,CAAE6P,MAAO,KAAgB9iB,GAAI,UAAG,KAAW,YAAI,KAAW,aAAI,EAAA+iB,EAAA,SCJlE,GACEH,QAAM,KACJ,EAAC,MAAmB,CAClBC,SAAU,OACVjG,MAAK,GAEP,EAAC,MAAoB,CACnBiG,SAAU,QACVjG,MAAK,GAEP,EAAC,MAA0B,CACzBiG,SAAU,SACVjG,MAAK,G,GAGT3J,MAAO,CACL,CAAE6P,MAAO,KAAkB9iB,GAAI,UAAG,KAAa,YAAI,KAAW,aAAI,EAAA+iB,EAAA,OAClE,CACED,MAAO,KACP9iB,GAAI,UAAG,KAAa,YAAI,KAAY,aAAI,EAAA+iB,EAAA,OAE1C,CACED,MAAO,KACP9iB,GAAI,UAAG,KAAa,YAAI,KAAc,aAAI,EAAA+iB,EAAA,SCrBhD,QACE,EAAC,MAAqBC,EACtB,EAAC,MAAoBC,EACrB,EAAC,MAAgBC,EACjB,EAAC,MAAkBC,EACnB,EAAC,MAAiBC,E,GCbPC,EAAgB,SAAC,G,IAC5B7C,EAAa,gBAMP8C,EACJ,CAAEV,OAAQ,CAAC,EAAG3P,MAAO,IAgBvB,OAdIuN,GACFA,EAAchiB,SAAQ,SAACmB,GACrB2jB,EAAWrQ,MAAQ4B,MAAM0O,UAAUC,OACjCF,EAAWrQ,MACX,EAAStT,GAAUsT,OAErBqQ,EAAWV,OAASpW,OAAOuS,OACzB,CAAC,EACDuE,EAAWV,OACX,EAASjjB,GAAUijB,QAAU,CAAC,EAElC,IAGKU,CACT,C,8QC9BE,wBAOM,aANJ,iBAEa,GAFD3iB,MAAM,OAAO8iB,OAAO,OAAOC,QAAQ,KAAKC,UAAU,U,wBAC5D,IAAkD,EAAlD,iBAAkD,GAAxC,QAAK,eAAE,EAAAC,OAAO,M,wBAAM,IAAU,EAAV,iBAAU,M,gBAE1C,iBAEa,GAFDjjB,MAAM,OAAO8iB,OAAO,OAAOC,QAAQ,KAAKC,UAAU,U,wBAC5D,IAAoD,EAApD,iBAAoD,GAA1C,QAAK,eAAE,EAAAC,QAAQ,M,wBAAM,IAAW,EAAX,iBAAW,M,+BAQhD,GACEvc,MAAO,CACL7K,MAAO,MAETgV,QAAS,CACPoS,OAAOlP,GACLnE,KAAK/T,OAAS+T,KAAK/T,MAAMqnB,KAAKnP,EAChC,I,UChBJ,MAAMpU,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,Q,yKCNE,iBAEa,GAFDI,MAAM,OAAO8iB,OAAO,OAAOC,QAAQ,OAAOC,UAAU,U,wBAC9D,IAAmD,EAAnD,iBAAmD,GAAzC,QAAO,EAAAG,UAAQ,C,uBAAE,IAAc,EAAd,iBAAc,M,6BAO7C,OACEzc,MAAO,CACL7K,MAAO,MAETgV,QAAS,CACPsS,WACE,GAAIvT,KAAK/T,MAAO,CACd,MAAMkY,EAAM,EAAInE,KAAK/T,MAAMqnB,OAC3BnP,EAAM,EAAInE,KAAK/T,MAAMqnB,MAAY,EAAPnP,GAAYnE,KAAK/T,MAAMqnB,KAAKnP,GACtDnE,KAAK/T,MAAMunB,eACb,CACF,ICfJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QCFA,GAA4B,qBAAiB,CAC3C/iB,OAAQ,WACRqG,MAAO,CACL7K,MAAO,MAET+Q,MAAO,CAAC,YACRtM,MAAA,SAAMC,EAAc,G,IAAEkM,EAAI,OAEtB/F,EAAQnG,EAOR8iB,EAAS,WACT3c,EAAM7K,OACR4Q,EAAK,WAAY/F,EAAM7K,MAAMynB,OAAO,CAAEC,MAAM,IAMhD,EAEA,OAAO,SAACpiB,EAAUC,GAChB,IAAMoiB,GAA0B,sBAAkB,gBAC5CniB,GAAqB,sBAAkB,WACvCoiB,GAAwB,sBAAkB,cAEhD,OAAQ,kBAAc,iBAAaA,EAAuB,CACxDzjB,MAAO,OACP8iB,OAAQ,OACRC,QAAS,KACTC,UAAW,UACV,CACDphB,SAAS,cAAS,WAAM,QACtB,iBAAaP,EAAoB,CAAEsE,QAAS0d,GAAU,CACpDzhB,SAAS,cAAS,WAAM,QACtB,iBAAa4hB,GADS,IAGxBthB,EAAG,IALiB,IAQxBA,EAAG,GAEP,CACA,ICjDA,MAAM,EAAc,EAEpB,Q,sMCJE,iBAGa,GAHDlC,MAAM,OAAO8iB,OAAO,OAAOC,QAAQ,OAAOC,UAAU,U,wBAC9D,IAA0D,CAA1C,EAAAU,S,kBAChB,iBAAoD,G,MAAnC,QAAO,EAAAC,Q,wBAAQ,IAAU,EAAV,iBAAU,M,yCAD1C,iBAA0D,G,MAAjC,QAAO,EAAAA,Q,wBAAQ,IAAQ,EAAR,iBAAQ,M,8BAQpD,OACEjd,MAAO,CACL7K,MAAO,MAETuC,OACE,MAAO,CACLslB,QAAQ,EAEZ,EACA7S,QAAS,CACP8S,OAAQ,WACN/T,KAAK8T,QAAU9T,KAAK8T,OAChB9T,KAAK8T,QAAU9T,KAAK/T,OACtB+T,KAAK/T,MAAM+nB,gBACXhU,KAAK/T,MAAMgoB,kBACFjU,KAAK/T,QACd+T,KAAK/T,MAAMioB,iBACXlU,KAAK/T,MAAMkoB,kBAEf,ICxBJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,I,EAAA,I,SCKA,QACE,EAAC,MAAY,EACb,EAAC,MAAkB,EACnB,EAAC,MAAY,EACb,EAAC,MAAgB,E,GCZbhkB,EAAa,CAAEC,MAAO,sBAI5B,GAA4B,qBAAiB,CAC3CK,OAAQ,QACRqG,MAAO,CACLqC,MAAO,MAETzI,MAAA,SAAMC,GAIR,OAAO,SAACY,EAAUC,GAChB,OAAQ,kBAAc,wBAAoB,MAAOrB,EAAY,GAC1D,gBAAW,IAAO,wBAAoB,WAAW,MAAM,gBAAYQ,EAAQwI,OAAO,SAACjL,GAClF,OAAQ,kBAAc,kBAAa,8BAAyB,WAAO,GAAiBA,KAAQ,gBAAY,CAAEkC,MAAO,qBAAuBmB,EAAKuG,OAAQ,CAAE/G,IAAK7C,IAAS,KAAM,GAC7K,IAAI,OAER,CACA,IClBA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,oICIe,SAASsI,IACtB,IAAMvK,GAAQ,IAAA2G,OACRxE,GAAM,IAAAwE,OAkBZ,OAjBA,IAAA6D,YAAU,WACRxK,EAAMsJ,OAAQ,OAAc,CAC1BmB,aAAc,KACdC,UAAWC,SAASC,eAAe,eAGrCzI,EAAImH,OAAQ,OAAUtJ,EAAMsJ,QAE5B,OAAatJ,EAAMsJ,MAAO,CACxB,OACA,QACA,MACA,OACA,OACA,UAEJ,IACO,CACLtJ,MAAK,EACLmC,IAAG,EAEP,C,uFCnCE,wBAAW,sB,GACNgC,MAAM,c,UAIL,wBAAgC,KAA7BA,MAAM,oBAAkB,W,GAA3B,G,SAGiBA,MAAM,gB,0FAR7B,GACA,wBAUM,MAVN,EAUM,EATJ,wBAKM,OALDA,MAAM,aAAc,QAAK,eAAE,EAAAgkB,UAAY,EAAAA,W,6CACvC,EAAAnlB,MAAO,IACV,4BAEM,OAFDmB,OAAK,qBAAC,YAAW,cAAyB,EAAAgkB,a,OAItC,EAAQ,W,kBAAnB,wBAEM,MAFN,EAEM,EADJ,gBAAa,qC,sCAMnB,OACEnlB,KAAM,YACN6H,MAAO,CACL7H,KAAM,CACJoE,KAAMghB,OACN5gB,UAAU,EACVzB,QAAS,IAEXsiB,KAAM,CACJjhB,KAAMkhB,QACN9gB,UAAU,EACVzB,SAAS,IAGbxD,OACE,MAAO,CACL4lB,UAAU,EAEd,EACAI,UACExU,KAAKoU,SAAWpU,KAAKsU,IACvB,G,UC9BF,MAAMvkB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,QCLM,EAAa,CAAEI,MAAO,aACtB,EAAa,CAAEA,MAAO,gBACtB,EAAa,CAAC,eACd,EAAa,CAAC,OAapB,GAA4B,qBAAiB,CAC3CK,OAAQ,WACRqG,MAAO,CACL2d,SAAU,KACVrmB,IAAK,MAEPsC,MAAA,SAAMC,GAER,IAAMmG,EAAQnG,EAOR1E,GAAQ,IAAA0iB,QAAO,SAAS,IAAA/b,UAAIgG,IAE5B3B,EAAU,SAACC,EAAehJ,GAC1BjC,EAAMsJ,OAASuB,EAAM1I,MACvB,OAAW,CACTnC,MAAOA,EAAMsJ,MACbnH,IAAK0I,EAAM1I,IACXG,MAAO2I,EACP1J,QAAS,CACP2B,MAAOjB,EAAKe,MAEdT,MAAM,WAAKN,IAGjB,EAEA,OAAO,SAACqD,EAAUC,GAChB,OAAQ,kBAAc,wBAAoB,MAAO,EAAY,GAC1D,gBAAW,IAAO,wBAAoB,WAAW,MAAM,gBAAYb,EAAQ8jB,UAAU,SAACvmB,EAAMmE,GAC3F,OAAQ,kBAAc,iBAAa,EAAW,CAC5CtB,IAAK7C,EAAKY,UAAYuD,EACtBpD,KAAMf,EAAKW,UACXylB,MAAM,GACL,CACDtiB,SAAS,cAAS,WAAM,QACtB,wBAAoB,MAAO,EAAY,GACpC,gBAAW,IAAO,wBAAoB,WAAW,MAAM,gBAAY9D,EAAKa,UAAU,SAAC2lB,GAClF,OAAQ,kBAAc,wBAAoB,MAAO,CAC/C3jB,IAAK2jB,EAAQjlB,GACbW,MAAO,eACPukB,UAAW,OACXjd,YAAa,SAAC/B,GAAgB,OAACsB,EAAQtB,EAAQ+e,EAAjB,GAC7B,EACD,wBAAoB,MAAO,CACzB9e,IAAK8e,EAAQxlB,MACZ,KAAM,EAAG,IACZ,wBAAoB,MAAO,MAAM,qBAAiBwlB,EAAQ1lB,aAAc,IACvE,GAAI,EACT,IAAI,QAdgB,IAiBxBsD,EAAG,GACF,KAAM,CAAC,QACZ,IAAI,OAER,CACA,IC3EA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,UCGasiB,EAAgB,WAC3B,OAAO,OACL,MACA,0DACA,CAAC,EAEL,EAEaC,EAAkB,WAC7B,OAAO,OACL,MACA,4DACA,CAAC,EAEL,EAEaC,EAAmB,WAC9B,OAAO,OACL,MACA,6DACA,CAAC,EAEL,EAEaC,EAAgB,WAC3B,OAAO,OACL,MACA,0DACA,CAAC,EAEL,E,qECnCO,SAASC,EAAS/oB,EAAc4E,GAErC,IAAMpB,EAAKoB,EAAMoH,MAAMxI,GACjB+H,EAAQ3G,EAAMoH,MAAMhJ,KACpB+I,EAAYnH,EAAM5B,KAExB,GAAkB,wBAAd+I,EAAqC,CACvC,IAAMG,EAAoBjE,KAAKC,MAC7BC,aAAaC,QAAQ,kBAAoB,MACzC5E,GACE0I,GACFlM,EAAMgpB,SAAS9c,E,CAInB,GAAkB,yBAAdH,EAAsC,CACxC,IAAMI,EAAqBlE,KAAKC,MAC9BC,aAAaC,QAAQ,mBAAqB,MAC1C5E,GAEE2I,GACFnM,EAAMgpB,SAAS7c,E,CAInB,GAAkB,gBAAdJ,GAA+BvI,EAAI,CACrC,IAAMylB,EAAYhhB,KAAKC,MAAMC,aAAaC,QAAQ,cAAgB,MAClEpI,EAAMgpB,SAASC,EAAKzlB,G,CAItB,GAAkB,eAAduI,EAA4B,CAExBkd,EAAYhhB,KAAKC,MAAMC,aAAaC,QAAQ,SAAW,MACxD6gB,EAAKzlB,GAeRxD,EAAMgpB,SAASC,EAAKzlB,IAbpBxD,EAAMgL,QAAQ,CACZ9H,MAAO,OACPgmB,EAAG,IACHC,EAAG,GACH1a,MAAO,IACPwT,OAAQ,GACR7B,MAAO,CACL0D,KAAM,CAAEA,KAAMvY,IAEhB6B,OAAO,OAAc,CAAE4W,cAAe,CAAC,S,CAO/C,CChBe,SAASoF,EAAgBppB,GACtC,IAAM4E,GAAQ,UAERykB,GAAgB,IAAA1iB,KAA2B,MAC3C2iB,GAAY,IAAA3iB,KAA2B,MACvC4iB,GAAa,IAAA5iB,KAA2B,MACxC4K,GAAqB,IAAA5K,KAA2B,KAChD6iB,GAAgB,IAAA7iB,KAA4B,IAG5CqB,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,MAC7DJ,EAAY5H,QACdipB,EAAc/f,MAAMjE,KAAK,CACvBzC,UAAW,QACXC,UAAW,OACXC,SAAUkF,IAId,IAAM8C,GAAa,IAAAnE,KAA2B,IAsH9C,OAnHA8iB,QAAQC,IAAI,CACVf,IACAC,IACAC,IACAC,MACC3T,MAAK,SAAC,G,IAACwU,EAAO,KAAEC,EAAU,KAAEC,EAAM,KAAEC,EAAQ,KAEzCH,GAAWA,EAAQpnB,OACrB8mB,EAAc/f,MAAM,GAAGxG,SAAW6mB,EAAQpnB,KAAKgT,KAC7C,SAACtT,GACC,OAAO,oBACFA,GAAI,CACPiB,MAAO,CACLC,SAAU,MAKZG,KAAM,CACJH,SAAU,OAGhB,KAIAymB,GAAcA,EAAWrnB,OAC3B8mB,EAAc/f,MAAM,GAAGxG,SAAW8mB,EAAWrnB,KAAKgT,KAChD,SAACtT,GACC,OAAO,oBACFA,GAAI,CACPiB,MAAO,CACLC,SAAU,MAKZG,KAAM,CACJH,SAAU,OAGhB,KAIA0mB,GAAUA,EAAOtnB,OACnB8mB,EAAc/f,MAAM,GAAGxG,SAAW+mB,EAAOtnB,KAAKgT,KAC5C,SAACtT,GACC,OAAO,oBACFA,GAAI,CACPiB,MAAO,CACLC,SAAU,MAKZG,KAAM,CACJH,SAAU,OAGhB,KAIA2mB,GAAYA,EAASvnB,OACvBgnB,EAAWjgB,MAAM,GAAGxG,SAAWgnB,EAASvnB,KAAKgT,KAC3C,SAACtT,GACC,OAAO,oBACFA,GAAI,CACPiB,MAAO,CACLC,SAAU,MAEZC,KAAM,CACJC,UAAW,CAAC,KAAoB,OAElCC,KAAM,CACJH,SAAU,OAGhB,MAIJ,sCACKkmB,EAAc/f,OAAK,GACnBggB,EAAUhgB,OAAK,GACfigB,EAAWjgB,OAAK,GAChBiI,EAAmBjI,OAAK,GAC3BtH,SAAQ,SAACC,G,OACT,EAAAunB,EAAclgB,OAAMjE,KAAI,QAAIpD,EAAKa,SACnC,KACA,OAAkB0mB,EAAclgB,QAEhC,IAAAuH,OACE7Q,GACA,SAAUsJ,GACJA,GAEFyf,EAASzf,EAAO1E,EAEpB,GACA,CAAEgQ,WAAW,GAEjB,IAGmB,wBAAfhQ,EAAM5B,KACR8H,EAAWxB,OAAQ,WAAI+f,EAAc/f,OAAK,GAElB,eAAf1E,EAAM5B,KACf8H,EAAWxB,OAAQ,oBAAIigB,EAAWjgB,OAAO,GAAGiI,EAAmBjI,OAAK,GAE5C,yBAAf1E,EAAM5B,OACf8H,EAAWxB,MAAQggB,EAAUhgB,OAExB,CACLwB,WAAU,EAEd,CCnLA,IACM,EAAa,CAAE3G,MAAO,oBAQ5B,GAA4B,qBAAiB,CAC3CK,OAAQ,QACRC,MAAA,SAAMC,GAGR,IAAM1E,GAA2B,IAAA0iB,QAAO,SAGlCqH,EAAcX,EAAgBppB,GAC9B8K,EAAaif,EAAYjf,WACzBI,GAAc,IAAAvE,KAAI,CAAC,YAAa,SAAU,UAC1CwE,EAAiB,WACrBnG,QAAQC,IAAI,QACd,EAEA,OAAO,SAACK,EAAUC,GAChB,IAAM6F,GAA8B,sBAAkB,oBAChDC,GAAyB,sBAAkB,eAEjD,OAAQ,kBAAc,wBAAoB,MAAO,EAAY,EAC3D,iBAAaA,EAAwB,CACnC5B,WAAYyB,EAAY5B,MACxB,sBAAuB/D,EAAO,KAAOA,EAAO,GAAK,SAACmE,GAAgB,OAAC,EAAcJ,MAAQI,CAAvB,GAClE4B,SAAUH,GACT,CACDpF,SAAS,cAAS,WAAM,QACtB,iBAAaqF,EAA6B,CACxCG,MAAO,OACPvI,KAAM,aACL,CACD+C,SAAS,cAAS,WAAM,QACtB,iBAAaikB,GAAU,gBAAY1kB,EAAKuG,OAAQ,CAAE,aAAa,WAAOf,KAAgB,KAAM,GAAI,CAAC,cAD3E,IAGxBzE,EAAG,IARiB,IAWxBA,EAAG,GACF,EAAG,CAAC,gBAEX,CACA,IC9CA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,6BCJM,EAAa,CAAElC,MAAO,mBACtB,EAAa,CAAEA,MAAO,mBACtB,EAAa,CAAC,OAQpB,GAA4B,qBAAiB,CAC3CK,OAAQ,QACRqG,MAAO,CACLrI,KAAM,MAERiC,MAAA,SAAMC,GAER,IAAMmG,EAAQnG,EAMRgH,GAAa,IAAAC,WAAS,WAC1B,OAAIC,EAAStC,MAAMhG,MACV,OAAgBsI,EAAStC,MAAMhG,MAEjC,IACT,IAEMsI,GAAW,IAAAD,WAAS,WACxB,OAAQd,EAAMrI,MAAQqI,EAAMrI,KAAKD,MAAS,CAAC,CAC7C,IAOA,OAAO,SAAC+C,EAAUC,GAChB,OAAQ,kBAAc,wBAAoB,MAAO,EAAY,EAC3D,wBAAoB,MAAO,EAAY,EACrC,wBAAoB,MAAO,CACzBoE,KAAK,WAAOiC,GAAU3I,KACtB2G,IAAK,IACJ,KAAM,EAAG,IACZ,wBAAoB,KAAM,MAAM,sBAAiB,WAAOgC,GAAU7I,aAAc,MAEjF,WAAO2I,KACH,kBAAc,kBAAa,8BAAyB,WAAOA,KAAc,qBAAgB,gBAAY,CAAE5G,IAAK,GAAKQ,EAAKuG,SAAU,KAAM,MACvI,wBAAoB,IAAI,IAEhC,CACA,ICnDA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,S,WCHe,SAASC,GACtBvJ,EACAqC,GAGA,IAAMmH,EAAYnH,EAAM5B,KAClBQ,EAAKoB,EAAMoH,MAAMxI,GACnByI,GAAW,EAEf,GAAkB,wBAAdF,EAAqC,CACvC,IAAMG,EAAoBjE,KAAKC,MAC7BC,aAAaC,QAAQ,kBAAoB,MAE3C8D,EAAkB1I,GAAgBjB,EAClC4F,aAAaE,QAAQ,gBAAiBJ,KAAKK,UAAU4D,IACrDD,GAAW,C,CAIb,GAAkB,yBAAdF,EAAsC,CACxC,IAAMI,EAAqBlE,KAAKC,MAC9BC,aAAaC,QAAQ,mBAAqB,MAE5C+D,EAAmB3I,GAAgBjB,EACnCyC,QAAQC,IAAI,WAAY1C,GAExB4F,aAAaE,QAAQ,iBAAkBJ,KAAKK,UAAU6D,IACtDF,GAAW,C,CAIb,GAAkB,eAAdF,EAA4B,CAC9B,IAAMK,EAAWnE,KAAKC,MAAMC,aAAaC,QAAQ,SAAW,MAC5DgE,EAAS5I,GAAgBjB,EACzB4F,aAAaE,QAAQ,OAAQJ,KAAKK,UAAU8D,IAC5CH,GAAW,C,CAGTA,IACF,SAAU,CACRxE,QAAS,OACTL,KAAM,WAGZ,CC9CA,IAAM,GAAe,SAAAnD,GAAK,OAAC,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,CAArD,EACpB,GAAa,CAAEE,MAAO,QACtB,GAAa,CAAEA,MAAO,YACtB,GAAa,CAAEA,MAAO,eACtB,GAA2B,IAAa,WAAmB,+BAAoB,MAAO,CAAEX,GAAI,aAAe,MAAO,EAAvD,IAC3D,GAAa,CAAEW,MAAO,aAuB5B,IAA4B,qBAAiB,CAC3CK,OAAQ,QACRC,MAAA,SAAMC,GAGR,IAAME,GAAQ,UAIR0H,EAAgB/B,IAChBvK,EAAQsM,EAActM,MACtBmC,EAAMmK,EAAcnK,KAC1B,IAAA8nB,SAAQ,QAASjqB,GAGjB,IAAIuM,GAAgB,IAAA5F,OAChB6F,GAAY,IAAA7F,OAEV8F,EAAU,WACdzM,EAAMsJ,OAAStJ,EAAMsJ,MAAMoD,WAAWH,EAAcjD,OACpDiD,EAAcjD,WAAQqD,CACxB,EAEMC,EAAW,SAACrK,GAChB,GAAIgK,EAAcjD,MAEhB,GAAIiD,EAAcjD,MAAMpG,QAAU,KAChCqJ,EAAcjD,MAAMhG,KAAK,YAAaf,EAAKsK,eACtC,CACL,IAAMC,EAAoBP,EAAcjD,MAAMyD,UAC9CR,EAAcjD,MAAM7G,SAAQ,oBACvBqK,GAAiB,CACpBE,SAAUzK,I,CAIlB,EAEM0K,EAAW,SAAC1K,GAChByC,QAAQC,IAAI,SAAU1C,GACtBuJ,GAAavJ,EAAMqC,EAAO5E,EAAMsJ,MAClC,EAGM4D,EAA4B,CAChC,KACA,KACA,KACA,MAIIC,EAAY,SAACC,EAA+BC,GAChD,IAAK,IAAIC,EAAI,EAAGC,EAAMH,EAAMhN,OAAQkN,EAAIC,EAAKD,GAAQ,EACnDF,EAAME,GAAG7G,MAAM+G,WAAaH,EAAO,UAAY,QAEnD,EAoDA,OAnDA,IAAA7C,YAAU,WACJxK,EAAMsJ,OAASnH,EAAImH,QAErBtJ,EAAMsJ,MAAMmE,GAAG,cAAc,SAAC,G,IAAEC,EAAI,OAAElL,EAAI,OACpCgK,EAAUlD,OACZkD,EAAUlD,MAAMqE,UAAUC,OAAO,UAEnCpB,EAAUlD,MACRoE,EAAKhD,UAAUmD,cAAc,qBAAkBlB,EAC7CH,EAAUlD,OACZkD,EAAUlD,MAAMqE,UAAUG,IAAI,UAG5BvB,EAAcjD,MAEZiD,EAAcjD,QAAU9G,EAC1B+J,EAAcjD,MAAQ9G,EAEtB+J,EAAcjD,WAAQqD,EAGxBJ,EAAcjD,MAAQ9G,CAE1B,IAEAxC,EAAMsJ,MAAMmE,GAAG,eAAe,WAC5BlB,EAAcjD,WAAQqD,EAClBH,EAAUlD,OACZkD,EAAUlD,MAAMqE,UAAUC,OAAO,SAErC,IAEA5N,EAAMsJ,MAAMmE,GAAG,mBAAmB,WAChC,IAAM/C,EAAYC,SAASC,eAAe,aACpCwC,EAAQ1C,EAAUqD,iBACtB,iBAEFZ,EAAUC,GAAO,EACnB,IACApN,EAAMsJ,MAAMmE,GAAG,mBAAmB,WAChC,IAAM/C,EAAYC,SAASC,eAAe,aACpCwC,EAAQ1C,EAAUqD,iBACtB,iBAEFZ,EAAUC,GAAO,EACnB,IAIJ,IAEO,SAAC9H,EAAUC,GAChB,OAAQ,kBAAc,wBAAoB,MAAO,GAAY,EAC3D,wBAAoB,MAAO,GAAY,EACrC,iBAAa,EAAU,CAAEpD,KAAK,WAAOA,IAAQ,KAAM,EAAG,CAAC,WAEzD,wBAAoB,MAAO,GAAY,EACrC,wBAAoB,SAAU,KAAM,EAClC,iBAAa,IAAY,CACvB+K,MAAOA,EACPlN,OAAO,WAAOA,GACdgO,WAAYf,GACX,KAAM,EAAG,CAAC,YAEf,MAEF,qBAAgB,wBAAoB,MAAO,GAAY,EACrD,sBAAiB,kBAAc,iBAAa,GAAgB,CAC1DnI,KAAK,WAAOyH,KAAkB,WAAOA,GAAe/I,GACpDhB,MAAM,WAAO+J,GACb0B,WAAYrB,EACZsB,UAAWzB,GACV,KAAM,EAAG,CAAC,UAAW,CACtB,CAAC,SAAQ,WAAOF,OAEjB,KAAM,CACP,CAAC,SAAQ,WAAOA,OAGtB,CACA,IClKA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,S,GCPI2d,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBzd,IAAjB0d,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CACjD5mB,GAAI4mB,EACJI,QAAQ,EACRF,QAAS,CAAC,GAUX,OANAG,EAAoBL,GAAUM,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG3EI,EAAOC,QAAS,EAGTD,EAAOD,OACf,CAGAH,EAAoBQ,EAAIF,E,WC5BxB,IAAIG,EAAW,GACfT,EAAoBU,EAAI,SAASC,EAAQC,EAAUC,EAAIrO,GACtD,IAAGoO,EAAH,CAMA,IAAIE,EAAeC,IACnB,IAAS5d,EAAI,EAAGA,EAAIsd,EAASxqB,OAAQkN,IAAK,CACrCyd,EAAWH,EAAStd,GAAG,GACvB0d,EAAKJ,EAAStd,GAAG,GACjBqP,EAAWiO,EAAStd,GAAG,GAE3B,IAJA,IAGI6d,GAAY,EACPC,EAAI,EAAGA,EAAIL,EAAS3qB,OAAQgrB,MACpB,EAAXzO,GAAsBsO,GAAgBtO,IAAa3M,OAAOqb,KAAKlB,EAAoBU,GAAGS,OAAM,SAASxmB,GAAO,OAAOqlB,EAAoBU,EAAE/lB,GAAKimB,EAASK,GAAK,IAChKL,EAASQ,OAAOH,IAAK,IAErBD,GAAY,EACTxO,EAAWsO,IAAcA,EAAetO,IAG7C,GAAGwO,EAAW,CACbP,EAASW,OAAOje,IAAK,GACrB,IAAI4Y,EAAI8E,SACEre,IAANuZ,IAAiB4E,EAAS5E,EAC/B,CACD,CACA,OAAO4E,CArBP,CAJCnO,EAAWA,GAAY,EACvB,IAAI,IAAIrP,EAAIsd,EAASxqB,OAAQkN,EAAI,GAAKsd,EAAStd,EAAI,GAAG,GAAKqP,EAAUrP,IAAKsd,EAAStd,GAAKsd,EAAStd,EAAI,GACrGsd,EAAStd,GAAK,CAACyd,EAAUC,EAAIrO,EAwB/B,C,eC5BAwN,EAAoBlmB,EAAI,SAASsmB,GAChC,IAAIiB,EAASjB,GAAUA,EAAOkB,WAC7B,WAAa,OAAOlB,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAJ,EAAoBuB,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CACR,C,eCNArB,EAAoBuB,EAAI,SAASpB,EAASsB,GACzC,IAAI,IAAI9mB,KAAO8mB,EACXzB,EAAoB0B,EAAED,EAAY9mB,KAASqlB,EAAoB0B,EAAEvB,EAASxlB,IAC5EkL,OAAO8b,eAAexB,EAASxlB,EAAK,CAAEinB,YAAY,EAAMC,IAAKJ,EAAW9mB,IAG3E,C,eCPAqlB,EAAoB8B,EAAI,CAAC,EAGzB9B,EAAoBlf,EAAI,SAASihB,GAChC,OAAOzC,QAAQC,IAAI1Z,OAAOqb,KAAKlB,EAAoB8B,GAAGE,QAAO,SAASC,EAAUtnB,GAE/E,OADAqlB,EAAoB8B,EAAEnnB,GAAKonB,EAASE,GAC7BA,CACR,GAAG,IACJ,C,eCPAjC,EAAoBkC,EAAI,SAASH,GAEhC,MAAO,aAAe,CAAC,IAAM,OAAO,IAAM,aAAaA,GAAW,IAAM,CAAC,IAAM,WAAW,IAAM,YAAYA,GAAW,KACxH,C,eCHA/B,EAAoBmC,SAAW,SAASJ,GAEvC,MAAO,cAAgB,CAAC,IAAM,OAAO,IAAM,aAAaA,GAAW,IAAM,CAAC,IAAM,WAAW,IAAM,YAAYA,GAAW,MACzH,C,eCJA/B,EAAoBoC,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOzY,MAAQ,IAAI0Y,SAAS,cAAb,EAGhB,CAFE,MAAOxhB,GACR,GAAsB,kBAAXyhB,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxBvC,EAAoB0B,EAAI,SAAS/U,EAAKtN,GAAQ,OAAOwG,OAAO+W,UAAU4F,eAAejC,KAAK5T,EAAKtN,EAAO,C,eCAtG,IAAIojB,EAAa,CAAC,EACdC,EAAoB,UAExB1C,EAAoB2C,EAAI,SAAS5X,EAAK6X,EAAMjoB,EAAKonB,GAChD,GAAGU,EAAW1X,GAAQ0X,EAAW1X,GAAK7P,KAAK0nB,OAA3C,CACA,IAAIlpB,EAAQmpB,EACZ,QAAWrgB,IAAR7H,EAEF,IADA,IAAImoB,EAAUtiB,SAASuiB,qBAAqB,UACpC5f,EAAI,EAAGA,EAAI2f,EAAQ7sB,OAAQkN,IAAK,CACvC,IAAI6f,EAAIF,EAAQ3f,GAChB,GAAG6f,EAAEC,aAAa,QAAUlY,GAAOiY,EAAEC,aAAa,iBAAmBP,EAAoB/nB,EAAK,CAAEjB,EAASspB,EAAG,KAAO,CACpH,CAEGtpB,IACHmpB,GAAa,EACbnpB,EAAS8G,SAAS0iB,cAAc,UAEhCxpB,EAAOypB,QAAU,QACjBzpB,EAAO0pB,QAAU,IACbpD,EAAoBqD,IACvB3pB,EAAO4pB,aAAa,QAAStD,EAAoBqD,IAElD3pB,EAAO4pB,aAAa,eAAgBZ,EAAoB/nB,GACxDjB,EAAO8F,IAAMuL,GAEd0X,EAAW1X,GAAO,CAAC6X,GACnB,IAAIW,EAAmB,SAASC,EAAMrrB,GAErCuB,EAAO+pB,QAAU/pB,EAAOgqB,OAAS,KACjCC,aAAaP,GACb,IAAIQ,EAAUnB,EAAW1X,GAIzB,UAHO0X,EAAW1X,GAClBrR,EAAOmqB,YAAcnqB,EAAOmqB,WAAWC,YAAYpqB,GACnDkqB,GAAWA,EAAQ/rB,SAAQ,SAASgpB,GAAM,OAAOA,EAAG1oB,EAAQ,IACzDqrB,EAAM,OAAOA,EAAKrrB,EACtB,EACIirB,EAAUW,WAAWR,EAAiBS,KAAK,UAAMxhB,EAAW,CAAEvF,KAAM,UAAWhF,OAAQyB,IAAW,MACtGA,EAAO+pB,QAAUF,EAAiBS,KAAK,KAAMtqB,EAAO+pB,SACpD/pB,EAAOgqB,OAASH,EAAiBS,KAAK,KAAMtqB,EAAOgqB,QACnDb,GAAcriB,SAASyjB,KAAKC,YAAYxqB,EAnCkB,CAoC3D,C,eCvCAsmB,EAAoBjE,EAAI,SAASoE,GACX,qBAAXgE,QAA0BA,OAAOC,aAC1Cve,OAAO8b,eAAexB,EAASgE,OAAOC,YAAa,CAAEjlB,MAAO,WAE7D0G,OAAO8b,eAAexB,EAAS,aAAc,CAAEhhB,OAAO,GACvD,C,eCNA6gB,EAAoBqE,IAAM,SAASjE,GAGlC,OAFAA,EAAOkE,MAAQ,GACVlE,EAAOznB,WAAUynB,EAAOznB,SAAW,IACjCynB,CACR,C,eCJAJ,EAAoBuE,EAAI,U,eCAxB,GAAwB,qBAAb/jB,SAAX,CACA,IAAIgkB,EAAmB,SAASzC,EAAS0C,EAAUC,EAAQC,EAASC,GACnE,IAAIC,EAAUrkB,SAAS0iB,cAAc,QAErC2B,EAAQC,IAAM,aACdD,EAAQ5nB,KAAO,WACf,IAAI8nB,EAAiB,SAAS5sB,GAG7B,GADA0sB,EAAQpB,QAAUoB,EAAQnB,OAAS,KAChB,SAAfvrB,EAAM8E,KACT0nB,QACM,CACN,IAAIK,EAAY7sB,IAAyB,SAAfA,EAAM8E,KAAkB,UAAY9E,EAAM8E,MAChEgoB,EAAW9sB,GAASA,EAAMF,QAAUE,EAAMF,OAAOitB,MAAQT,EACzDnvB,EAAM,IAAIyZ,MAAM,qBAAuBgT,EAAU,cAAgBkD,EAAW,KAChF3vB,EAAI6vB,KAAO,wBACX7vB,EAAI2H,KAAO+nB,EACX1vB,EAAI8vB,QAAUH,EACdJ,EAAQhB,WAAWC,YAAYe,GAC/BD,EAAOtvB,EACR,CACD,EASA,OARAuvB,EAAQpB,QAAUoB,EAAQnB,OAASqB,EACnCF,EAAQK,KAAOT,EAEXC,EACHA,EAAOb,WAAWwB,aAAaR,EAASH,EAAOY,aAE/C9kB,SAASyjB,KAAKC,YAAYW,GAEpBA,CACR,EACIU,EAAiB,SAASL,EAAMT,GAEnC,IADA,IAAIe,EAAmBhlB,SAASuiB,qBAAqB,QAC7C5f,EAAI,EAAGA,EAAIqiB,EAAiBvvB,OAAQkN,IAAK,CAChD,IAAIsiB,EAAMD,EAAiBriB,GACvBuiB,EAAWD,EAAIxC,aAAa,cAAgBwC,EAAIxC,aAAa,QACjE,GAAe,eAAZwC,EAAIX,MAAyBY,IAAaR,GAAQQ,IAAajB,GAAW,OAAOgB,CACrF,CACA,IAAIE,EAAoBnlB,SAASuiB,qBAAqB,SACtD,IAAQ5f,EAAI,EAAGA,EAAIwiB,EAAkB1vB,OAAQkN,IAAK,CAC7CsiB,EAAME,EAAkBxiB,GACxBuiB,EAAWD,EAAIxC,aAAa,aAChC,GAAGyC,IAAaR,GAAQQ,IAAajB,EAAU,OAAOgB,CACvD,CACD,EACIG,EAAiB,SAAS7D,GAC7B,OAAO,IAAIzC,SAAQ,SAASqF,EAASC,GACpC,IAAIM,EAAOlF,EAAoBmC,SAASJ,GACpC0C,EAAWzE,EAAoBuE,EAAIW,EACvC,GAAGK,EAAeL,EAAMT,GAAW,OAAOE,IAC1CH,EAAiBzC,EAAS0C,EAAU,KAAME,EAASC,EACpD,GACD,EAEIiB,EAAqB,CACxB,IAAK,GAGN7F,EAAoB8B,EAAEgE,QAAU,SAAS/D,EAASE,GACjD,IAAI8D,EAAY,CAAC,IAAM,EAAE,IAAM,GAC5BF,EAAmB9D,GAAUE,EAAS/mB,KAAK2qB,EAAmB9D,IACzB,IAAhC8D,EAAmB9D,IAAkBgE,EAAUhE,IACtDE,EAAS/mB,KAAK2qB,EAAmB9D,GAAW6D,EAAe7D,GAAS/W,MAAK,WACxE6a,EAAmB9D,GAAW,CAC/B,IAAG,SAASjhB,GAEX,aADO+kB,EAAmB9D,GACpBjhB,CACP,IAEF,CAtE2C,C,eCK3C,IAAIklB,EAAkB,CACrB,IAAK,GAGNhG,EAAoB8B,EAAEb,EAAI,SAASc,EAASE,GAE1C,IAAIgE,EAAqBjG,EAAoB0B,EAAEsE,EAAiBjE,GAAWiE,EAAgBjE,QAAWvf,EACtG,GAA0B,IAAvByjB,EAGF,GAAGA,EACFhE,EAAS/mB,KAAK+qB,EAAmB,QAC3B,CAGL,IAAIC,EAAU,IAAI5G,SAAQ,SAASqF,EAASC,GAAUqB,EAAqBD,EAAgBjE,GAAW,CAAC4C,EAASC,EAAS,IACzH3C,EAAS/mB,KAAK+qB,EAAmB,GAAKC,GAGtC,IAAInb,EAAMiV,EAAoBuE,EAAIvE,EAAoBkC,EAAEH,GAEpDoE,EAAQ,IAAIpX,MACZqX,EAAe,SAASjuB,GAC3B,GAAG6nB,EAAoB0B,EAAEsE,EAAiBjE,KACzCkE,EAAqBD,EAAgBjE,GACX,IAAvBkE,IAA0BD,EAAgBjE,QAAWvf,GACrDyjB,GAAoB,CACtB,IAAIjB,EAAY7sB,IAAyB,SAAfA,EAAM8E,KAAkB,UAAY9E,EAAM8E,MAChEopB,EAAUluB,GAASA,EAAMF,QAAUE,EAAMF,OAAOuH,IACpD2mB,EAAM7oB,QAAU,iBAAmBykB,EAAU,cAAgBiD,EAAY,KAAOqB,EAAU,IAC1FF,EAAMttB,KAAO,iBACbstB,EAAMlpB,KAAO+nB,EACbmB,EAAMf,QAAUiB,EAChBJ,EAAmB,GAAGE,EACvB,CAEF,EACAnG,EAAoB2C,EAAE5X,EAAKqb,EAAc,SAAWrE,EAASA,EAE/D,CAEH,EAUA/B,EAAoBU,EAAEO,EAAI,SAASc,GAAW,OAAoC,IAA7BiE,EAAgBjE,EAAgB,EAGrF,IAAIuE,EAAuB,SAASC,EAA4BnuB,GAC/D,IAKI6nB,EAAU8B,EALVnB,EAAWxoB,EAAK,GAChBouB,EAAcpuB,EAAK,GACnBquB,EAAUruB,EAAK,GAGI+K,EAAI,EAC3B,GAAGyd,EAAS8F,MAAK,SAASrtB,GAAM,OAA+B,IAAxB2sB,EAAgB3sB,EAAW,IAAI,CACrE,IAAI4mB,KAAYuG,EACZxG,EAAoB0B,EAAE8E,EAAavG,KACrCD,EAAoBQ,EAAEP,GAAYuG,EAAYvG,IAGhD,GAAGwG,EAAS,IAAI9F,EAAS8F,EAAQzG,EAClC,CAEA,IADGuG,GAA4BA,EAA2BnuB,GACrD+K,EAAIyd,EAAS3qB,OAAQkN,IACzB4e,EAAUnB,EAASzd,GAChB6c,EAAoB0B,EAAEsE,EAAiBjE,IAAYiE,EAAgBjE,IACrEiE,EAAgBjE,GAAS,KAE1BiE,EAAgBjE,GAAW,EAE5B,OAAO/B,EAAoBU,EAAEC,EAC9B,EAEIgG,EAAqBC,KAAK,sBAAwBA,KAAK,uBAAyB,GACpFD,EAAmB9uB,QAAQyuB,EAAqBtC,KAAK,KAAM,IAC3D2C,EAAmBzrB,KAAOorB,EAAqBtC,KAAK,KAAM2C,EAAmBzrB,KAAK8oB,KAAK2C,G,ICpFvF,IAAIE,EAAsB7G,EAAoBU,OAAEle,EAAW,CAAC,MAAM,WAAa,OAAOwd,EAAoB,KAAO,IACjH6G,EAAsB7G,EAAoBU,EAAEmG,E","sources":["webpack://scenes/./src/apis/api.ts","webpack://scenes/./src/assets/config/constants.ts","webpack://scenes/./src/assets/js/keyEvent.ts","webpack://scenes/./src/assets/js/graph.ts","webpack://scenes/./src/assets/js/material.ts","webpack://scenes/./src/components/config.ts","webpack://scenes/./src/App.vue","webpack://scenes/./src/App.vue?7ccd","webpack://scenes/./src/views/common/index.vue?483f","webpack://scenes/./src/views/common/index.vue","webpack://scenes/./src/configTest/configComponent.vue?06c7","webpack://scenes/./src/configTest/configComponent.vue","webpack://scenes/./src/configTest/portComponent.vue?81ec","webpack://scenes/./src/configTest/portComponent.vue","webpack://scenes/./src/configTest/index.vue?79cb","webpack://scenes/./src/configTest/index.vue","webpack://scenes/./src/views/scene/composition/useInitGraph.ts","webpack://scenes/./src/views/scene/materialComponent.vue?3297","webpack://scenes/./src/views/scene/materialComponent.vue","webpack://scenes/./src/views/scene/attribute/index.vue?354e","webpack://scenes/./src/views/scene/attribute/index.vue","webpack://scenes/./src/views/scene/utils/testSaveData.ts","webpack://scenes/./src/views/scene/index.vue?433d","webpack://scenes/./src/views/scene/index.vue","webpack://scenes/./src/views/descision/descisionNode.vue?b849","webpack://scenes/./src/views/descision/descisionNode.vue","webpack://scenes/./src/views/descision/descisionGroup.vue?2f9c","webpack://scenes/./src/views/descision/descisionGroup.vue","webpack://scenes/./src/views/descision/routes.ts","webpack://scenes/./src/views/flow/routes.ts","webpack://scenes/./src/views/LogicFlow/routes.ts","webpack://scenes/./src/router/index.ts","webpack://scenes/./src/store/index.ts","webpack://scenes/./src/main.ts","webpack://scenes/./src/modules/attribute/constants.ts","webpack://scenes/./src/modules/attribute/useSyncAttrData.ts","webpack://scenes/./src/modules/attribute/common/attrDescision.vue?5349","webpack://scenes/./src/modules/attribute/common/attrDescision.vue","webpack://scenes/./src/modules/attribute/common/attrDescisionGroup.vue?59e9","webpack://scenes/./src/modules/attribute/common/attrDescisionGroup.vue","webpack://scenes/./src/modules/attribute/common/register.ts","webpack://scenes/./src/modules/attribute/mainPage/attrEquipment.vue","webpack://scenes/./src/modules/attribute/mainPage/attrEquipment.vue?2ce9","webpack://scenes/./src/modules/attribute/mainPage/attrTime.vue","webpack://scenes/./src/assets/js/getInitHMS.ts","webpack://scenes/./src/modules/attribute/mainPage/attrTime.vue?5082","webpack://scenes/./src/modules/attribute/mainPage/attrWeather.vue","webpack://scenes/./src/modules/attribute/mainPage/attrWeather.vue?a161","webpack://scenes/./src/modules/attribute/mainPage/attrFence.vue","webpack://scenes/./src/modules/attribute/mainPage/attrFence.vue?f571","webpack://scenes/./src/modules/attribute/mainPage/attrEquipmentAction.vue","webpack://scenes/./src/modules/attribute/mainPage/attrEquipmentAction.vue?72d0","webpack://scenes/./src/modules/attribute/mainPage/attrMessageAction.vue","webpack://scenes/./src/modules/attribute/mainPage/attrMessageAction.vue?447e","webpack://scenes/./src/modules/attribute/mainPage/attrDelayAction.vue","webpack://scenes/./src/modules/attribute/mainPage/attrDelayAction.vue?3427","webpack://scenes/./src/modules/attribute/mainPage/register.ts","webpack://scenes/./src/modules/attribute/index.ts","webpack://scenes/./src/modules/graph/rules/constants.ts","webpack://scenes/./src/modules/graph/rules/rulesCheckSamePort.ts","webpack://scenes/./src/modules/graph/rules/rulesCheckPortType.ts","webpack://scenes/./src/modules/graph/rules/rulesCheckOrPort.ts","webpack://scenes/./src/modules/graph/rules/rulesCheckConditionPort.ts","webpack://scenes/./src/modules/graph/rules/graphRulesMap.ts","webpack://scenes/./src/modules/graph/rules/index.ts","webpack://scenes/./src/modules/graph/template/scene/connecting/validateConnection.ts","webpack://scenes/./src/modules/graph/template/scene/connecting/index.ts","webpack://scenes/./src/modules/edge/constants.ts","webpack://scenes/./src/modules/graph/template/common/index.ts","webpack://scenes/./src/modules/graph/template/scene/index.ts","webpack://scenes/./src/modules/graph/template/graphMap.ts","webpack://scenes/./src/modules/graph/index.ts","webpack://scenes/./src/modules/graph/template/constants.ts","webpack://scenes/./src/modules/material/common/BasicNode.vue?8a54","webpack://scenes/./src/modules/material/common/BasicNode.vue","webpack://scenes/./src/modules/material/common/BasicOrNode.vue?cec4","webpack://scenes/./src/modules/material/common/BasicOrNode.vue","webpack://scenes/./src/modules/material/common/BasicDescisionNode.vue?2540","webpack://scenes/./src/modules/material/common/BasicDescisionNode.vue","webpack://scenes/./src/modules/material/common/BasicLogicNode.vue?67b6","webpack://scenes/./src/modules/material/common/BasicLogicNode.vue","webpack://scenes/./src/modules/material/common/GatewayNode.vue?dcef","webpack://scenes/./src/modules/material/common/GatewayNode.vue","webpack://scenes/./src/modules/material/common/TaskNode.vue?e06e","webpack://scenes/./src/modules/material/common/TaskNode.vue","webpack://scenes/./src/modules/material/common/register.ts","webpack://scenes/./src/modules/material/index.ts","webpack://scenes/./src/modules/index.ts","webpack://scenes/./src/modules/material/constants.ts","webpack://scenes/./src/modules/port/constants.ts","webpack://scenes/./src/modules/port/template/attrs.ts","webpack://scenes/./src/modules/port/template/conditionOutPort.ts","webpack://scenes/./src/modules/port/template/conditionInPort.ts","webpack://scenes/./src/modules/port/template/actionOutPort.ts","webpack://scenes/./src/modules/port/template/actionInPort.ts","webpack://scenes/./src/modules/port/template/basicOrPort.ts","webpack://scenes/./src/modules/port/template/index.ts","webpack://scenes/./src/modules/port/index.ts","webpack://scenes/./src/components/graphTools/toolZoom.vue","webpack://scenes/./src/components/graphTools/toolZoom.vue?18d8","webpack://scenes/./src/components/graphTools/toolFullScreen.vue","webpack://scenes/./src/components/graphTools/toolFullScreen.vue?8b66","webpack://scenes/./src/components/graphTools/toolSave.vue?b563","webpack://scenes/./src/components/graphTools/toolSave.vue","webpack://scenes/./src/components/graphTools/toolDisabled.vue","webpack://scenes/./src/components/graphTools/toolDisabled.vue?2e0a","webpack://scenes/./src/components/graphTools/index.ts","webpack://scenes/./src/components/graphTools/index.vue?d039","webpack://scenes/./src/components/graphTools/index.vue","webpack://scenes/./src/views/MainPage/composition/useInitGraph.ts","webpack://scenes/./src/components/class-fold.vue","webpack://scenes/./src/components/class-fold.vue?520e","webpack://scenes/./src/views/MainPage/material/MenuItem.vue?99b9","webpack://scenes/./src/views/MainPage/material/MenuItem.vue","webpack://scenes/./src/apis/scene.ts","webpack://scenes/./src/views/MainPage/composition/testData.ts","webpack://scenes/./src/views/MainPage/composition/useInitMaterial.ts","webpack://scenes/./src/views/MainPage/material/index.vue?13e4","webpack://scenes/./src/views/MainPage/material/index.vue","webpack://scenes/./src/views/MainPage/attribute/index.vue?a3d7","webpack://scenes/./src/views/MainPage/attribute/index.vue","webpack://scenes/./src/views/MainPage/utils/testSaveData.ts","webpack://scenes/./src/views/MainPage/index.vue?ebe4","webpack://scenes/./src/views/MainPage/index.vue","webpack://scenes/webpack/bootstrap","webpack://scenes/webpack/runtime/chunk loaded","webpack://scenes/webpack/runtime/compat get default export","webpack://scenes/webpack/runtime/define property getters","webpack://scenes/webpack/runtime/ensure chunk","webpack://scenes/webpack/runtime/get javascript chunk filename","webpack://scenes/webpack/runtime/get mini-css chunk filename","webpack://scenes/webpack/runtime/global","webpack://scenes/webpack/runtime/hasOwnProperty shorthand","webpack://scenes/webpack/runtime/load script","webpack://scenes/webpack/runtime/make namespace object","webpack://scenes/webpack/runtime/node module decorator","webpack://scenes/webpack/runtime/publicPath","webpack://scenes/webpack/runtime/css loading","webpack://scenes/webpack/runtime/jsonp chunk loading","webpack://scenes/webpack/startup"],"sourcesContent":["import { iotAxios } from \"iot-axios\";\r\nimport { apiMethodsI } from \"./types\";\r\n\r\nconst env = process.env.NODE_ENV;\r\n\r\n// const env = 'production'\r\n// const envapi = process.env.VUE_APP_BASE_API || 'dev'  //  修改环境变量---历史原因不支持访问非正式域名，暂都改为正式域名\r\nconst envapi = \"prod\"; //服务端限制 必须使用host的方式使用正式环境域名访问\r\nlet baseapi = {\r\n  dev: {\r\n    //联调\r\n    // api: 'http://39.107.247.209'\r\n    api: \"\",\r\n    web: \"https://www.haigeek.com/developercenter/static/develop.html#/\",\r\n  },\r\n  test: {\r\n    //验收\r\n    // api: 'http://123.57.31.57'\r\n    api: \"\",\r\n    web: \"https://www.haigeek.com/developercenter/static/develop.html#/\",\r\n  },\r\n  prod: {\r\n    //正式\r\n    api: \"\",\r\n    web: \"https://www.haigeek.com/developercenter/static/develop.html#/\",\r\n  },\r\n  apikaifa: \"https://stp.haier.net/mock/290\",\r\n};\r\n\r\nif (env === \"development\") {\r\n  baseapi = {\r\n    dev: {\r\n      api: \"/apidev\",\r\n      // api: '/apikaifa',  //开发时使用\r\n      web: \"https://www.haigeek.com/developercenter/static/develop.html#/\",\r\n    },\r\n    test: {\r\n      api: \"/apitest\",\r\n      web: \"https://www.haigeek.com/developercenter/static/develop.html#/\",\r\n    },\r\n    prod: {\r\n      api: \"/apiprod\",\r\n      web: \"https://www.haigeek.com/developercenter/static/develop.html#/\",\r\n    },\r\n    apikaifa: \"https://stp.haier.net/mock/290\",\r\n  };\r\n}\r\nexport default {\r\n  envapi: envapi,\r\n  baseapi: baseapi[envapi],\r\n};\r\n\r\n/**\r\n * @description: 封装请求类\r\n * @param {method} method 请求方式\r\n * @param {path} path 请求路径\r\n * @param {params} params 参数\r\n * @param {headers} headers 请求头\r\n */\r\nexport const iotRequest = (\r\n  method: keyof typeof apiMethodsI,\r\n  path: string,\r\n  params?: object,\r\n  headers?: object\r\n) => {\r\n  if (method.toLowerCase() === \"get\") {\r\n    return iotAxios\r\n      .get(baseapi[envapi].api + path, { params: params }, headers)\r\n      .catch((err: any) => {\r\n        if (err.status == \"403\") {\r\n          // window.loginDateCallback();\r\n        }\r\n      });\r\n  } else {\r\n    return iotAxios\r\n      .post(baseapi[envapi].api + path, params, headers)\r\n      .catch((err: any) => {\r\n        if (err.status == \"403\") {\r\n          // window.loginDateCallback();\r\n        }\r\n      });\r\n  }\r\n};\r\n","// 工具栏\r\nexport const TOOL_ZOOM = \"zoom\"; // 缩放\r\nexport const TOOL_FULLSCREEN = \"fullScreen\"; // 全屏\r\nexport const TOOL_SAVE = \"save\"; // 保存\r\nexport const TOOL_DISABLED = \"disabled\"; // 启用/禁用\r\n\r\n// 键盘事件\r\nexport const KEYBOARD_COPY = \"copy\";\r\n","import type { Graph } from \"@antv/x6\";\n\n// 复制\nexport const initKeyCopy = (graph: Graph) => {\n  // copy\n  graph.bindKey([\"meta+c\", \"ctrl+c\"], () => {\n    const cells = graph.getSelectedCells();\n    if (cells.length) {\n      graph.copy(cells);\n    }\n    return false;\n  });\n};\n// 粘贴\nexport const initKeyPaste = (graph: Graph) => {\n  graph.bindKey([\"meta+v\", \"ctrl+v\"], () => {\n    if (!graph.isClipboardEmpty()) {\n      const cells = graph.paste({ offset: 32 });\n      graph.cleanSelection();\n      graph.select(cells);\n    }\n    return false;\n  });\n};\n// 剪切\nexport const initKeyCut = (graph: Graph) => {\n  graph.bindKey([\"meta+x\", \"ctrl+x\"], () => {\n    const cells = graph.getSelectedCells();\n    if (cells.length) {\n      graph.cut(cells);\n    }\n    return false;\n  });\n};\n// 撤销\nexport const initKeyUndo = (graph: Graph) => {\n  // undo redo\n  graph.bindKey([\"meta+z\", \"ctrl+z\"], () => {\n    if (graph.canUndo()) {\n      graph.undo();\n    }\n    return false;\n  });\n};\nexport const initKeyRedo = (graph: Graph) => {\n  // undo redo\n  graph.bindKey([\"meta+shift+z\", \"ctrl+shift+z\"], () => {\n    if (graph.canRedo()) {\n      graph.redo();\n    }\n    return false;\n  });\n};\n// 删除\nexport const initKeyDelete = (graph: Graph) => {\n  //delete\n  graph.bindKey([\"backspace\", \"delete\"], () => {\n    const cells = graph.getSelectedCells();\n    if (cells.length) {\n      graph.removeCells(cells);\n    }\n  });\n};\n","/**\n * 画布相关的方法\n */\nimport { Graph } from \"@antv/x6\";\nimport { Snapline } from \"@antv/x6-plugin-snapline\";\nimport { Export } from \"@antv/x6-plugin-export\";\nimport { Keyboard } from \"@antv/x6-plugin-keyboard\";\nimport {\n  initKeyCopy,\n  initKeyPaste,\n  initKeyCut,\n  initKeyUndo,\n  initKeyRedo,\n  initKeyDelete,\n} from \"./keyEvent\";\nimport { Selection } from \"@antv/x6-plugin-selection\"; // 获取选中\nimport { Clipboard } from \"@antv/x6-plugin-clipboard\"; // 复制粘贴\nimport { History } from \"@antv/x6-plugin-history\"; // 历史记录\n\n/**\n * 初始化画布\n * @param { object } options\n */\nexport const initGraph = (options: object): Graph => {\n  const graph: Graph = new Graph(options);\n  // 是否启用对其线\n  graph.use(\n    new Snapline({\n      enabled: true,\n    })\n  );\n  // 开启选中\n  graph.use(\n    new Selection({\n      enabled: true,\n      multiple: true,\n      rubberband: true,\n      movable: true,\n      showNodeSelectionBox: true,\n    })\n  );\n  // 开启复制粘贴功能\n  graph.use(\n    new Clipboard({\n      enabled: true,\n    })\n  );\n  // 开启键盘快捷键\n  graph.use(\n    new Keyboard({\n      enabled: true,\n    })\n  );\n  // 开启历史记录\n  graph.use(\n    new History({\n      enabled: true,\n    })\n  );\n  graph.use(new Export()); // 导出功能\n  return graph;\n};\n\n/**\n * 添加画布快捷键\n * @param { Array } keyArr\n */\nexport const initKeyboard = (graph: Graph, keyArr: Array<string>) => {\n  keyArr.forEach((item) => {\n    switch (item) {\n      case \"copy\":\n        initKeyCopy(graph);\n        break;\n      case \"paste\":\n        initKeyPaste(graph);\n        break;\n      case \"cut\":\n        initKeyCut(graph);\n        break;\n      case \"undo\":\n        initKeyUndo(graph);\n        break;\n      case \"redo\":\n        initKeyRedo(graph);\n        break;\n      case \"delete\":\n        initKeyDelete(graph);\n        break;\n      default:\n        break;\n    }\n  });\n};\n","/**\r\n * author\r\n * 处理画布节点\r\n *\r\n */\r\nimport { Dnd } from \"@antv/x6-plugin-dnd\";\r\nimport type { Graph } from \"@antv/x6\";\r\nimport { ComponentConfig } from \"@/assets/config/types/component\";\r\n\r\n/**\r\n * 创建新dnd实例,用于预创建节点\r\n * @param { string } type 节点类型\r\n * @param { Graph } graph 目标画布\r\n */\r\nexport const createDnd = function (graph: Graph) {\r\n  const dnd: Dnd = new Dnd({\r\n    target: graph,\r\n  });\r\n  return dnd;\r\n};\r\n\r\n/**\r\n * 创建节点,添加拖拽信息\r\n * @param { Graph } graph 画布实例\r\n * @param { object } options 节点配置信息\r\n */\r\nexport const createNode = ({\r\n  graph,\r\n  dnd,\r\n  event,\r\n  options,\r\n  data,\r\n}: {\r\n  graph: Graph;\r\n  dnd: Dnd;\r\n  event: MouseEvent;\r\n  options: any;\r\n  data: ComponentConfig;\r\n}) => {\r\n  const node = graph.createNode(options);\r\n  node.setData(data);\r\n  dnd.start(node, event); // 开始拖拽\r\n  return node;\r\n};\r\n","// 属性静态数据\r\n// 物料静态数据\r\nimport {\r\n  BASIC_NODE,\r\n  BASIC_LOGIC_NODE,\r\n  BASIC_DESCISION_NODE,\r\n  BASIC_DESCISION_GROUP,\r\n  GATEWAY_NODE,\r\n  TASK_NODE,\r\n} from \"@/modules/material/constants\";\r\n// 节点静态数据\r\nimport {\r\n  CONDITION_OUT_PORT,\r\n  CONDITION_IN_PORT,\r\n  BASIC_OR_PORT,\r\n  ACTION_IN_PORT,\r\n} from \"@/modules/port/constants\";\r\n// 物料配置types\r\nimport { ComponentDataI } from \"@/assets/config/types/component\";\r\nimport {\r\n  EQUIPMENT_ATTR,\r\n  DESCISION_ATTR,\r\n  DESCISION_GROUP_ATTR,\r\n  EQUIPMENT_ATTR_ACTION,\r\n  MESSAGE_ATTR_ACTION,\r\n} from \"../modules/attribute/constants\";\r\n\r\nexport const conditionData: Array<ComponentDataI> = [\r\n  {\r\n    className: \"设备条件\",\r\n    classCode: \"equipment\",\r\n    children: [\r\n      {\r\n        description: \"设备条件\",\r\n        name: \"equipment\",\r\n        icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n        shape: {\r\n          template: BASIC_NODE,\r\n        },\r\n        port: {\r\n          templates: [CONDITION_OUT_PORT, CONDITION_IN_PORT],\r\n        },\r\n        attr: {\r\n          template: EQUIPMENT_ATTR,\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    className: \"定时条件\",\r\n    classCode: \"time\",\r\n    children: [],\r\n  },\r\n  {\r\n    className: \"天气条件\",\r\n    classCode: \"weather\",\r\n    children: [],\r\n  },\r\n  {\r\n    className: \"地理围栏条件\",\r\n    classCode: \"geofence\",\r\n    children: [],\r\n  },\r\n];\r\nexport const logicData: Array<ComponentDataI> = [\r\n  {\r\n    className: \"决策点\",\r\n    classCode: \"descision\",\r\n    children: [\r\n      {\r\n        id: \"descision\",\r\n        name: BASIC_DESCISION_NODE,\r\n        description: \"决策节点\",\r\n        icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n        // shapeType: BASIC_RELATION_NODE,\r\n        shape: {\r\n          template: BASIC_DESCISION_NODE,\r\n        },\r\n        port: {\r\n          templates: [CONDITION_OUT_PORT, CONDITION_IN_PORT],\r\n        },\r\n        attr: {\r\n          template: DESCISION_ATTR,\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    className: \"逻辑关系\",\r\n    classCode: \"relation\",\r\n    children: [\r\n      {\r\n        id: \"andId\",\r\n        name: \"or\",\r\n        description: \"并行节点\",\r\n        icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n        // shapeType: BASIC_RELATION_NODE,\r\n        shape: {\r\n          template: BASIC_LOGIC_NODE,\r\n        },\r\n        port: {\r\n          templates: [BASIC_OR_PORT],\r\n        },\r\n      },\r\n      {\r\n        id: \"andId\",\r\n        name: \"and\",\r\n        description: \"会签节点\",\r\n        icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n        // shapeType: BASIC_RELATION_NODE,\r\n        shape: {\r\n          template: BASIC_LOGIC_NODE,\r\n        },\r\n        port: {\r\n          templates: [BASIC_OR_PORT],\r\n        },\r\n      },\r\n      {\r\n        id: \"serialId\",\r\n        name: \"serial\",\r\n        description: \"串行节点\",\r\n        icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n        shape: {\r\n          template: BASIC_LOGIC_NODE,\r\n        },\r\n        port: {\r\n          templates: [BASIC_OR_PORT],\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  // {\r\n  //   className: \"逻辑关系\",\r\n  //   classCode: \"relation\",\r\n  //   children: [\r\n  //     {\r\n  //       id: \"andId\",\r\n  //       name: \"and\",\r\n  //       description: \"满足全部条件\",\r\n  //       icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n  //       shapeType: BASIC_RELATION_NODE,\r\n  //     },\r\n  //     {\r\n  //       id: \"orId\",\r\n  //       name: \"or\",\r\n  //       description: \"满足任意条件\",\r\n  //       icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n  //       shapeType: BASIC_RELATION_NODE,\r\n  //     },\r\n  //   ],\r\n  // },\r\n];\r\n\r\nexport const descisionGroup: Array<ComponentDataI> = [\r\n  {\r\n    className: \"决策组\",\r\n    classCode: \"descisionGroup\",\r\n    children: [\r\n      {\r\n        id: \"descisionGroup\",\r\n        name: BASIC_DESCISION_GROUP,\r\n        description: \"决策组\",\r\n        icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n        shape: {\r\n          template: BASIC_DESCISION_GROUP,\r\n        },\r\n        // port: {\r\n        //   templates: [ACTION_IN_PORT],\r\n        // },\r\n        attr: {\r\n          template: DESCISION_GROUP_ATTR,\r\n        },\r\n      },\r\n    ],\r\n  },\r\n];\r\nexport const actionData: Array<ComponentDataI> = [\r\n  {\r\n    className: \"设备动作\",\r\n    classCode: \"equipmentActioin\",\r\n    children: [\r\n      {\r\n        id: \"prodTypeActionId\",\r\n        name: \"prodTypeAction\",\r\n        description: \"设备执行\",\r\n        icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n        shape: {\r\n          template: BASIC_NODE,\r\n        },\r\n        port: {\r\n          templates: [ACTION_IN_PORT],\r\n        },\r\n        attr: {\r\n          template: EQUIPMENT_ATTR_ACTION,\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    className: \"消息动作\",\r\n    classCode: \"messageGroup\",\r\n    children: [\r\n      {\r\n        id: \"messageId\",\r\n        name: \"messagePush\",\r\n        description: \"消息通知\",\r\n        icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n        shape: {\r\n          template: BASIC_NODE,\r\n        },\r\n        port: {\r\n          templates: [ACTION_IN_PORT],\r\n        },\r\n        attr: {\r\n          template: MESSAGE_ATTR_ACTION,\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    className: \"延时动作\",\r\n    classCode: \"delayGroup\",\r\n    children: [],\r\n  },\r\n];\r\n\r\n// 事件节点\r\nexport const eventData: ComponentDataI = {\r\n  className: \"任务\",\r\n  classCode: \"gateway\",\r\n  children: [\r\n    {\r\n      id: \"User\",\r\n      name: TASK_NODE,\r\n      description: \"人工任务\",\r\n      icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n      shape: {\r\n        template: TASK_NODE,\r\n      },\r\n      // port: {\r\n      //   templates: [ACTION_IN_PORT],\r\n      // },\r\n      // attr: {\r\n      //   template: EQUIPMENT_ATTR_ACTION,\r\n      // },\r\n    },\r\n    {\r\n      id: \"Service\",\r\n      name: TASK_NODE,\r\n      description: \"服务任务\",\r\n      icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n      shape: {\r\n        template: TASK_NODE,\r\n      },\r\n      // port: {\r\n      //   templates: [ACTION_IN_PORT],\r\n      // },\r\n      // attr: {\r\n      //   template: EQUIPMENT_ATTR_ACTION,\r\n      // },\r\n    },\r\n    {\r\n      id: \"Receive\",\r\n      name: TASK_NODE,\r\n      description: \"接受任务\",\r\n      icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n      shape: {\r\n        template: TASK_NODE,\r\n      },\r\n      // port: {\r\n      //   templates: [ACTION_IN_PORT],\r\n      // },\r\n      // attr: {\r\n      //   template: EQUIPMENT_ATTR_ACTION,\r\n      // },\r\n    },\r\n    {\r\n      id: \"Service\",\r\n      name: TASK_NODE,\r\n      description: \"调用活动\",\r\n      icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n      shape: {\r\n        template: TASK_NODE,\r\n      },\r\n      // port: {\r\n      //   templates: [ACTION_IN_PORT],\r\n      // },\r\n      // attr: {\r\n      //   template: EQUIPMENT_ATTR_ACTION,\r\n      // },\r\n    },\r\n  ],\r\n};\r\n// 网关节点\r\nexport const gatewayData: ComponentDataI = {\r\n  className: \"网关\",\r\n  classCode: \"gateway\",\r\n  children: [\r\n    {\r\n      id: \"Exclusive\",\r\n      name: GATEWAY_NODE,\r\n      description: \"互斥网关\",\r\n      icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n      shape: {\r\n        template: GATEWAY_NODE,\r\n      },\r\n      // port: {\r\n      //   templates: [ACTION_IN_PORT],\r\n      // },\r\n      attr: {\r\n        template: EQUIPMENT_ATTR_ACTION,\r\n      },\r\n    },\r\n    {\r\n      id: \"Parallel\",\r\n      name: GATEWAY_NODE,\r\n      description: \"并行网关\",\r\n      icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n      shape: {\r\n        template: GATEWAY_NODE,\r\n      },\r\n      // port: {\r\n      //   templates: [ACTION_IN_PORT],\r\n      // },\r\n      // attr: {\r\n      //   template: EQUIPMENT_ATTR_ACTION,\r\n      // },\r\n    },\r\n  ],\r\n};\r\n// 任务节点\r\nexport const taskData: ComponentDataI = {\r\n  className: \"任务\",\r\n  classCode: \"gateway\",\r\n  children: [\r\n    {\r\n      id: \"User\",\r\n      name: TASK_NODE,\r\n      description: \"人工任务\",\r\n      icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n      shape: {\r\n        template: TASK_NODE,\r\n      },\r\n      // port: {\r\n      //   templates: [ACTION_IN_PORT],\r\n      // },\r\n      // attr: {\r\n      //   template: EQUIPMENT_ATTR_ACTION,\r\n      // },\r\n    },\r\n    {\r\n      id: \"Service\",\r\n      name: TASK_NODE,\r\n      description: \"服务任务\",\r\n      icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n      shape: {\r\n        template: TASK_NODE,\r\n      },\r\n      // port: {\r\n      //   templates: [ACTION_IN_PORT],\r\n      // },\r\n      // attr: {\r\n      //   template: EQUIPMENT_ATTR_ACTION,\r\n      // },\r\n    },\r\n    {\r\n      id: \"Receive\",\r\n      name: TASK_NODE,\r\n      description: \"接受任务\",\r\n      icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n      shape: {\r\n        template: TASK_NODE,\r\n      },\r\n      // port: {\r\n      //   templates: [ACTION_IN_PORT],\r\n      // },\r\n      // attr: {\r\n      //   template: EQUIPMENT_ATTR_ACTION,\r\n      // },\r\n    },\r\n    {\r\n      id: \"Service\",\r\n      name: TASK_NODE,\r\n      description: \"调用活动\",\r\n      icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n      shape: {\r\n        template: TASK_NODE,\r\n      },\r\n      // port: {\r\n      //   templates: [ACTION_IN_PORT],\r\n      // },\r\n      // attr: {\r\n      //   template: EQUIPMENT_ATTR_ACTION,\r\n      // },\r\n    },\r\n  ],\r\n};\r\n","<template>\n  <div>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script></script>\n\n<style lang=\"scss\" scoped></style>\n","import { render } from \"./App.vue?vue&type=template&id=d8c93af0\"\nconst script = {}\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2f96ffc7\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"common-block\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", { class: \"mb-2\" }, \"haigeek\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"场景流程\", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"决策组\", -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"决策点\", -1))\n\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { Menu as IconMenu, Location } from \"@element-plus/icons-vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\nconst handleOpen = (key: string, keyPath: string[]) => {\r\n  console.log(key, keyPath);\r\n};\r\nconst handleClose = (key: string, keyPath: string[]) => {\r\n  console.log(key, keyPath);\r\n};\r\nconst changeRouter = (routerName: string) => {\r\n  router.push(routerName);\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\")!\n  const _component_document = _resolveComponent(\"document\")!\n  const _component_el_menu = _resolveComponent(\"el-menu\")!\n  const _component_el_col = _resolveComponent(\"el-col\")!\n  const _component_el_row = _resolveComponent(\"el-row\")!\n  const _component_router_view = _resolveComponent(\"router-view\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _withDirectives(_createVNode(_component_el_row, { class: \"tac\" }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_col, { span: 24 }, {\n          default: _withCtx(() => [\n            _hoisted_2,\n            _createVNode(_component_el_menu, {\n              \"default-active\": \"2\",\n              class: \"el-menu-vertical-demo\",\n              onOpen: handleOpen,\n              onClose: handleClose,\n              onSelect: changeRouter\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_menu_item, { index: \"flow-list\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_icon, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(IconMenu))\n                      ]),\n                      _: 1\n                    }),\n                    _hoisted_3\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_el_menu_item, { index: \"descision-group-list\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_icon, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_document)\n                      ]),\n                      _: 1\n                    }),\n                    _hoisted_4\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_el_menu_item, { index: \"descision-node-list\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_icon, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(Location))\n                      ]),\n                      _: 1\n                    }),\n                    _hoisted_5\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 512), [\n      [_vShow, !_unref(route).meta.hideMenu]\n    ]),\n    _createVNode(_component_router_view)\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=2f96ffc7&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2f96ffc7\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = [\"src\"]\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"p\", { style: {\"font-size\":\"16px\",\"margin\":\"-5px 0 15px\"} }, \"链接桩配置\", -1)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", { style: {\"font-size\":\"16px\",\"margin\":\"-5px 0 15px\"} }, \"属性配置\", -1)\n\nimport { reactive, ref } from \"vue\";\r\nimport type { FormInstance, FormRules } from \"element-plus\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'configComponent',\n  setup(__props) {\n\r\nconst formSize = ref(\"default\");\r\nconst ruleFormRef = ref<FormInstance>();\r\nconst ruleForm = reactive({\r\n  name: \"\",\r\n  description: \"\",\r\n  icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n  shape: \"\",\r\n  region: \"\",\r\n  count: \"\",\r\n  date1: \"\",\r\n  date2: \"\",\r\n  delivery: false,\r\n  type: [],\r\n  resource: \"\",\r\n  desc: \"\",\r\n});\r\n\r\nconst rules = reactive<FormRules>({\r\n  name: [{ required: true, message: \"Please input 组件名称\", trigger: \"blur\" }],\r\n  shape: [\r\n    {\r\n      required: true,\r\n      message: \"Please select Activity zone\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  count: [\r\n    {\r\n      required: true,\r\n      message: \"Please select Activity count\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  type: [\r\n    {\r\n      type: \"array\",\r\n      required: true,\r\n      message: \"Please select at least one activity type\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n});\r\n\r\nconst submitForm = async (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return;\r\n  await formEl.validate((valid, fields) => {\r\n    console.log(ruleForm);\r\n    if (valid) {\r\n      console.log(\"submit!\");\r\n      const data = {\r\n        name: ruleForm.name, // 组件名称\r\n        icon: ruleForm.icon, // 组件图标\r\n        description: ruleForm.name, // 组件名称\r\n        shape: {\r\n          // UI容器模板\r\n          template: ruleForm.shape,\r\n        },\r\n        port: {\r\n          // 连接桩模板\r\n          templates: ruleForm.type,\r\n        },\r\n      };\r\n      const localConfig = JSON.parse(localStorage.getItem(\"config\") || \"[]\");\r\n      localConfig.push(data);\r\n\r\n      localStorage.setItem(\"config\", JSON.stringify(localConfig));\r\n    } else {\r\n      console.log(\"error submit!\", fields);\r\n    }\r\n  });\r\n};\r\n\r\nconst resetForm = (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return;\r\n  formEl.resetFields();\r\n};\r\n\r\n// const options = Array.from({ length: 10000 }).map((_, idx) => ({\r\n//   value: `${idx + 1}`,\r\n//   label: `${idx + 1}`,\r\n// }));\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_divider = _resolveComponent(\"el-divider\")!\n  const _component_el_switch = _resolveComponent(\"el-switch\")!\n  const _component_el_checkbox = _resolveComponent(\"el-checkbox\")!\n  const _component_el_checkbox_group = _resolveComponent(\"el-checkbox-group\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n\n  return (_openBlock(), _createBlock(_component_el_form, {\n    ref_key: \"ruleFormRef\",\n    ref: ruleFormRef,\n    model: ruleForm,\n    rules: rules,\n    \"label-width\": \"120px\",\n    class: \"demo-ruleForm\",\n    size: formSize.value,\n    \"status-icon\": \"\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_el_form_item, {\n        label: \"组件名称\",\n        prop: \"description\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_input, {\n            modelValue: ruleForm.description,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((ruleForm.description) = $event))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_form_item, {\n        label: \"组件标识\",\n        prop: \"name\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_input, {\n            modelValue: ruleForm.name,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((ruleForm.name) = $event))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_form_item, {\n        label: \"组件图标\",\n        prop: \"icon\"\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"img\", {\n            src: ruleForm.icon,\n            alt: \"\"\n          }, null, 8, _hoisted_1)\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_form_item, {\n        label: \"UI容器\",\n        prop: \"region\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_select, {\n            modelValue: ruleForm.shape,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((ruleForm.shape) = $event)),\n            placeholder: \"Activity zone\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_option, {\n                label: \"基础模板\",\n                value: \"basic-node\"\n              }),\n              _createVNode(_component_el_option, {\n                label: \"Zone two\",\n                value: \"beijing\"\n              })\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_divider),\n      _hoisted_2,\n      _createVNode(_component_el_form_item, {\n        label: \"使用模板\",\n        prop: \"delivery\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_switch, {\n            modelValue: ruleForm.delivery,\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((ruleForm.delivery) = $event))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_form_item, {\n        label: \"链接桩模板\",\n        prop: \"type\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_checkbox_group, {\n            modelValue: ruleForm.type,\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((ruleForm.type) = $event))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_checkbox, {\n                label: \"conditionInPort\",\n                name: \"type\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" 条件输入节点 \")\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_el_checkbox, {\n                label: \"conditionOutPort\",\n                name: \"type\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" 条件输出节点 \")\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_el_checkbox, {\n                label: \"actionInPort\",\n                name: \"type\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" 动作输入节点 \")\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_el_checkbox, {\n                label: \"actionOutPort\",\n                name: \"type\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" 动作输出节点 \")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _hoisted_3,\n      _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_button, {\n            type: \"primary\",\n            onClick: _cache[5] || (_cache[5] = ($event: any) => (submitForm(ruleFormRef.value)))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" 创建 \")\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_button, {\n            onClick: _cache[6] || (_cache[6] = ($event: any) => (resetForm(ruleFormRef.value)))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Reset\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"model\", \"rules\", \"size\"]))\n}\n}\n\n})","import script from \"./configComponent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./configComponent.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./configComponent.vue?vue&type=style&index=0&id=43bff1ea&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"p\", { style: {\"font-size\":\"16px\",\"margin\":\"-5px 0 15px\"} }, \"连接桩规则配置\", -1)\n\nimport { reactive, ref } from \"vue\";\r\nimport type { FormInstance, FormRules } from \"element-plus\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'portComponent',\n  setup(__props) {\n\r\nconst formSize = ref(\"default\");\r\nconst ruleFormRef = ref<FormInstance>();\r\nconst ruleForm = reactive({\r\n  name: \"\",\r\n  description: \"\",\r\n  icon: \"https://resource.haigeek.com/download/resource/selfService/portal/img/41899b4c118d410687b0c199375cc39b.png\",\r\n  shape: \"\",\r\n  region: \"\",\r\n  count: \"\",\r\n  date1: \"\",\r\n  date2: \"\",\r\n  delivery: false,\r\n  type: [],\r\n  resource: \"\",\r\n  desc: \"\",\r\n});\r\n\r\nconst rules = reactive<FormRules>({\r\n  name: [{ required: true, message: \"Please input 组件名称\", trigger: \"blur\" }],\r\n  shape: [\r\n    {\r\n      required: true,\r\n      message: \"Please select Activity zone\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  count: [\r\n    {\r\n      required: true,\r\n      message: \"Please select Activity count\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  type: [\r\n    {\r\n      type: \"array\",\r\n      required: true,\r\n      message: \"Please select at least one activity type\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n});\r\n\r\nconst submitForm = async (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return;\r\n  await formEl.validate((valid, fields) => {\r\n    console.log(ruleForm);\r\n    if (valid) {\r\n      console.log(\"submit!\");\r\n      const data = {\r\n        name: ruleForm.name, // 组件名称\r\n        icon: ruleForm.icon, // 组件图标\r\n        description: ruleForm.name, // 组件名称\r\n        shape: {\r\n          // UI容器模板\r\n          template: ruleForm.shape,\r\n        },\r\n        port: {\r\n          // 连接桩模板\r\n          templates: ruleForm.type,\r\n        },\r\n      };\r\n      const localConfig = JSON.parse(localStorage.getItem(\"config\") || \"[]\");\r\n      localConfig.push(data);\r\n\r\n      localStorage.setItem(\"config\", JSON.stringify(localConfig));\r\n    } else {\r\n      console.log(\"error submit!\", fields);\r\n    }\r\n  });\r\n};\r\n\r\nconst resetForm = (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return;\r\n  formEl.resetFields();\r\n};\r\n\r\n// const options = Array.from({ length: 10000 }).map((_, idx) => ({\r\n//   value: `${idx + 1}`,\r\n//   label: `${idx + 1}`,\r\n// }));\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_divider = _resolveComponent(\"el-divider\")!\n  const _component_el_checkbox = _resolveComponent(\"el-checkbox\")!\n  const _component_el_checkbox_group = _resolveComponent(\"el-checkbox-group\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n\n  return (_openBlock(), _createBlock(_component_el_form, {\n    ref_key: \"ruleFormRef\",\n    ref: ruleFormRef,\n    model: ruleForm,\n    rules: rules,\n    \"label-width\": \"120px\",\n    class: \"demo-ruleForm\",\n    size: formSize.value,\n    \"status-icon\": \"\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_el_form_item, {\n        label: \"连接桩名称\",\n        prop: \"description\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_input, {\n            modelValue: ruleForm.description,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((ruleForm.description) = $event))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_form_item, {\n        label: \"连接桩标识\",\n        prop: \"name\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_input, {\n            modelValue: ruleForm.name,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((ruleForm.name) = $event))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_form_item, {\n        label: \"连接桩位置\",\n        prop: \"region\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_select, {\n            modelValue: ruleForm.shape,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((ruleForm.shape) = $event)),\n            placeholder: \"Activity zone\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_option, {\n                label: \"上\",\n                value: \"top\"\n              }),\n              _createVNode(_component_el_option, {\n                label: \"下\",\n                value: \"bottom\"\n              }),\n              _createVNode(_component_el_option, {\n                label: \"左\",\n                value: \"left\"\n              }),\n              _createVNode(_component_el_option, {\n                label: \"右\",\n                value: \"right\"\n              })\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_form_item, {\n        label: \"连接桩样式配置\",\n        prop: \"icon\"\n      }),\n      _createVNode(_component_el_divider),\n      _hoisted_1,\n      _createVNode(_component_el_form_item, {\n        label: \"链接桩模板\",\n        prop: \"type\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_checkbox_group, {\n            modelValue: ruleForm.type,\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((ruleForm.type) = $event))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_checkbox, {\n                label: \"conditionInPort\",\n                name: \"type\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" 条件输入节点 \")\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_el_checkbox, {\n                label: \"conditionOutPort\",\n                name: \"type\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" 条件输出节点 \")\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_el_checkbox, {\n                label: \"actionInPort\",\n                name: \"type\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" 动作输入节点 \")\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_el_checkbox, {\n                label: \"actionOutPort\",\n                name: \"type\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" 动作输出节点 \")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_button, {\n            type: \"primary\",\n            onClick: _cache[4] || (_cache[4] = ($event: any) => (submitForm(ruleFormRef.value)))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" 创建 \")\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_button, {\n            onClick: _cache[5] || (_cache[5] = ($event: any) => (resetForm(ruleFormRef.value)))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Reset\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"model\", \"rules\", \"size\"]))\n}\n}\n\n})","import script from \"./portComponent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./portComponent.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./portComponent.vue?vue&type=style&index=0&id=2c0191ce&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { ref } from \"vue\";\r\nimport type { TabsPaneContext } from \"element-plus\";\r\nimport configComponent from \"./configComponent.vue\";\r\nimport portComponent from \"./portComponent.vue\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst activeName = ref(\"first\");\r\n\r\nconst handleClick = (tab: TabsPaneContext, event: Event) => {\r\n  console.log(tab, event);\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_tab_pane = _resolveComponent(\"el-tab-pane\")!\n  const _component_el_tabs = _resolveComponent(\"el-tabs\")!\n\n  return (_openBlock(), _createBlock(_component_el_tabs, {\n    modelValue: activeName.value,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((activeName).value = $event)),\n    type: \"card\",\n    class: \"demo-tabs\",\n    onTabClick: handleClick\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_el_tab_pane, {\n        label: \"添加组件\",\n        name: \"first\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(configComponent)\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_tab_pane, {\n        label: \"添加连接桩\",\n        name: \"second\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(portComponent)\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_tab_pane, {\n        label: \"Role\",\n        name: \"third\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Role\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_tab_pane, {\n        label: \"Task\",\n        name: \"fourth\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Task\")\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=369be9ea&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","// 初始化画布模型\r\nimport { ref, onMounted } from \"vue\";\r\nimport { Graph } from \"@antv/x6\";\r\nimport { Dnd } from \"@antv/x6-plugin-dnd\";\r\n// 公共方法\r\nimport { createDnd } from \"@/assets/js/material\";\r\nimport { initKeyboard } from \"@/assets/js/graph\";\r\n// 画布模板\r\nimport { SCENE_GRAPH } from \"@/modules/graph/template/constants\";\r\n// 画布模型注册方法\r\nimport { registerGraph } from \"@/modules/graph/index\";\r\n\r\nexport default function useInitGraph() {\r\n  const graph = ref<Graph>();\r\n  const dnd = ref<Dnd>();\r\n  onMounted(() => {\r\n    graph.value = registerGraph({\r\n      templateName: SCENE_GRAPH,\r\n      container: document.getElementById(\"container\") as HTMLElement,\r\n    });\r\n    // 创建dnd实例\r\n    dnd.value = createDnd(graph.value);\r\n    // 在当前画布上初始化键盘快捷键\r\n    initKeyboard(graph.value, [\r\n      \"copy\",\r\n      \"paste\",\r\n      \"cut\",\r\n      \"undo\",\r\n      \"redo\",\r\n      \"delete\",\r\n    ]);\r\n  });\r\n  return {\r\n    graph,\r\n    dnd,\r\n  };\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1ec282a1\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"material-content\" }\nconst _hoisted_2 = [\"onMousedown\"]\nconst _hoisted_3 = [\"src\"]\n\nimport { ref } from \"vue\";\r\nimport registerComponent from \"@/modules\";\r\nimport { ComponentConfig } from \"@/assets/config/types/component\";\r\n// 配置项\r\nimport { gatewayData, taskData } from \"@/components/config\";\r\nimport { Graph } from \"@antv/x6\";\r\nimport { Dnd } from \"@antv/x6-plugin-dnd\";\r\nimport { createNode } from \"@/assets/js/material\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'materialComponent',\n  props: {\n    graph: null,\n    dnd: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\r\n  graph: Graph | undefined;\r\n  dnd: Dnd | undefined;\r\n};\n\r\n// 依赖\r\n\r\n\r\n// 配置项\r\nconst renderList = [gatewayData, taskData];\r\nconst compositionList: Array<ComponentConfig> = [];\r\nrenderList.forEach((item) => {\r\n  compositionList.push(...item.children);\r\n});\r\nregisterComponent(compositionList);\r\n\r\n// 拖拽生成节点\r\nconst addNode = (e: MouseEvent, item: ComponentConfig) => {\r\n  if (props.graph && props.dnd) {\r\n    createNode({\r\n      graph: props.graph,\r\n      dnd: props.dnd,\r\n      event: e,\r\n      options: {\r\n        shape: item.name, // 节点信息\r\n      },\r\n      data: { ...item },\r\n    });\r\n  }\r\n};\r\n\r\nconst activeNames = ref([\"gateway\", \"task\"]);\r\nconst changeCollapse = function () {\r\n  console.log(\"world\");\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_collapse_item = _resolveComponent(\"el-collapse-item\")!\n  const _component_el_collapse = _resolveComponent(\"el-collapse\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_el_collapse, {\n      modelValue: activeNames.value,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((activeNames).value = $event)),\n      onChange: changeCollapse\n    }, {\n      default: _withCtx(() => [\n        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(renderList, (item) => {\n          return _createVNode(_component_el_collapse_item, {\n            title: item.className,\n            name: item.classCode,\n            key: item.classCode\n          }, {\n            default: _withCtx(() => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.children, (temp) => {\n                return (_openBlock(), _createElementBlock(\"div\", {\n                  class: \"menu-item\",\n                  key: temp.id,\n                  onMousedown: ($event: any) => (addNode($event, temp))\n                }, [\n                  _createElementVNode(\"img\", {\n                    src: temp.icon\n                  }, null, 8, _hoisted_3),\n                  _createElementVNode(\"div\", null, _toDisplayString(temp.description), 1)\n                ], 40, _hoisted_2))\n              }), 128))\n            ]),\n            _: 2\n          }, 1032, [\"title\", \"name\"])\n        }), 64))\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"])\n  ]))\n}\n}\n\n})","import script from \"./materialComponent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./materialComponent.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./materialComponent.vue?vue&type=style&index=0&id=1ec282a1&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1ec282a1\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveDynamicComponent as _resolveDynamicComponent, normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, openBlock as _openBlock, createBlock as _createBlock, mergeProps as _mergeProps, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1ea7eba8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"attribute-block\" }\nconst _hoisted_2 = { class: \"attribute-title\" }\nconst _hoisted_3 = [\"src\"]\n\nimport { computed } from \"vue\";\r\nimport { Node } from \"@antv/x6\";\r\nimport { getAttrTemplate } from \"@/modules/attribute/index\";\r\n\r\n// const emit = defineEmits([\"delNode\"]);\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    node: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\r\n  node: Node | undefined;\r\n};\n\r\n\r\n// 获取渲染属性模板\r\nconst renderAttr = computed(() => {\r\n  if (nodeData.value.attr) {\r\n    return getAttrTemplate(nodeData.value.attr);\r\n  }\r\n  return null;\r\n});\r\n\r\nconst nodeData = computed(() => {\r\n  return (props.node && props.node.data) || {};\r\n});\r\n\r\n//   // 删除节点\r\n// const delNode = () => {\r\n//   emit(\"delNode\");\r\n// };\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"img\", {\n        src: _unref(nodeData).icon,\n        alt: \"\"\n      }, null, 8, _hoisted_3),\n      _createElementVNode(\"h4\", null, _toDisplayString(_unref(nodeData).description), 1)\n    ]),\n    (_unref(renderAttr))\n      ? (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(renderAttr)), _normalizeProps(_mergeProps({ key: 0 }, _ctx.$attrs)), null, 16))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1ea7eba8&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1ea7eba8\"]])\n\nexport default __exports__","import { RouteLocationNormalizedLoaded } from \"vue-router\";\r\nimport { ElMessage } from \"element-plus\";\r\n// import adapterData from \"../../../assets/js/adapter\";\r\nimport { Cell } from \"@antv/x6\";\r\n\r\nexport default function testSaveData(\r\n  data: { cells: Cell.Properties[] },\r\n  route: RouteLocationNormalizedLoaded\r\n  // graph: Graph\r\n) {\r\n  const routeName = route.name;\r\n  const id = route.query.id;\r\n  let saveBool = false;\r\n  // 当前是创建决策节点\r\n  if (routeName === \"createDescisionNode\") {\r\n    const descisionNodeData = JSON.parse(\r\n      localStorage.getItem(\"descisionNode\") || \"{}\"\r\n    );\r\n    descisionNodeData[id as string] = data;\r\n    localStorage.setItem(\"descisionNode\", JSON.stringify(descisionNodeData));\r\n    saveBool = true;\r\n  }\r\n\r\n  // 当前是创建决策组\r\n  if (routeName === \"createDescisionGroup\") {\r\n    const descisionGroupData = JSON.parse(\r\n      localStorage.getItem(\"descisionGroup\") || \"{}\"\r\n    );\r\n    descisionGroupData[id as string] = data;\r\n    console.log(\"当前决策组内容是\", data);\r\n    // const resultData = adapterData(graph, data);\r\n    localStorage.setItem(\"descisionGroup\", JSON.stringify(descisionGroupData));\r\n    saveBool = true;\r\n  }\r\n\r\n  // 当前是创建决策组\r\n  if (routeName === \"createFlow\") {\r\n    const flowData = JSON.parse(localStorage.getItem(\"flow\") || \"{}\");\r\n    flowData[id as string] = data;\r\n    localStorage.setItem(\"flow\", JSON.stringify(flowData));\r\n    saveBool = true;\r\n  }\r\n\r\n  if (saveBool) {\r\n    ElMessage({\r\n      message: \"保存成功\",\r\n      type: \"success\",\r\n    });\r\n  }\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, vShow as _vShow, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b09a3fca\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"home\" }\nconst _hoisted_2 = { class: \"menu-bar\" }\nconst _hoisted_3 = { class: \"canvas-card\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { id: \"container\" }, null, -1))\nconst _hoisted_5 = { class: \"attrs-bar\" }\n\nimport { onMounted, ref } from \"vue\";\r\nimport type { Node, Cell, Graph } from \"@antv/x6\";\r\nimport { graphToolsT } from \"@/assets/config/types/graphTools\";\r\nimport useInitGraph from \"./composition/useInitGraph\";\r\n// 自定义物料渲染\r\nimport Material from \"./materialComponent.vue\";\r\n// 工具栏\r\nimport GraphTools from \"@/components/graphTools/index.vue\";\r\nimport {\r\n  TOOL_ZOOM,\r\n  TOOL_FULLSCREEN,\r\n  TOOL_SAVE,\r\n  TOOL_DISABLED,\r\n} from \"@/assets/config/constants\";\r\n// 属性栏\r\nimport attributeBlock from \"./attribute/index.vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport testSaveData from \"./utils/testSaveData\";\r\nimport { BASIC_DESCISION_GROUP } from \"@/modules/material/constants\";\r\nimport { getTeleport } from \"@antv/x6-vue-shape\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\n// 依赖\r\nconst route = useRoute();\r\nconst TeleportContainer = getTeleport();\r\n\r\n// 画布实例\r\n// 初始化画布\r\nconst graphInstance = useInitGraph();\r\nconst graph = graphInstance.graph;\r\nconst dnd = graphInstance.dnd;\r\n// 当前选中节点\r\nlet curSelectNode = ref<Node | undefined>();\r\nlet BasicNode = ref<Element | undefined>();\r\n// 通过子组件删除当前选中节点\r\nconst delNode = () => {\r\n  graph.value && graph.value.removeNode(curSelectNode.value as Node);\r\n  curSelectNode.value = undefined;\r\n};\r\n// 子组件数据同步给父组件\r\nconst syncData = (data: any) => {\r\n  if (curSelectNode.value) {\r\n    // 决策组\r\n    if (curSelectNode.value.shape === BASIC_DESCISION_GROUP) {\r\n      curSelectNode.value.attr(\"text/text\", data.descision);\r\n    } else {\r\n      const curSelectNodeData = curSelectNode.value.getData();\r\n      curSelectNode.value.setData({\r\n        ...curSelectNodeData,\r\n        attrData: data,\r\n      });\r\n    }\r\n  }\r\n};\r\n// 保存数据\r\nconst saveData = (data: { cells: Cell.Properties[] }) => {\r\n  console.log(\"保存的数据是\", data);\r\n  testSaveData(data, route, graph.value as Graph);\r\n};\r\n\r\n// 工具栏配置项\r\nconst tools: Array<graphToolsT> = [\r\n  TOOL_ZOOM,\r\n  TOOL_FULLSCREEN,\r\n  TOOL_SAVE,\r\n  TOOL_DISABLED,\r\n];\r\n\r\n// 控制连接桩显示/隐藏\r\nconst showPorts = (ports: NodeListOf<SVGElement>, show: boolean) => {\r\n  for (let i = 0, len = ports.length; i < len; i = i + 1) {\r\n    ports[i].style.visibility = show ? \"visible\" : \"hidden\";\r\n  }\r\n};\r\nonMounted(() => {\r\n  if (graph.value && dnd.value) {\r\n    // 添加node点击事件\r\n    graph.value.on(\"node:click\", ({ view, node }) => {\r\n      if (BasicNode.value) {\r\n        BasicNode.value.classList.remove(\"active\");\r\n      }\r\n      BasicNode.value =\r\n        view.container.querySelector(\".basic-node\") || undefined;\r\n      if (BasicNode.value) {\r\n        BasicNode.value.classList.add(\"active\");\r\n      }\r\n      // 判断是否有选中过节点\r\n      if (curSelectNode.value) {\r\n        // 判断两次选中节点是否相同\r\n        if (curSelectNode.value !== node) {\r\n          curSelectNode.value = node;\r\n        } else {\r\n          curSelectNode.value = undefined;\r\n        }\r\n      } else {\r\n        curSelectNode.value = node;\r\n      }\r\n    });\r\n    // 添加画布空白点击事件\r\n    graph.value.on(\"blank:click\", () => {\r\n      curSelectNode.value = undefined;\r\n      if (BasicNode.value) {\r\n        BasicNode.value.classList.remove(\"active\");\r\n      }\r\n    });\r\n    // 鼠标移上显示连接桩\r\n    graph.value.on(\"node:mouseenter\", () => {\r\n      const container = document.getElementById(\"container\") as Element;\r\n      const ports = container.querySelectorAll(\r\n        \".x6-port-body\"\r\n      ) as NodeListOf<SVGElement>;\r\n      showPorts(ports, true);\r\n    });\r\n    graph.value.on(\"node:mouseleave\", () => {\r\n      const container = document.getElementById(\"container\") as Element;\r\n      const ports = container.querySelectorAll(\r\n        \".x6-port-body\"\r\n      ) as NodeListOf<SVGElement>;\r\n      showPorts(ports, false);\r\n    });\r\n\r\n    // 添加连接线点击事件\r\n  }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(Material, {\n        graph: _unref(graph),\n        dnd: _unref(dnd)\n      }, null, 8, [\"graph\", \"dnd\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"header\", null, [\n        _createVNode(GraphTools, {\n          tools: tools,\n          graph: _unref(graph),\n          dnd: _unref(dnd),\n          onSaveData: saveData\n        }, null, 8, [\"graph\", \"dnd\"])\n      ]),\n      _hoisted_4,\n      _createVNode(_unref(TeleportContainer))\n    ]),\n    _withDirectives(_createElementVNode(\"div\", _hoisted_5, [\n      _withDirectives((_openBlock(), _createBlock(attributeBlock, {\n        key: _unref(curSelectNode) && _unref(curSelectNode).id,\n        node: _unref(curSelectNode),\n        onSyncData: syncData,\n        onDelNode: delNode\n      }, null, 8, [\"node\"])), [\n        [_vShow, _unref(curSelectNode)]\n      ])\n    ], 512), [\n      [_vShow, _unref(curSelectNode)]\n    ])\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=b09a3fca&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b09a3fca\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-06dd2138\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"rules-block\" }\nconst _hoisted_2 = { class: \"common-title\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"决策列表\", -1))\n\nimport { useRouter } from \"vue-router\";\r\nimport { ref } from \"vue\";\r\nimport { descisionNodeItem } from \"@/assets/config/types/descision\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'descisionNode',\n  setup(__props) {\n\r\nconst router = useRouter();\r\n// 数据初始化\r\nconst tableData = ref(\r\n  JSON.parse(localStorage.getItem(\"descisionNodeList\") || \"[]\")\r\n);\r\n\r\n// 事件处理\r\n// 创建决策点\r\nconst createDescisionNode = () => {\r\n  const name = prompt(\"请输入决策点名称\");\r\n  if (name) {\r\n    tableData.value.push({\r\n      id: `${tableData.value.length + 1}`,\r\n      name,\r\n    });\r\n    localStorage.setItem(\"descisionNodeList\", JSON.stringify(tableData.value));\r\n  }\r\n};\r\n// 跳转到编辑决策页面\r\nconst goToEditDescisionNode = (item: descisionNodeItem) => {\r\n  router.push({\r\n    name: \"createDescisionNode\",\r\n    query: { id: item.id, name: item.name },\r\n  });\r\n};\r\n\r\nconst handleClick = (item: { id: number; name: string }) => {\r\n  router.push({\r\n    name: \"rulesDetail\",\r\n    query: { id: item.id },\r\n  });\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(_component_el_button, { onClick: createDescisionNode }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"新建决策点\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_component_el_table, {\n      data: tableData.value,\n      style: {\"width\":\"100%\"}\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_table_column, {\n          prop: \"name\",\n          label: \"决策点名称\",\n          width: \"180\"\n        }),\n        _createVNode(_component_el_table_column, {\n          prop: \"createTime\",\n          label: \"创建时间\",\n          width: \"180\"\n        }),\n        _createVNode(_component_el_table_column, {\n          prop: \"modifyTime\",\n          label: \"修改时间\",\n          width: \"180\"\n        }),\n        _createVNode(_component_el_table_column, {\n          prop: \"modifyTime\",\n          label: \"是否启用\",\n          width: \"180\"\n        }),\n        _createVNode(_component_el_table_column, {\n          fixed: \"right\",\n          label: \"操作\",\n          width: \"180\"\n        }, {\n          default: _withCtx((scope) => [\n            _createVNode(_component_el_button, {\n              link: \"\",\n              type: \"primary\",\n              size: \"small\",\n              onClick: ($event: any) => (handleClick(scope.row))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"详情\")\n              ]),\n              _: 2\n            }, 1032, [\"onClick\"]),\n            _createVNode(_component_el_button, {\n              link: \"\",\n              type: \"primary\",\n              size: \"small\",\n              onClick: ($event: any) => (goToEditDescisionNode(scope.row))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" 编辑 \")\n              ]),\n              _: 2\n            }, 1032, [\"onClick\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"data\"])\n  ]))\n}\n}\n\n})","import script from \"./descisionNode.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./descisionNode.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./descisionNode.vue?vue&type=style&index=0&id=06dd2138&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-06dd2138\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-19493b1e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"rules-block\" }\nconst _hoisted_2 = { class: \"common-title\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"决策组列表\", -1))\n\nimport { useRouter } from \"vue-router\";\r\nimport { ref } from \"vue\";\r\nimport { descisionNodeItem } from \"@/assets/config/types/descision\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'descisionGroup',\n  setup(__props) {\n\r\nconst router = useRouter();\r\n// 数据初始化\r\nconst tableData = ref(\r\n  JSON.parse(localStorage.getItem(\"descisionGroupList\") || \"[]\")\r\n);\r\n\r\n// 事件处理\r\n// 创建决策点\r\nconst createDescisionGroup = () => {\r\n  const name = prompt(\"请输入决策组名称\");\r\n  if (name) {\r\n    tableData.value.push({\r\n      id: `${tableData.value.length + 1}`,\r\n      name,\r\n    });\r\n    localStorage.setItem(\"descisionGroupList\", JSON.stringify(tableData.value));\r\n  }\r\n};\r\n// 跳转到编辑决策页面\r\nconst goToEditDescisionGroup = (item: descisionNodeItem) => {\r\n  router.push({\r\n    name: \"createDescisionGroup\",\r\n    query: { id: item.id, name: item.name },\r\n  });\r\n};\r\n\r\nconst handleClick = (item: { id: number; name: string }) => {\r\n  router.push({\r\n    name: \"rulesDetail\",\r\n    query: { id: item.id },\r\n  });\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(_component_el_button, { onClick: createDescisionGroup }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"新建决策组\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_component_el_table, {\n      data: tableData.value,\n      style: {\"width\":\"100%\"}\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_table_column, {\n          prop: \"name\",\n          label: \"决策组名称\",\n          width: \"180\"\n        }),\n        _createVNode(_component_el_table_column, {\n          prop: \"createTime\",\n          label: \"创建时间\",\n          width: \"180\"\n        }),\n        _createVNode(_component_el_table_column, {\n          prop: \"modifyTime\",\n          label: \"修改时间\",\n          width: \"180\"\n        }),\n        _createVNode(_component_el_table_column, {\n          prop: \"modifyTime\",\n          label: \"是否启用\",\n          width: \"180\"\n        }),\n        _createVNode(_component_el_table_column, {\n          fixed: \"right\",\n          label: \"操作\",\n          width: \"180\"\n        }, {\n          default: _withCtx((scope) => [\n            _createVNode(_component_el_button, {\n              link: \"\",\n              type: \"primary\",\n              size: \"small\",\n              onClick: ($event: any) => (handleClick(scope.row))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"详情\")\n              ]),\n              _: 2\n            }, 1032, [\"onClick\"]),\n            _createVNode(_component_el_button, {\n              link: \"\",\n              type: \"primary\",\n              size: \"small\",\n              onClick: ($event: any) => (goToEditDescisionGroup(scope.row))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" 编辑 \")\n              ]),\n              _: 2\n            }, 1032, [\"onClick\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"data\"])\n  ]))\n}\n}\n\n})","import script from \"./descisionGroup.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./descisionGroup.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./descisionGroup.vue?vue&type=style&index=0&id=19493b1e&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-19493b1e\"]])\n\nexport default __exports__","// 决策点相关页面\r\nimport descisionNodeList from \"./descisionNode.vue\";\r\nimport createDescision from \"@/views/MainPage/index.vue\";\r\n\r\n// 决策组相关页面\r\nimport descisionGroupList from \"./descisionGroup.vue\";\r\n\r\nexport default [\r\n  // 决策点路由\r\n  {\r\n    path: \"/descision-node-list\",\r\n    name: \"descisionNodeList\",\r\n    component: descisionNodeList,\r\n  },\r\n  {\r\n    path: \"/create-descision-node\",\r\n    name: \"createDescisionNode\",\r\n    component: createDescision,\r\n    meta: {\r\n      hideMenu: true,\r\n    },\r\n  },\r\n  {\r\n    path: \"/descision-detail\",\r\n    name: \"descisionDetail\",\r\n    component: createDescision,\r\n    meta: {\r\n      hideMenu: true,\r\n    },\r\n  },\r\n  // 决策组路由\r\n  {\r\n    path: \"/descision-group-list\",\r\n    name: \"descisionGroupList\",\r\n    component: descisionGroupList,\r\n  },\r\n  {\r\n    path: \"/create-descision-group\",\r\n    name: \"createDescisionGroup\",\r\n    component: createDescision,\r\n    meta: {\r\n      hideMenu: true,\r\n    },\r\n  },\r\n];\r\n","export default [\r\n  {\r\n    path: \"/flow-list\",\r\n    name: \"flow-list\",\r\n    component: () => import(/* webpackChunkName: \"flow\" */ \"./index.vue\"),\r\n  },\r\n  {\r\n    path: \"/create-flow\",\r\n    name: \"createFlow\",\r\n    component: () =>\r\n      import(/* webpackChunkName: \"flow\" */ \"@/views/MainPage/index.vue\"),\r\n    meta: {\r\n      hideMenu: true,\r\n    },\r\n  },\r\n  {\r\n    path: \"/flow-detail\",\r\n    name: \"flowDetail\",\r\n    component: () =>\r\n      import(/* webpackChunkName: \"flow\" */ \"@/views/MainPage/index.vue\"),\r\n    meta: {\r\n      hideMenu: true,\r\n    },\r\n  },\r\n];\r\n","export default [\r\n  {\r\n    path: \"/logic-flow-list\",\r\n    name: \"logic-flow-list\",\r\n    component: () => import(/* webpackChunkName: \"LogicFlow\" */ \"./index.vue\"),\r\n  },\r\n  {\r\n    path: \"/create-logic-flow\",\r\n    name: \"createLogicFlow\",\r\n    component: () =>\r\n      import(/* webpackChunkName: \"LogicFlow\" */ \"./logicFlowBasic.vue\"),\r\n    meta: {\r\n      hideMenu: true,\r\n    },\r\n  },\r\n  {\r\n    path: \"/logic-flow-detail\",\r\n    name: \"logicFlowDetail\",\r\n    component: () =>\r\n      import(/* webpackChunkName: \"LogicFlow\" */ \"./logicFlowBasic.vue\"),\r\n    meta: {\r\n      hideMenu: true,\r\n    },\r\n  },\r\n];\r\n","import { createRouter, createWebHashHistory, RouteRecordRaw } from \"vue-router\";\r\nimport HomeView from \"../views/common/index.vue\";\r\nimport ConfigView from \"../configTest/index.vue\";\r\n\r\nimport sceneView from \"@/views/scene/index.vue\";\r\n\r\nimport RulesRoutes from \"@/views/descision/routes\"; // 决策路由\r\nimport FlowRoutes from \"@/views/flow/routes\"; // 流程路由\r\nimport LogicFlowRoutes from \"@/views/LogicFlow/routes\"; // bpmn路由\r\n\r\nconst routes: Array<RouteRecordRaw> = [\r\n  {\r\n    path: \"/scene\",\r\n    name: \"scene\",\r\n    component: sceneView,\r\n  },\r\n  {\r\n    path: \"/\",\r\n    name: \"home\",\r\n    component: HomeView,\r\n    children: [...RulesRoutes, ...FlowRoutes],\r\n  },\r\n  ...LogicFlowRoutes,\r\n  {\r\n    path: \"/config\",\r\n    name: \"config\",\r\n    component: ConfigView,\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHashHistory(),\r\n  routes,\r\n});\r\n\r\nexport default router;\r\n","import { createStore } from \"vuex\";\n\nexport default createStore({\n  state: {},\n  getters: {},\n  mutations: {},\n  actions: {},\n  modules: {},\n});\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport ElementPlus from \"element-plus\";\nimport \"element-plus/dist/index.css\";\nimport * as ElementPlusIconsVue from \"@element-plus/icons-vue\";\nimport zhCn from \"element-plus/dist/locale/zh-cn.mjs\";\n\nconst app = createApp(App);\napp\n  .use(ElementPlus, {\n    locale: zhCn,\n  })\n  .use(store)\n  .use(router)\n  .mount(\"#app\");\n\nfor (const [key, component] of Object.entries(ElementPlusIconsVue)) {\n  app.component(key, component);\n}\n","// 属性类型\r\n// common,通用属性模板\r\nexport const DESCISION_ATTR = \"descision\"; // 决策组中决策节点\r\nexport const DESCISION_GROUP_ATTR = \"descisionGroup\"; // 流程中决策组节点\r\n\r\nexport const EQUIPMENT_ATTR = \"equipmentAttr\"; // 设备条件\r\nexport const TIME_ATTR = \"time\"; // 定时条件\r\nexport const WEATHER_ATTR = \"weather\"; // 天气条件\r\nexport const FENCE_ATTR = \"FENCE\"; // 围栏条件\r\nexport const EQUIPMENT_ATTR_ACTION = \"equipmentActionAttr\"; // 设备动作\r\nexport const MESSAGE_ATTR_ACTION = \"messageActionAttr\"; // 消息动作\r\nexport const DELAY_ATTR_ACTION = \"messageActionAttr\"; // 消息动作\r\n","/**\r\n * 用于子数据变更时同步父数据\r\n */\r\nimport { watch } from \"vue\";\r\n\r\n// 按照惯例，组合式函数名以“use”开头\r\nexport default function useSyncAttrData(emit: any, attrData: object) {\r\n  // 监听数据\r\n  watch(\r\n    attrData,\r\n    () => {\r\n      console.log(\"sdfe\");\r\n      emit(\"syncData\", attrData);\r\n    },\r\n    { deep: true }\r\n  );\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode } from \"vue\"\n\nimport { reactive, ref, onMounted } from \"vue\";\r\nimport type { FormInstance, FormRules } from \"element-plus\";\r\nimport useSyncAttrData from \"../useSyncAttrData\";\r\nimport { find } from \"lodash\";\r\n\r\n// 声明\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'attrDescision',\n  emits: [\"syncData\"],\n  setup(__props, { emit }) {\n\r\n\r\n\r\n// 事件\r\nconst changeDescision = (val: any) => {\r\n  console.log(val);\r\n  const descision = find(descisionNodeList, (item) => item.id === val);\r\n  ruleForm.descision = descision.name;\r\n};\r\n\r\n// 获取所有的决策点数据\r\nconst descisionNodeList = JSON.parse(\r\n  localStorage.getItem(\"descisionNodeList\") || \"[]\"\r\n);\r\nconsole.log(descisionNodeList);\r\n\r\nonMounted(() => {\r\n  useSyncAttrData(emit, ruleForm);\r\n});\r\n\r\nconst formSize = ref(\"default\");\r\nconst ruleFormRef = ref<FormInstance>();\r\nconst ruleForm = reactive({\r\n  name: \"Hello\",\r\n  descisionId: \"\",\r\n  descision: \"\",\r\n  count: \"\",\r\n  date1: \"\",\r\n  date2: \"\",\r\n  delivery: false,\r\n  type: [],\r\n  resource: \"\",\r\n  desc: \"\",\r\n});\r\n\r\nconst rules = reactive<FormRules>({\r\n  name: [\r\n    { required: true, message: \"Please input Activity name\", trigger: \"blur\" },\r\n    { min: 3, max: 5, message: \"Length should be 3 to 5\", trigger: \"blur\" },\r\n  ],\r\n  descisionId: [\r\n    {\r\n      required: true,\r\n      message: \"Please select Activity zone\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  count: [\r\n    {\r\n      required: true,\r\n      message: \"Please select Activity count\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  date1: [\r\n    {\r\n      type: \"date\",\r\n      required: true,\r\n      message: \"Please pick a date\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  date2: [\r\n    {\r\n      type: \"date\",\r\n      required: true,\r\n      message: \"Please pick a time\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  type: [\r\n    {\r\n      type: \"array\",\r\n      required: true,\r\n      message: \"Please select at least one activity type\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  resource: [\r\n    {\r\n      required: true,\r\n      message: \"Please select activity resource\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  desc: [\r\n    { required: true, message: \"Please input activity form\", trigger: \"blur\" },\r\n  ],\r\n});\r\n\r\nconst submitForm = async (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return;\r\n  await formEl.validate((valid, fields) => {\r\n    if (valid) {\r\n      console.log(\"submit!\");\r\n    } else {\r\n      console.log(\"error submit!\", fields);\r\n    }\r\n  });\r\n};\r\n\r\nconst resetForm = (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return;\r\n  formEl.resetFields();\r\n};\r\n\r\n// const options = Array.from({ length: 10000 }).map((_, idx) => ({\r\n//   value: `${idx + 1}`,\r\n//   label: `${idx + 1}`,\r\n// }));\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_checkbox = _resolveComponent(\"el-checkbox\")!\n  const _component_el_checkbox_group = _resolveComponent(\"el-checkbox-group\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n\n  return (_openBlock(), _createBlock(_component_el_form, {\n    ref_key: \"ruleFormRef\",\n    ref: ruleFormRef,\n    model: ruleForm,\n    rules: rules,\n    \"label-width\": \"120px\",\n    class: \"demo-ruleForm\",\n    size: formSize.value,\n    \"status-icon\": \"\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_el_form_item, {\n        label: \"决策点\",\n        prop: \"descision\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_select, {\n            modelValue: ruleForm.descisionId,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((ruleForm.descisionId) = $event)),\n            placeholder: \"请选择决策点\",\n            onChange: changeDescision\n          }, {\n            default: _withCtx(() => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(descisionNodeList), (item) => {\n                return (_openBlock(), _createBlock(_component_el_option, {\n                  key: item.id,\n                  label: item.name,\n                  value: item.id\n                }, null, 8, [\"label\", \"value\"]))\n              }), 128))\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_form_item, {\n        label: \"决策方式\",\n        prop: \"type\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_checkbox_group, {\n            modelValue: ruleForm.type,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((ruleForm.type) = $event))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_checkbox, {\n                label: \"正确\",\n                name: \"type\"\n              }),\n              _createVNode(_component_el_checkbox, {\n                label: \"错误\",\n                name: \"type\"\n              })\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_button, {\n            type: \"primary\",\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (submitForm(ruleFormRef.value)))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Create \")\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_button, {\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (resetForm(ruleFormRef.value)))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Reset\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"model\", \"rules\", \"size\"]))\n}\n}\n\n})","import script from \"./attrDescision.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./attrDescision.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode } from \"vue\"\n\nimport { reactive, ref, onMounted } from \"vue\";\r\nimport type { FormInstance, FormRules } from \"element-plus\";\r\nimport useSyncAttrData from \"../useSyncAttrData\";\r\nimport { find } from \"lodash\";\r\n\r\n// 声明\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'attrDescisionGroup',\n  emits: [\"syncData\"],\n  setup(__props, { emit }) {\n\r\n\r\n\r\n// 事件\r\nconst changeDescision = (val: any) => {\r\n  console.log(val);\r\n  const descision = find(descisionGroupList, (item) => item.id === val);\r\n  ruleForm.descision = descision.name;\r\n};\r\n\r\n// 获取所有的决策组数据\r\nconst descisionGroupList = JSON.parse(\r\n  localStorage.getItem(\"descisionGroupList\") || \"[]\"\r\n);\r\n\r\nonMounted(() => {\r\n  useSyncAttrData(emit, ruleForm);\r\n});\r\n\r\nconst formSize = ref(\"default\");\r\nconst ruleFormRef = ref<FormInstance>();\r\nconst ruleForm = reactive({\r\n  name: \"Hello\",\r\n  descisionId: \"\",\r\n  descision: \"\",\r\n  count: \"\",\r\n  date1: \"\",\r\n  date2: \"\",\r\n  delivery: false,\r\n  type: [],\r\n  resource: \"\",\r\n  desc: \"\",\r\n});\r\n\r\nconst rules = reactive<FormRules>({\r\n  name: [\r\n    { required: true, message: \"Please input Activity name\", trigger: \"blur\" },\r\n    { min: 3, max: 5, message: \"Length should be 3 to 5\", trigger: \"blur\" },\r\n  ],\r\n  descisionId: [\r\n    {\r\n      required: true,\r\n      message: \"Please select Activity zone\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  count: [\r\n    {\r\n      required: true,\r\n      message: \"Please select Activity count\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  date1: [\r\n    {\r\n      type: \"date\",\r\n      required: true,\r\n      message: \"Please pick a date\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  date2: [\r\n    {\r\n      type: \"date\",\r\n      required: true,\r\n      message: \"Please pick a time\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  type: [\r\n    {\r\n      type: \"array\",\r\n      required: true,\r\n      message: \"Please select at least one activity type\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  resource: [\r\n    {\r\n      required: true,\r\n      message: \"Please select activity resource\",\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  desc: [\r\n    { required: true, message: \"Please input activity form\", trigger: \"blur\" },\r\n  ],\r\n});\r\n\r\nconst submitForm = async (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return;\r\n  await formEl.validate((valid, fields) => {\r\n    if (valid) {\r\n      console.log(\"submit!\");\r\n    } else {\r\n      console.log(\"error submit!\", fields);\r\n    }\r\n  });\r\n};\r\n\r\nconst resetForm = (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return;\r\n  formEl.resetFields();\r\n};\r\n\r\n// const options = Array.from({ length: 10000 }).map((_, idx) => ({\r\n//   value: `${idx + 1}`,\r\n//   label: `${idx + 1}`,\r\n// }));\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n\n  return (_openBlock(), _createBlock(_component_el_form, {\n    ref_key: \"ruleFormRef\",\n    ref: ruleFormRef,\n    model: ruleForm,\n    rules: rules,\n    \"label-width\": \"120px\",\n    class: \"demo-ruleForm\",\n    size: formSize.value,\n    \"status-icon\": \"\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_el_form_item, {\n        label: \"决策组\",\n        prop: \"descision\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_select, {\n            modelValue: ruleForm.descisionId,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((ruleForm.descisionId) = $event)),\n            placeholder: \"请选择决策组\",\n            onChange: changeDescision\n          }, {\n            default: _withCtx(() => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(descisionGroupList), (item) => {\n                return (_openBlock(), _createBlock(_component_el_option, {\n                  key: item.id,\n                  label: item.name,\n                  value: item.id\n                }, null, 8, [\"label\", \"value\"]))\n              }), 128))\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_button, {\n            type: \"primary\",\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (submitForm(ruleFormRef.value)))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Create \")\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_button, {\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (resetForm(ruleFormRef.value)))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Reset\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"model\", \"rules\", \"size\"]))\n}\n}\n\n})","import script from \"./attrDescisionGroup.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./attrDescisionGroup.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import {\r\n  DESCISION_ATTR,\r\n  DESCISION_GROUP_ATTR,\r\n} from \"@/modules/attribute/constants\";\r\n\r\nimport descision from \"./attrDescision.vue\"; // 决策组中决策点模板\r\nimport descisionGroup from \"./attrDescisionGroup.vue\"; // 流程中决策组模板\r\n\r\nexport default {\r\n  [DESCISION_ATTR]: descision,\r\n  [DESCISION_GROUP_ATTR]: descisionGroup,\r\n};\r\n","<!--\r\n * @Descripttion: \r\n * @version: \r\n * @Author: mry\r\n * @Date: 2022-03-22 09:41:45\r\n * @LastEditors: mry\r\n * @LastEditTime: 2022-05-11 17:53:07\r\n-->\r\n<template>\r\n  <el-form\r\n    ref=\"diffForm\"\r\n    class=\"device-condition common-form\"\r\n    :model=\"ruleForm\"\r\n    :rules=\"rules\"\r\n    label-width=\"120px\"\r\n    label-position=\"top\"\r\n  >\r\n    <el-form-item label=\"设备产品类型\" prop=\"componentId\">\r\n      <el-select\r\n        v-model=\"ruleForm.componentId\"\r\n        filterable\r\n        placeholder=\"请选择设备产品类型\"\r\n        popper-class=\"selectCustomAttrs\"\r\n      >\r\n        <el-option\r\n          v-for=\"item in deviceProductTypeList\"\r\n          :key=\"item.id\"\r\n          :label=\"item.prodtypeName\"\r\n          :value=\"item.id\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"设备命令\" prop=\"deviceCommand\">\r\n      <el-select\r\n        v-model=\"ruleForm.deviceCommand\"\r\n        filterable\r\n        placeholder=\"请选择设备命令\"\r\n        popper-class=\"selectCustomAttrs\"\r\n        @change=\"handleDeviceCommandList\"\r\n      >\r\n        <el-option\r\n          v-for=\"item in deviceCommandList\"\r\n          :key=\"item.id\"\r\n          :label=\"item.description\"\r\n          :value=\"item.id\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <template\r\n      v-if=\"\r\n        ruleForm.deviceSkillObject.length > 0 &&\r\n        (ruleForm.isDeviceSkill || ruleForm.noMessage)\r\n      \"\r\n    >\r\n      <div\r\n        v-for=\"(item, index) in ruleForm.deviceSkillObject\"\r\n        :key=\"item.id\"\r\n        class=\"diff-param\"\r\n      >\r\n        <el-form-item label=\"事件属性\" class=\"deviceParam\">\r\n          <span>{{ item.description }} {{ item.propName }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"命令参数\" class=\"my-select-input deviceParam\">\r\n          <div class=\"command-param\">\r\n            <div class=\"command-left\">\r\n              <el-select\r\n                v-model=\"item.operationSign\"\r\n                popper-class=\"selectCustomAttrs\"\r\n                @change=\"(e) => handleDeviceParamSelect(e, index)\"\r\n              >\r\n                <el-option\r\n                  v-for=\"itms in item.operationSignList\"\r\n                  :key=\"itms.key\"\r\n                  :label=\"itms.value\"\r\n                  :value=\"itms.key\"\r\n                ></el-option>\r\n              </el-select>\r\n            </div>\r\n            <div class=\"command-right\">\r\n              <el-form-item\r\n                v-if=\"\r\n                  item.propValType === 'enum' ||\r\n                  item.propValType === 'bool' ||\r\n                  (item.propValType === 'int' && item.exchangeType === '1')\r\n                \"\r\n                :prop=\"'deviceSkillObject.' + index + '.param'\"\r\n                :rules=\"[\r\n                  {\r\n                    required: true,\r\n                    message: '参数值不能为空',\r\n                    trigger: 'change',\r\n                  },\r\n                ]\"\r\n              >\r\n                <el-select\r\n                  v-model=\"item.param\"\r\n                  style=\"width: 100%\"\r\n                  placeholder=\"请选择参数\"\r\n                  popper-class=\"selectCustomAttrs\"\r\n                  @change=\"(e) => handleSkillSelect(e, index, 'select')\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"itm in item.variantsList\"\r\n                    :key=\"itm.stdValue\"\r\n                    :label=\"itm.description\"\r\n                    :value=\"itm.stdValue\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item\r\n                v-else\r\n                :prop=\"'deviceSkillObject.' + index + '.param'\"\r\n                class=\"my-select-input deviceParam\"\r\n                :rules=\"[\r\n                  {\r\n                    required: true,\r\n                    message: '参数值不能为空',\r\n                    trigger: 'blur',\r\n                  },\r\n                  {\r\n                    validator: (rule, value, callback) => {\r\n                      getVariantsValue(item, value, callback);\r\n                    },\r\n                  },\r\n                ]\"\r\n              >\r\n                <el-input\r\n                  v-model=\"item.param\"\r\n                  style=\"width: 100%\"\r\n                  :maxlength=\"item.propValType === 'string' ? 500 : null\"\r\n                  :placeholder=\"\r\n                    item.variantsList\r\n                      ? `${\r\n                          '请输入' +\r\n                          item.variantsList.minValue +\r\n                          '到' +\r\n                          item.variantsList.maxValue +\r\n                          ',步长:' +\r\n                          item.variantsList.step\r\n                        }`\r\n                      : '请输入字符串值'\r\n                  \"\r\n                  @change=\"(e) => handleSkillSelect(e, index, 'input')\"\r\n                />\r\n              </el-form-item>\r\n            </div>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"用户编辑\"\r\n          :prop=\"'deviceSkillObject.' + index + '.require'\"\r\n          class=\"checkbox-style\"\r\n        >\r\n          <el-checkbox\r\n            v-model=\"item.require\"\r\n            @change=\"(e) => handleSkillSelect(e, index, 'check')\"\r\n            >支持</el-checkbox\r\n          >\r\n        </el-form-item>\r\n      </div>\r\n    </template>\r\n    <template\r\n      v-else-if=\"\r\n        ruleForm.deviceSkillObject.length === 0 && ruleForm.isDeviceSkill\r\n      \"\r\n    >\r\n      <el-form-item label=\"命令参数\" prop=\"commandParam\">\r\n        <span>无</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户编辑\" class=\"checkbox-style\">\r\n        <el-checkbox :disabled=\"true\">支持</el-checkbox>\r\n      </el-form-item>\r\n    </template>\r\n    <div v-else class=\"diff-param\">\r\n      <el-form-item\r\n        v-if=\"!ruleForm.noMessage\"\r\n        label=\"命令参数\"\r\n        class=\"my-select-input deviceParam\"\r\n      >\r\n        <div class=\"command-param\">\r\n          <div class=\"command-left\">\r\n            <el-select\r\n              v-model=\"ruleForm.operationSign\"\r\n              :disabled=\"ruleForm.noAlarm\"\r\n              popper-class=\"selectCustomAttrs\"\r\n              :class=\"ruleForm.noAlarm ? 'setMaxWidth' : ''\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in ruleForm.operationSignList\"\r\n                :key=\"item.key\"\r\n                :label=\"item.value\"\r\n                :value=\"item.key\"\r\n              ></el-option>\r\n            </el-select>\r\n          </div>\r\n          <div v-if=\"!ruleForm.noAlarm\" class=\"command-right\">\r\n            <el-form-item\r\n              v-if=\"\r\n                Array.isArray(ruleForm.variantsList) ||\r\n                ruleForm.deviceCommand === ''\r\n              \"\r\n              prop=\"commandParamSelect\"\r\n            >\r\n              <el-select\r\n                v-model=\"ruleForm.commandParamSelect\"\r\n                style=\"width: 100%\"\r\n                placeholder=\"请选择参数\"\r\n                popper-class=\"selectCustomAttrs\"\r\n                @change=\"handleChangeCommad\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in ruleForm.variantsList\"\r\n                  :key=\"item.stdValue\"\r\n                  :label=\"item.description\"\r\n                  :value=\"item.stdValue\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item v-else prop=\"inputValue\">\r\n              <div class=\"input-style\">\r\n                <el-input\r\n                  v-model=\"ruleForm.inputValue\"\r\n                  type=\"text\"\r\n                  :maxlength=\"\r\n                    ruleForm.variantsList &&\r\n                    ruleForm.variantsList.propValType &&\r\n                    ruleForm.variantsList.propValType == 'string'\r\n                      ? 500\r\n                      : null\r\n                  \"\r\n                  :class=\"\r\n                    ruleForm.variantsList &&\r\n                    ruleForm.variantsList.propValType &&\r\n                    ruleForm.variantsList.propValType == 'string'\r\n                      ? 'string-width'\r\n                      : ''\r\n                  \"\r\n                  :placeholder=\"inputPlaceHolder\"\r\n                  @blur=\"handleChangeInput\"\r\n                />\r\n              </div>\r\n            </el-form-item>\r\n          </div>\r\n          <div\r\n            v-if=\"\r\n              !Array.isArray(ruleForm.variantsList) &&\r\n              ruleForm.variantsList &&\r\n              ruleForm.variantsList.unit &&\r\n              !ruleForm.noAlarm\r\n            \"\r\n            class=\"device-unit\"\r\n          >\r\n            <span class=\"device-unit\">{{ ruleForm.variantsList.unit }}</span>\r\n          </div>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户编辑\" class=\"checkbox-style\">\r\n        <el-checkbox\r\n          v-model=\"ruleForm.isRequired\"\r\n          :disabled=\"ruleForm.noAlarm\"\r\n          @change=\"handleUuterSupport\"\r\n          >支持</el-checkbox\r\n        >\r\n      </el-form-item>\r\n    </div>\r\n    <el-form-item label=\"条件描述\" style=\"width: 100%\">\r\n      <el-input\r\n        v-model=\"ruleForm.desc\"\r\n        maxlength=\"100\"\r\n        type=\"textarea\"\r\n        :class=\"{ 'input-focus': inputFocus }\"\r\n        show-word-limit\r\n        placeholder=\"请填写条件描述，最多100字符\"\r\n        @focus=\"inputFocus = true\"\r\n        @blur=\"inputFocus = false\"\r\n      ></el-input>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n<script>\r\nimport { iotRequest } from \"@/apis/api\";\r\n// 同步父数据\r\nimport useSyncAttrData from \"@/modules/attribute/useSyncAttrData\";\r\n\r\nexport default {\r\n  props: {\r\n    fragmentListData: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n    singData: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      inputFocus: false,\r\n      ruleForm: {\r\n        componentId: \"\",\r\n        deviceCommand: \"\",\r\n        stdDesc: \"\",\r\n        isRequired: false,\r\n        noMessage: false,\r\n        noAlarm: false,\r\n        desc: \"\",\r\n        operationSign: \"equal\", // 命令参数\r\n        operationSignList: [\r\n          {\r\n            key: \"equal\",\r\n            value: \"等于\",\r\n          },\r\n        ], // 命令参数列表\r\n        deviceSkillObject: [], // 设备命令是deviceSkill类型\r\n        key: {\r\n          desc: \"\",\r\n          value: \"\",\r\n          id: \"\",\r\n        },\r\n        value: {\r\n          value: \"\",\r\n          desc: \"\",\r\n          required: false,\r\n        },\r\n        params: [],\r\n        variantsParamList: null,\r\n        isDeviceSkill: false,\r\n        variantsList: null,\r\n        inputValue: \"\",\r\n        commandParamSelect: \"\",\r\n      },\r\n      source: this.$route.query.source || \"\", // 场景模板来源\r\n      rules: {\r\n        componentId: [\r\n          { required: true, message: \"请选择设备产品类型\", trigger: \"change\" },\r\n        ],\r\n        deviceCommand: [\r\n          { required: true, message: \"请选择设备命令\", trigger: \"change\" },\r\n        ],\r\n        commandParamSelect: [\r\n          { required: true, message: \"请选择命令参数\", trigger: \"blur\" },\r\n        ],\r\n        inputValue: [\r\n          { required: true, message: \"请输入命令参数\", trigger: \"blur\" },\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              const data = {\r\n                variantsList: this.ruleForm.variantsList,\r\n                propValType: this.ruleForm.variantsList.propValType,\r\n              };\r\n              this.getVariantsValue(data, value, callback);\r\n            },\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      deviceProductTypeList: [], // 设备产品类型数据\r\n      deviceCommandList: [], // 设备命令\r\n      inputPlaceHolder: \"\",\r\n      editData: this.singData,\r\n    };\r\n  },\r\n  watch: {\r\n    \"ruleForm.componentId\": {\r\n      handler(val, old) {\r\n        console.log(val, \"val---\");\r\n        if (val) {\r\n          if (old && val !== old) {\r\n            this.editData = {};\r\n          }\r\n          const arr = this.deviceProductTypeList.filter((item) => {\r\n            return item.id === val;\r\n          });\r\n          this.ruleForm.stdDesc = arr[0].prodtypeName;\r\n          this.ruleForm.prodtypeName = arr[0].prodtypeName;\r\n          this.ruleForm.prodtypeCode = arr[0].prodtypeCode;\r\n          this.handleDeviceCommand();\r\n        }\r\n      },\r\n      immediate: true,\r\n      deep: true,\r\n    },\r\n  },\r\n  mounted() {\r\n    this.handleDeviceProductType();\r\n    useSyncAttrData(this.$emit, this.ruleForm);\r\n  },\r\n  methods: {\r\n    // 处理外层用户编辑数据\r\n    handleUuterSupport(e) {\r\n      this.ruleForm.value.required = e;\r\n    },\r\n    // 命令参数\r\n    handleDeviceParamSelect(e, index) {\r\n      this.ruleForm.params[index].operationSign = e;\r\n      this.$forceUpdate();\r\n    },\r\n    // 获取设备产品类型\r\n    handleDeviceProductType() {\r\n      let url;\r\n      if (this.source === \"southeastAsia\") {\r\n        url = \"/developerportal/dny/developer/prodtype/getAllProdtypeList\";\r\n      } else {\r\n        url = \"/developerportal/developer/prodtype/getAllProdtypeList\";\r\n      }\r\n      iotRequest(\"post\", url)\r\n        .then((res) => {\r\n          if (res.retCode === \"00000\") {\r\n            this.deviceProductTypeList = res.data;\r\n            return true;\r\n          }\r\n        })\r\n        .then(() => {\r\n          if (JSON.stringify(this.editData) !== \"{}\") {\r\n            this.ruleForm.componentId = this.editData.componentId;\r\n          }\r\n        });\r\n    },\r\n    // 设备命令\r\n    handleDeviceCommand() {\r\n      let url;\r\n      if (this.source === \"southeastAsia\") {\r\n        url =\r\n          \"/developerportal/dny/developer/prodtypeFunction/getProdtypeConditionFunctionList\";\r\n      } else {\r\n        url =\r\n          \"/developerportal/developer/prodtypeFunction/getProdtypeConditionFunctionList\";\r\n      }\r\n      iotRequest(\"post\", url, {\r\n        prodtypeId: this.ruleForm.componentId,\r\n      })\r\n        .then((res) => {\r\n          if (res.retCode === \"00000\") {\r\n            res.data.map((item) => {\r\n              console.log(item.type);\r\n              if (item.type == \"skill\") {\r\n                item.description = \"(语音)\" + item.description;\r\n              }\r\n              if (item.type == \"deviceSkill\") {\r\n                item.description = \"(技)\" + item.description;\r\n              }\r\n            });\r\n            this.deviceCommandList = res.data;\r\n            this.$nextTick(() => {\r\n              this.$refs.diffForm.clearValidate(\"deviceCommand\");\r\n              this.ruleForm.isDeviceSkill = false;\r\n              this.ruleForm.noMessage = false;\r\n              this.ruleForm.deviceSkillObject = [];\r\n              this.ruleForm.params = [];\r\n              this.ruleForm.variantsParamList = null;\r\n              this.ruleForm.variantsList = null;\r\n              this.ruleForm.inputValue = \"\";\r\n              this.ruleForm.commandParamSelect = \"\";\r\n              this.ruleForm.operationSignList = [\r\n                {\r\n                  key: \"equal\",\r\n                  value: \"等于\",\r\n                },\r\n              ];\r\n            });\r\n            this.ruleForm.deviceCommand = \"\";\r\n            return true;\r\n          }\r\n        })\r\n        .then(() => {\r\n          if (JSON.stringify(this.editData) !== \"{}\") {\r\n            this.ruleForm.deviceCommand = this.editData.key.id;\r\n            this.handleDeviceCommandList(this.ruleForm.deviceCommand);\r\n          }\r\n        });\r\n    },\r\n    handleDeviceCommandList(e) {\r\n      console.log(\"选中的值\", e);\r\n      this.$refs.diffForm.clearValidate();\r\n      if (\r\n        JSON.stringify(this.editData) !== \"{}\" &&\r\n        e !== this.editData.key.id\r\n      ) {\r\n        this.editData = {};\r\n      }\r\n      this.ruleForm.deviceSkillObject = [];\r\n      this.ruleForm.isDeviceSkill = false;\r\n      this.ruleForm.operationSign = \"equal\"; // 命令参数\r\n      this.ruleForm.operationSignList = [\r\n        {\r\n          key: \"equal\",\r\n          value: \"等于\",\r\n        },\r\n      ];\r\n      this.ruleForm.variantsParamList = null;\r\n      this.ruleForm.variantsList = null;\r\n      this.ruleForm.inputValue = \"\";\r\n      this.ruleForm.commandParamSelect = \"\";\r\n      this.ruleForm.isRequired = false;\r\n      this.ruleForm.params = [];\r\n      const data = this.deviceCommandList.filter((item) => {\r\n        return item.id === e;\r\n      });\r\n      if (data[0].type === \"property\") {\r\n        this.ruleForm.isDeviceSkill = false;\r\n        this.ruleForm.params = [];\r\n        this.noAlarm = false;\r\n        this.noMessage = false;\r\n        this.ruleForm.key = {\r\n          desc: data[0].description,\r\n          value: data[0].name,\r\n          id: data[0].id,\r\n        };\r\n        if (JSON.stringify(this.editData) !== \"{}\") {\r\n          this.$set(this.ruleForm, \"desc\", this.editData.desc);\r\n        }\r\n        if (data[0].valType == \"int\") {\r\n          const datas = JSON.parse(data[0].variants);\r\n          this.inputPlaceHolder =\r\n            \"请输入\" +\r\n            datas.minValue +\r\n            \"到\" +\r\n            datas.maxValue +\r\n            \",步长:\" +\r\n            datas.step;\r\n          this.ruleForm.variantsList = datas;\r\n          this.ruleForm.variantsList.propValType = data[0].valType;\r\n          this.ruleForm.operationSignList = [\r\n            {\r\n              key: \"greaterThan\",\r\n              value: \"高于\",\r\n            },\r\n            {\r\n              key: \"equal\",\r\n              value: \"等于\",\r\n            },\r\n            {\r\n              key: \"lessThan\",\r\n              value: \"低于\",\r\n            },\r\n          ];\r\n          if (JSON.stringify(this.editData) !== \"{}\") {\r\n            this.$set(this.ruleForm, \"inputValue\", this.editData.value.value);\r\n            this.$set(this.ruleForm, \"value\", this.editData.value);\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"operationSign\",\r\n              this.editData.operationSign\r\n            );\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"isRequired\",\r\n              this.editData.value.required\r\n            );\r\n          }\r\n        } else if (data[0].valType == \"bool\" || data[0].valType == \"enum\") {\r\n          const datas = JSON.parse(data[0].variants);\r\n          datas.map((item) => {\r\n            if (typeof item.stdValue !== \"string\") {\r\n              item.stdValue = item.stdValue.toString();\r\n            }\r\n          });\r\n          this.ruleForm.variantsList = datas;\r\n\r\n          if (data[0].valType == \"bool\") {\r\n            this.ruleForm.operationSignList = [\r\n              {\r\n                key: \"equal\",\r\n                value: \"等于\",\r\n              },\r\n            ];\r\n          }\r\n          if (data[0].valType == \"enum\") {\r\n            this.ruleForm.operationSignList = [\r\n              {\r\n                key: \"equal\",\r\n                value: \"等于\",\r\n              },\r\n              {\r\n                key: \"unequal\",\r\n                value: \"不等于\",\r\n              },\r\n            ];\r\n          }\r\n          if (JSON.stringify(this.editData) !== \"{}\") {\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"commandParamSelect\",\r\n              this.editData.value.value\r\n            );\r\n            this.$set(this.ruleForm, \"value\", this.editData.value);\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"operationSign\",\r\n              this.editData.operationSign\r\n            );\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"isRequired\",\r\n              this.editData.value.required\r\n            );\r\n          }\r\n        } else if (data[0].valType == \"double\") {\r\n          const datas = JSON.parse(data[0].variants);\r\n          this.ruleForm.operationSignList = [\r\n            {\r\n              key: \"greaterThan\",\r\n              value: \"高于\",\r\n            },\r\n            {\r\n              key: \"equal\",\r\n              value: \"等于\",\r\n            },\r\n            {\r\n              key: \"lessThan\",\r\n              value: \"低于\",\r\n            },\r\n          ];\r\n          this.inputPlaceHolder =\r\n            \"请输入\" +\r\n            datas.minValue +\r\n            \"到\" +\r\n            datas.maxValue +\r\n            \",步长:\" +\r\n            datas.step;\r\n          this.ruleForm.variantsList = datas;\r\n          this.ruleForm.variantsList.propValType = data[0].valType;\r\n          if (JSON.stringify(this.editData) !== \"{}\") {\r\n            this.$set(this.ruleForm, \"inputValue\", this.editData.value.value);\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"operationSign\",\r\n              this.editData.operationSign\r\n            );\r\n            this.$set(this.ruleForm, \"value\", this.editData.value);\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"isRequired\",\r\n              this.editData.value.required\r\n            );\r\n          }\r\n        } else if (data[0].valType == \"string\") {\r\n          if (data[0].variants === undefined) {\r\n            this.ruleForm.variantsList = {};\r\n          } else {\r\n            this.ruleForm.variantsList = JSON.parse(data[0].variants);\r\n          }\r\n          this.ruleForm.operationSignList = [\r\n            {\r\n              key: \"greaterThan\",\r\n              value: \"高于\",\r\n            },\r\n            {\r\n              key: \"equal\",\r\n              value: \"等于\",\r\n            },\r\n            {\r\n              key: \"lessThan\",\r\n              value: \"低于\",\r\n            },\r\n            {\r\n              key: \"greaterThanEqual\",\r\n              value: \"高于或等于\",\r\n            },\r\n            {\r\n              key: \"unequal\",\r\n              value: \"不等于\",\r\n            },\r\n            {\r\n              key: \"lessThanEqual\",\r\n              value: \"低于或等于\",\r\n            },\r\n          ];\r\n          this.inputPlaceHolder = \"\";\r\n          this.ruleForm.variantsList.propValType = \"string\";\r\n          if (JSON.stringify(this.editData) !== \"{}\") {\r\n            this.$set(this.ruleForm, \"inputValue\", this.editData.value.value);\r\n            this.$set(this.ruleForm, \"value\", this.editData.value);\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"operationSign\",\r\n              this.editData.operationSign\r\n            );\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"isRequired\",\r\n              this.editData.value.required\r\n            );\r\n          }\r\n        }\r\n      }\r\n      if (data[0].type === \"deviceSkill\") {\r\n        this.ruleForm.key = {\r\n          desc: data[0].stdDescription,\r\n          value: data[0].name,\r\n          id: data[0].id,\r\n          type: \"deviceSkill\",\r\n        };\r\n        if (JSON.stringify(this.editData) !== \"{}\") {\r\n          this.$set(this.ruleForm, \"desc\", this.editData.desc);\r\n          this.$set(this.ruleForm, \"params\", this.editData.params);\r\n        }\r\n        this.ruleForm.isDeviceSkill = true;\r\n        this.ruleForm.deviceSkillObject = data[0].prodtypeFunctionSubDtoList\r\n          ? data[0].prodtypeFunctionSubDtoList\r\n          : [];\r\n        if (this.ruleForm.deviceSkillObject.length > 0) {\r\n          this.ruleForm.deviceSkillObject.map((item, index) => {\r\n            this.$set(item, \"param\", \"\");\r\n            const objName = {\r\n              desc: item.description,\r\n              key: {\r\n                desc: item.description,\r\n                id: item.id,\r\n                type: \"deviceSkill\",\r\n                value: item.propName,\r\n              },\r\n              logicalSign: \"AND\",\r\n              operationSign: \"equal\",\r\n              value: {\r\n                desc: \"\",\r\n                required: false,\r\n                value: \"\",\r\n              },\r\n            };\r\n            if (JSON.stringify(this.editData) === \"{}\") {\r\n              this.ruleForm.params.push(objName);\r\n            }\r\n            if (item.propValType == \"enum\") {\r\n              if (item.variants) {\r\n                const data = this.isJSON_test(item.variants)\r\n                  ? JSON.parse(item.variants)\r\n                  : [];\r\n                data.map((items) => {\r\n                  if (typeof items.stdValue !== \"string\") {\r\n                    items.stdValue = items.stdValue + \"\";\r\n                  }\r\n                });\r\n                item.variantsList = data;\r\n              }\r\n              item.placeholder = \"请选择参数\";\r\n              item.operationSignList = [\r\n                {\r\n                  key: \"equal\",\r\n                  value: \"等于\",\r\n                },\r\n                {\r\n                  key: \"unequal\",\r\n                  value: \"不等于\",\r\n                },\r\n              ];\r\n              if (JSON.stringify(this.editData) !== \"{}\") {\r\n                this.$set(\r\n                  item,\r\n                  \"param\",\r\n                  this.editData.params[index].value.value\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"operationSign\",\r\n                  this.editData.params[index].operationSign\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"require\",\r\n                  this.editData.params[index].value.required\r\n                );\r\n                this.$set(item, \"value\", this.editData.value);\r\n                this.$set(item, \"params\", this.editData.params);\r\n              } else {\r\n                item.operationSign = \"equal\";\r\n                item.require = false;\r\n              }\r\n            } else if (item.propValType == \"string\") {\r\n              if (item.variants) {\r\n                item.variantsList = this.isJSON_test(item.variants)\r\n                  ? JSON.parse(item.variants)\r\n                  : \"\";\r\n                item.placeholder =\r\n                  \"请输入\" +\r\n                  item.variantsList.minValue +\r\n                  \"到\" +\r\n                  item.variantsList.maxValue +\r\n                  \",步长:\" +\r\n                  item.variantsList.step;\r\n                item.unit = item.variantsList.unit\r\n                  ? item.variantsList.unit\r\n                  : \"\";\r\n              } else {\r\n                item.placeholder = \"请输入字符串\";\r\n              }\r\n              item.operationSignList = [\r\n                {\r\n                  key: \"greaterThan\",\r\n                  value: \"高于\",\r\n                },\r\n                {\r\n                  key: \"equal\",\r\n                  value: \"等于\",\r\n                },\r\n                {\r\n                  key: \"lessThan\",\r\n                  value: \"低于\",\r\n                },\r\n                {\r\n                  key: \"greaterThanEqual\",\r\n                  value: \"高于或等于\",\r\n                },\r\n                {\r\n                  key: \"unequal\",\r\n                  value: \"不等于\",\r\n                },\r\n                {\r\n                  key: \"lessThanEqual\",\r\n                  value: \"低于或等于\",\r\n                },\r\n              ];\r\n              if (JSON.stringify(this.editData) !== \"{}\") {\r\n                this.$set(\r\n                  item,\r\n                  \"param\",\r\n                  this.editData.params[index].value.value\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"operationSign\",\r\n                  this.editData.params[index].operationSign\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"require\",\r\n                  this.editData.params[index].value.required\r\n                );\r\n                this.$set(item, \"value\", this.editData.value);\r\n                this.$set(item, \"params\", this.editData.params);\r\n              } else {\r\n                item.operationSign = \"equal\";\r\n                item.require = false;\r\n              }\r\n            } else if (item.propValType == \"bool\") {\r\n              if (item.variants) {\r\n                const data = this.isJSON_test(item.variants)\r\n                  ? JSON.parse(item.variants)\r\n                  : [];\r\n                data.map((items) => {\r\n                  if (typeof items.stdValue !== \"string\") {\r\n                    items.stdValue = items.stdValue + \"\";\r\n                  }\r\n                });\r\n                item.variantsList = data;\r\n              }\r\n              item.placeholder = \"请选择参数\";\r\n              item.operationSignList = [\r\n                {\r\n                  key: \"equal\",\r\n                  value: \"等于\",\r\n                },\r\n              ];\r\n              if (JSON.stringify(this.editData) !== \"{}\") {\r\n                this.$set(\r\n                  item,\r\n                  \"param\",\r\n                  this.editData.params[index].value.value\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"operationSign\",\r\n                  this.editData.params[index].operationSign\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"require\",\r\n                  this.editData.params[index].value.required\r\n                );\r\n                this.$set(item, \"value\", this.editData.value);\r\n                this.$set(item, \"params\", this.editData.params);\r\n              } else {\r\n                item.operationSign = \"equal\";\r\n                item.require = false;\r\n              }\r\n            } else if (item.propValType == \"int\") {\r\n              if (item.variants) {\r\n                item.variantsList = this.isJSON_test(item.variants)\r\n                  ? JSON.parse(item.variants)\r\n                  : \"\";\r\n                item.placeholder =\r\n                  \"请输入\" +\r\n                  item.variantsList.minValue +\r\n                  \"到\" +\r\n                  item.variantsList.maxValue +\r\n                  \",步长:\" +\r\n                  item.variantsList.step;\r\n                item.unit = item.variantsList.unit\r\n                  ? item.variantsList.unit\r\n                  : \"\";\r\n              } else {\r\n                item.placeholder = \"请输入\";\r\n              }\r\n              item.operationSignList = [\r\n                {\r\n                  key: \"greaterThan\",\r\n                  value: \"高于\",\r\n                },\r\n                {\r\n                  key: \"equal\",\r\n                  value: \"等于\",\r\n                },\r\n                {\r\n                  key: \"lessThan\",\r\n                  value: \"低于\",\r\n                },\r\n              ];\r\n              if (JSON.stringify(this.editData) !== \"{}\") {\r\n                this.$set(\r\n                  item,\r\n                  \"param\",\r\n                  Number(this.editData.params[index].value.value)\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"operationSign\",\r\n                  this.editData.params[index].operationSign\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"require\",\r\n                  this.editData.params[index].value.required\r\n                );\r\n                this.$set(item, \"value\", this.editData.value);\r\n                this.$set(item, \"params\", this.editData.params);\r\n              } else {\r\n                item.operationSign = \"equal\";\r\n                item.require = false;\r\n              }\r\n            } else {\r\n              if (item.variants) {\r\n                item.variantsList = this.isJSON_test(item.variants)\r\n                  ? JSON.parse(item.variants)\r\n                  : \"\";\r\n                item.placeholder =\r\n                  \"请输入\" +\r\n                  item.variantsList.minValue +\r\n                  \"到\" +\r\n                  item.variantsList.maxValue +\r\n                  \",步长:\" +\r\n                  item.variantsList.step;\r\n                item.unit = item.variantsList.unit\r\n                  ? item.variantsList.unit\r\n                  : \"\";\r\n              } else {\r\n                item.placeholder = \"请输入\";\r\n              }\r\n              item.operationSignList = [\r\n                {\r\n                  key: \"greaterThan\",\r\n                  value: \"高于\",\r\n                },\r\n                {\r\n                  key: \"equal\",\r\n                  value: \"等于\",\r\n                },\r\n                {\r\n                  key: \"lessThan\",\r\n                  value: \"低于\",\r\n                },\r\n              ];\r\n              if (JSON.stringify(this.editData) !== \"{}\") {\r\n                this.$set(\r\n                  item,\r\n                  \"param\",\r\n                  Number(this.editData.params[index].value.value)\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"operationSign\",\r\n                  this.editData.params[index].operationSign\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"require\",\r\n                  this.editData.params[index].value.required\r\n                );\r\n                this.$set(item, \"value\", this.editData.value);\r\n                this.$set(item, \"params\", this.editData.params);\r\n              } else {\r\n                item.operationSign = \"equal\";\r\n                item.require = false;\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          this.ruleForm.params = [];\r\n        }\r\n      } else {\r\n        this.ruleForm.isDeviceSkill = false;\r\n      }\r\n      if (data[0].type == \"message\") {\r\n        this.ruleForm.noMessage = true;\r\n        this.ruleForm.key = {\r\n          desc: data[0].stdDescription,\r\n          value: data[0].name,\r\n          id: data[0].id,\r\n          type: \"message\",\r\n        };\r\n        if (JSON.stringify(this.editData) !== \"{}\") {\r\n          this.$set(this.ruleForm, \"desc\", this.editData.desc);\r\n          this.$set(this.ruleForm, \"params\", this.editData.params);\r\n        }\r\n        this.ruleForm.deviceSkillObject = data[0].prodtypeFunctionSubDtoList\r\n          ? data[0].prodtypeFunctionSubDtoList\r\n          : [];\r\n        if (this.ruleForm.deviceSkillObject.length > 0) {\r\n          this.ruleForm.deviceSkillObject.map((item, index) => {\r\n            this.$set(item, \"param\", \"\");\r\n            const objName = {\r\n              desc: item.description,\r\n              key: {\r\n                desc: item.description,\r\n                id: item.id,\r\n                type: \"message\",\r\n                value: item.propName,\r\n              },\r\n              logicalSign: \"AND\",\r\n              operationSign: \"equal\",\r\n              value: {\r\n                desc: \"\",\r\n                required: false,\r\n                value: \"\",\r\n              },\r\n            };\r\n            if (JSON.stringify(this.editData) === \"{}\") {\r\n              this.ruleForm.params.push(objName);\r\n            }\r\n            if (item.propValType == \"enum\") {\r\n              if (item.variants) {\r\n                const data = this.isJSON_test(item.variants)\r\n                  ? JSON.parse(item.variants)\r\n                  : [];\r\n                data.map((items) => {\r\n                  if (typeof items.stdValue !== \"string\") {\r\n                    items.stdValue = items.stdValue + \"\";\r\n                  }\r\n                });\r\n                item.variantsList = data;\r\n              }\r\n              item.placeholder = \"请选择参数\";\r\n              item.operationSignList = [\r\n                {\r\n                  key: \"equal\",\r\n                  value: \"等于\",\r\n                },\r\n                {\r\n                  key: \"unequal\",\r\n                  value: \"不等于\",\r\n                },\r\n              ];\r\n              if (JSON.stringify(this.editData) !== \"{}\") {\r\n                this.$set(\r\n                  item,\r\n                  \"param\",\r\n                  this.editData.params[index].value.value\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"operationSign\",\r\n                  this.editData.params[index].operationSign\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"require\",\r\n                  this.editData.params[index].value.required\r\n                );\r\n                this.$set(item, \"value\", this.editData.value);\r\n                this.$set(item, \"params\", this.editData.params);\r\n              } else {\r\n                item.operationSign = \"equal\";\r\n                item.require = false;\r\n              }\r\n            } else if (item.propValType == \"string\") {\r\n              if (item.variants) {\r\n                item.variantsList = this.isJSON_test(item.variants)\r\n                  ? JSON.parse(item.variants)\r\n                  : \"\";\r\n                item.placeholder =\r\n                  \"请输入\" +\r\n                  item.variantsList.minValue +\r\n                  \"到\" +\r\n                  item.variantsList.maxValue +\r\n                  \",步长:\" +\r\n                  item.variantsList.step;\r\n                item.unit = item.variantsList.unit\r\n                  ? item.variantsList.unit\r\n                  : \"\";\r\n              } else {\r\n                item.placeholder = \"请输入字符串\";\r\n              }\r\n              item.operationSignList = [\r\n                {\r\n                  key: \"greaterThan\",\r\n                  value: \"高于\",\r\n                },\r\n                {\r\n                  key: \"equal\",\r\n                  value: \"等于\",\r\n                },\r\n                {\r\n                  key: \"lessThan\",\r\n                  value: \"低于\",\r\n                },\r\n                {\r\n                  key: \"greaterThanEqual\",\r\n                  value: \"高于或等于\",\r\n                },\r\n                {\r\n                  key: \"unequal\",\r\n                  value: \"不等于\",\r\n                },\r\n                {\r\n                  key: \"lessThanEqual\",\r\n                  value: \"低于或等于\",\r\n                },\r\n              ];\r\n              if (JSON.stringify(this.editData) !== \"{}\") {\r\n                this.$set(\r\n                  item,\r\n                  \"param\",\r\n                  this.editData.params[index].value.value\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"operationSign\",\r\n                  this.editData.params[index].operationSign\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"require\",\r\n                  this.editData.params[index].value.required\r\n                );\r\n                this.$set(item, \"value\", this.editData.value);\r\n                this.$set(item, \"params\", this.editData.params);\r\n              } else {\r\n                item.operationSign = \"equal\";\r\n                item.require = false;\r\n              }\r\n            } else if (item.propValType == \"bool\") {\r\n              if (item.variants) {\r\n                const data = this.isJSON_test(item.variants)\r\n                  ? JSON.parse(item.variants)\r\n                  : [];\r\n                data.map((items) => {\r\n                  if (typeof items.stdValue !== \"string\") {\r\n                    items.stdValue = items.stdValue + \"\";\r\n                  }\r\n                });\r\n                item.variantsList = data;\r\n              }\r\n              item.placeholder = \"请选择参数\";\r\n              item.operationSignList = [\r\n                {\r\n                  key: \"equal\",\r\n                  value: \"等于\",\r\n                },\r\n              ];\r\n              if (JSON.stringify(this.editData) !== \"{}\") {\r\n                this.$set(\r\n                  item,\r\n                  \"param\",\r\n                  this.editData.params[index].value.value\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"operationSign\",\r\n                  this.editData.params[index].operationSign\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"require\",\r\n                  this.editData.params[index].value.required\r\n                );\r\n                this.$set(item, \"value\", this.editData.value);\r\n                this.$set(item, \"params\", this.editData.params);\r\n              } else {\r\n                item.operationSign = \"equal\";\r\n                item.require = false;\r\n              }\r\n            } else if (item.propValType == \"int\") {\r\n              if (item.exchangeType === \"1\") {\r\n                if (item.exchangeVariants) {\r\n                  const data = this.isJSON_test(item.exchangeVariants)\r\n                    ? JSON.parse(item.exchangeVariants)\r\n                    : [];\r\n                  data.map((items) => {\r\n                    if (typeof items.stdValue !== \"string\") {\r\n                      items.stdValue = items.stdValue + \"\";\r\n                    }\r\n                  });\r\n                  item.variantsList = data;\r\n                }\r\n                item.placeholder = \"请选择参数\";\r\n                item.operationSignList = [\r\n                  {\r\n                    key: \"equal\",\r\n                    value: \"等于\",\r\n                  },\r\n                  {\r\n                    key: \"unequal\",\r\n                    value: \"不等于\",\r\n                  },\r\n                ];\r\n                if (JSON.stringify(this.editData) !== \"{}\") {\r\n                  this.$set(\r\n                    item,\r\n                    \"param\",\r\n                    this.editData.params[index].value.value\r\n                  );\r\n                  this.$set(\r\n                    item,\r\n                    \"operationSign\",\r\n                    this.editData.params[index].operationSign\r\n                  );\r\n                  this.$set(\r\n                    item,\r\n                    \"require\",\r\n                    this.editData.params[index].value.required\r\n                  );\r\n                  this.$set(item, \"value\", this.editData.value);\r\n                  this.$set(item, \"params\", this.editData.params);\r\n                } else {\r\n                  item.operationSign = \"equal\";\r\n                  item.require = false;\r\n                }\r\n              } else {\r\n                if (item.variants) {\r\n                  item.variantsList = this.isJSON_test(item.variants)\r\n                    ? JSON.parse(item.variants)\r\n                    : \"\";\r\n                  item.placeholder =\r\n                    \"请输入\" +\r\n                    item.variantsList.minValue +\r\n                    \"到\" +\r\n                    item.variantsList.maxValue +\r\n                    \",步长:\" +\r\n                    item.variantsList.step;\r\n                  item.unit = item.variantsList.unit\r\n                    ? item.variantsList.unit\r\n                    : \"\";\r\n                } else {\r\n                  item.placeholder = \"请输入\";\r\n                }\r\n                item.operationSignList = [\r\n                  {\r\n                    key: \"greaterThan\",\r\n                    value: \"高于\",\r\n                  },\r\n                  {\r\n                    key: \"equal\",\r\n                    value: \"等于\",\r\n                  },\r\n                  {\r\n                    key: \"lessThan\",\r\n                    value: \"低于\",\r\n                  },\r\n                ];\r\n                if (JSON.stringify(this.editData) !== \"{}\") {\r\n                  this.$set(\r\n                    item,\r\n                    \"param\",\r\n                    Number(this.editData.params[index].value.value)\r\n                  );\r\n                  this.$set(\r\n                    item,\r\n                    \"operationSign\",\r\n                    this.editData.params[index].operationSign\r\n                  );\r\n                  this.$set(\r\n                    item,\r\n                    \"require\",\r\n                    this.editData.params[index].value.required\r\n                  );\r\n                  this.$set(item, \"value\", this.editData.value);\r\n                  this.$set(item, \"params\", this.editData.params);\r\n                } else {\r\n                  item.operationSign = \"equal\";\r\n                  item.require = false;\r\n                }\r\n              }\r\n            } else {\r\n              if (item.variants) {\r\n                item.variantsList = this.isJSON_test(item.variants)\r\n                  ? JSON.parse(item.variants)\r\n                  : \"\";\r\n                item.placeholder =\r\n                  \"请输入\" +\r\n                  item.variantsList.minValue +\r\n                  \"到\" +\r\n                  item.variantsList.maxValue +\r\n                  \",步长:\" +\r\n                  item.variantsList.step;\r\n                item.unit = item.variantsList.unit\r\n                  ? item.variantsList.unit\r\n                  : \"\";\r\n              } else {\r\n                item.placeholder = \"请输入\";\r\n              }\r\n              item.operationSignList = [\r\n                {\r\n                  key: \"greaterThan\",\r\n                  value: \"高于\",\r\n                },\r\n                {\r\n                  key: \"equal\",\r\n                  value: \"等于\",\r\n                },\r\n                {\r\n                  key: \"lessThan\",\r\n                  value: \"低于\",\r\n                },\r\n              ];\r\n              if (JSON.stringify(this.editData) !== \"{}\") {\r\n                this.$set(\r\n                  item,\r\n                  \"param\",\r\n                  Number(this.editData.params[index].value.value)\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"operationSign\",\r\n                  this.editData.params[index].operationSign\r\n                );\r\n                this.$set(\r\n                  item,\r\n                  \"require\",\r\n                  this.editData.params[index].value.required\r\n                );\r\n                this.$set(item, \"value\", this.editData.value);\r\n                this.$set(item, \"params\", this.editData.params);\r\n              } else {\r\n                item.operationSign = \"equal\";\r\n                item.require = false;\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          this.ruleForm.params = [];\r\n        }\r\n      } else {\r\n        this.ruleForm.noMessage = false;\r\n      }\r\n      if (data[0].type == \"alarm\") {\r\n        this.ruleForm.noAlarm = true;\r\n        this.ruleForm.params = [];\r\n        this.ruleForm.key = {\r\n          desc: data[0].description,\r\n          value: data[0].name,\r\n          id: data[0].id,\r\n        };\r\n        this.ruleForm.value = {\r\n          desc: \"\",\r\n          required: false,\r\n          value: \"\",\r\n        };\r\n        if (JSON.stringify(this.editData) !== \"{}\") {\r\n          this.$set(this.ruleForm, \"desc\", this.editData.desc);\r\n        }\r\n      } else {\r\n        this.ruleForm.noAlarm = false;\r\n      }\r\n    },\r\n    isJSON_test(str) {\r\n      if (typeof str == \"string\") {\r\n        try {\r\n          var obj = JSON.parse(str);\r\n          console.log(obj);\r\n          return true;\r\n        } catch (e) {\r\n          return false;\r\n        }\r\n      }\r\n    },\r\n    //根据属性ID获取属性取值范围\r\n    getVariantsValue(item, value, callback) {\r\n      if (item.variantsList && value) {\r\n        if (item.propValType === \"double\") {\r\n          if (!this.$vertifyMethods.isDouble(value, 2)) {\r\n            callback(\"数据不符合要求\");\r\n          }\r\n          if (parseFloat(value) < parseFloat(item.variantsList.minValue)) {\r\n            callback(\"参数值数据格式不合法，请重新填写\");\r\n          } else if (\r\n            parseFloat(value) > parseFloat(item.variantsList.maxValue)\r\n          ) {\r\n            callback(\"参数值数据格式不合法，请重新填写\");\r\n          } else if (\r\n            parseFloat(value) % parseFloat(item.variantsList.step) !==\r\n            0\r\n          ) {\r\n            callback(\"参数值数据格式不合法，请重新填写\");\r\n          } else {\r\n            callback();\r\n          }\r\n        }\r\n        if (item.propValType === \"int\") {\r\n          let reg = /^[0-9]*$/;\r\n          if (!reg.test(value)) {\r\n            callback(\"数据不符合要求\");\r\n          }\r\n          console.log(Number(value), Number(item.variantsList.minValue));\r\n          if (Number(value) < Number(item.variantsList.minValue)) {\r\n            callback(\"参数值数据格式不合法，请重新填写\");\r\n          } else if (Number(value) > Number(item.variantsList.maxValue)) {\r\n            callback(\"参数值数据格式不合法，请重新填写\");\r\n          } else if (Number(value) % Number(item.variantsList.step) !== 0) {\r\n            callback(\"参数值数据格式不合法，请重新填写\");\r\n          } else {\r\n            callback();\r\n          }\r\n        }\r\n        if (item.propValType === \"string\") {\r\n          callback();\r\n        }\r\n      } else {\r\n        callback();\r\n      }\r\n    },\r\n    // 技能的select选项\r\n    handleSkillSelect(e, index, type) {\r\n      if (type === \"select\") {\r\n        this.ruleForm.deviceSkillObject[index].variantsList.filter((item) => {\r\n          if (item.stdValue === e) {\r\n            this.ruleForm.params[index].value = {\r\n              desc: item.description,\r\n              required: this.ruleForm.deviceSkillObject[index].require,\r\n              value: e,\r\n            };\r\n          }\r\n        });\r\n      } else if (type === \"input\") {\r\n        this.ruleForm.params[index].value = {\r\n          desc: e,\r\n          required: this.ruleForm.deviceSkillObject[index].require,\r\n          value: e,\r\n        };\r\n      } else {\r\n        this.$set(this.ruleForm.deviceSkillObject[index], \"require\", e);\r\n        this.ruleForm.params[index].value.required = e;\r\n        this.$forceUpdate();\r\n      }\r\n    },\r\n    resetFormData() {\r\n      this.$refs.diffForm.resetFields();\r\n    },\r\n    // 选择除了设备技能外的命令参数\r\n    handleChangeCommad(e) {\r\n      if (e) {\r\n        this.$refs.diffForm.clearValidate(\"commandParamSelect\");\r\n      }\r\n      const data = this.ruleForm.variantsList.filter((item) => {\r\n        return item.stdValue === e;\r\n      });\r\n      this.ruleForm.value = {\r\n        desc: data[0].description,\r\n        value: e,\r\n        required: this.ruleForm.isRequired,\r\n      };\r\n    },\r\n    handleChangeSelectParamSet(e) {\r\n      const data = this.ruleForm.variantsParamList.filter((item) => {\r\n        return item.stdValue === e;\r\n      });\r\n      this.ruleForm.args[0].value = {\r\n        desc: data[0].description,\r\n        value: e,\r\n        required: this.ruleForm.isRequired,\r\n      };\r\n    },\r\n    handleChangeParamSet(e) {\r\n      let desc;\r\n      if (this.ruleForm.variantsList.unit) {\r\n        desc = e.target.value + this.ruleForm.variantsList.unit;\r\n      }\r\n      this.ruleForm.args[0].value = {\r\n        desc: desc,\r\n        value: e.target.value,\r\n        required: this.ruleForm.isRequired,\r\n      };\r\n    },\r\n    handleChangeInput(e) {\r\n      let desc;\r\n      if (this.ruleForm.variantsList.unit) {\r\n        desc = e.target.value + this.ruleForm.variantsList.unit;\r\n      } else {\r\n        desc = e.target.value;\r\n      }\r\n      this.ruleForm.value = {\r\n        desc: desc,\r\n        value: e.target.value,\r\n        required: this.ruleForm.isRequired,\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.diff-param {\r\n  margin-bottom: 24px;\r\n}\r\n.deviceParam {\r\n  margin-bottom: 24px;\r\n  > .el-form-item__label::after {\r\n    content: \"*\";\r\n    color: #f56c6c;\r\n    margin-left: 2px;\r\n  }\r\n}\r\n.device-condition {\r\n  .input-style {\r\n    // width: 150%;\r\n  }\r\n  .el-select,\r\n  .el-textarea {\r\n    width: 100%;\r\n  }\r\n  .my-select-input {\r\n    .command-param {\r\n      display: flex;\r\n      width: 100%;\r\n      .command-left {\r\n        flex: 2;\r\n        .el-select {\r\n          // width: 65%;\r\n        }\r\n      }\r\n      .command-right {\r\n        flex: 5;\r\n        margin-left: 16px;\r\n        .el-form-item__error {\r\n          width: 100%;\r\n        }\r\n      }\r\n      .device-unit {\r\n        margin-left: 5px;\r\n        // flex: 1;\r\n      }\r\n    }\r\n  }\r\n}\r\n.setMaxWidth {\r\n  max-width: 20%;\r\n}\r\n.string-width {\r\n  max-width: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./attrEquipment.vue?vue&type=template&id=7bc361b7\"\nimport script from \"./attrEquipment.vue?vue&type=script&lang=js\"\nexport * from \"./attrEquipment.vue?vue&type=script&lang=js\"\n\nimport \"./attrEquipment.vue?vue&type=style&index=0&id=7bc361b7&lang=scss\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\r\n * @Descripttion: \r\n * @version: \r\n * @Author: mry\r\n * @Date: 2022-03-14 14:52:56\r\n * @LastEditors: mry\r\n * @LastEditTime: 2022-04-21 18:56:26\r\n-->\r\n<template>\r\n  <el-form\r\n    ref=\"diffForm\"\r\n    :model=\"value\"\r\n    class=\"common-form\"\r\n    label-width=\"100px\"\r\n    label-position=\"top\"\r\n  >\r\n    <div>\r\n      <el-form-item label=\"时间设置\" class=\"item-required\">\r\n        <el-select\r\n          v-model=\"value.hours\"\r\n          style=\"width: 122px\"\r\n          popper-class=\"selectCustomAttrs\"\r\n          placeholder=\"\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in setHour\"\r\n            :key=\"item\"\r\n            :label=\"item\"\r\n            :value=\"item\"\r\n          ></el-option>\r\n        </el-select>\r\n        <span style=\"margin: 0 6px\">时</span>\r\n        <el-select\r\n          v-model=\"value.minutes\"\r\n          style=\"width: 122px\"\r\n          popper-class=\"selectCustomAttrs\"\r\n          placeholder=\"\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in setMinutes\"\r\n            :key=\"item\"\r\n            :label=\"item\"\r\n            :value=\"item\"\r\n          ></el-option>\r\n        </el-select>\r\n        <span style=\"margin-left: 6px\">分</span>\r\n      </el-form-item>\r\n    </div>\r\n    <el-form-item label=\"重复设置\" class=\"item-required\">\r\n      <el-select\r\n        v-model=\"value.repeatType\"\r\n        style=\"width: 100%\"\r\n        popper-class=\"selectCustomAttrs\"\r\n        @change=\"handleRepeatSet\"\r\n      >\r\n        <el-option\r\n          v-for=\"item in repeatTypeMap\"\r\n          :key=\"item.id\"\r\n          :label=\"item.description\"\r\n          :value=\"item.id\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <!-- 自定义重复设置 -->\r\n    <el-form-item>\r\n      <el-checkbox-group\r\n        v-if=\"value.repeatType == 4\"\r\n        v-model=\"value.repeatTypeArr\"\r\n        @change=\"changeBox\"\r\n      >\r\n        <el-checkbox\r\n          v-for=\"item in customSetList\"\r\n          :key=\"item.id\"\r\n          :label=\"item.id\"\r\n          >{{ item.description }}</el-checkbox\r\n        >\r\n      </el-checkbox-group>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport { iotRequest } from \"@/apis/api\";\r\nimport getHMSfunc from \"@/assets/js/getInitHMS\";\r\n// 同步父数据\r\nimport useSyncAttrData from \"@/modules/attribute/useSyncAttrData\";\r\n\r\nexport default {\r\n  props: {\r\n    singData: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      value: {\r\n        desc: \"\",\r\n        required: true,\r\n        value: \"\",\r\n        minutes: \"00\",\r\n        hours: \"00\",\r\n        repeatType: 1,\r\n        repeatTypeArr: [],\r\n      },\r\n      ruleForm: {\r\n        componentId: \"\",\r\n        key: {\r\n          id: \"\",\r\n          value: \"\",\r\n          desc: \"\",\r\n        },\r\n        logicalSign: \"OR\",\r\n        operationSign: \"equal\",\r\n      },\r\n      source: this.$route.query.source || \"\", // 场景模板来源\r\n      setHour: null,\r\n      setMinutes: null,\r\n      repeatTypeMap: [\r\n        {\r\n          description: \"每天\",\r\n          id: 1,\r\n        },\r\n        {\r\n          description: \"工作日(周一至周五)\",\r\n          id: 2,\r\n        },\r\n        {\r\n          description: \"休息日(周六至周日)\",\r\n          id: 3,\r\n        },\r\n        {\r\n          description: \"自定义\",\r\n          id: 4,\r\n        },\r\n      ],\r\n      customSetList: [\r\n        {\r\n          description: \"星期日\",\r\n          id: 1,\r\n        },\r\n        {\r\n          description: \"星期一\",\r\n          id: 2,\r\n        },\r\n        {\r\n          description: \"星期二\",\r\n          id: 3,\r\n        },\r\n        {\r\n          description: \"星期三\",\r\n          id: 4,\r\n        },\r\n        {\r\n          description: \"星期四\",\r\n          id: 5,\r\n          checked: false,\r\n        },\r\n        {\r\n          description: \"星期五\",\r\n          id: 6,\r\n          checked: false,\r\n        },\r\n        {\r\n          description: \"星期六\",\r\n          id: 7,\r\n          checked: false,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.setHour = getHMSfunc.initHMS(24, true);\r\n    this.setMinutes = getHMSfunc.initHMS(60, true);\r\n    this.getTimer();\r\n    if (JSON.stringify(this.singData) !== \"{}\") {\r\n      const data = this.singData.value.value.split(\"?\");\r\n      this.value.hours = data[0].split(\" \")[1];\r\n      this.value.minutes = data[0].split(\" \")[2];\r\n      const week1 = data[1].split(\"*\")[1].split(\" \")[1];\r\n      if (week1 == \"1,2,3,4,5,6,7\") {\r\n        this.value.repeatType = 1;\r\n      } else if (week1 === \"2,3,4,5,6\") {\r\n        this.value.repeatType = 2;\r\n      } else if (week1 === \"1,7\") {\r\n        this.value.repeatType = 3;\r\n      } else {\r\n        this.value.repeatType = 4;\r\n        const fistTemp = data[1].split(\" \")[2].split(\",\");\r\n        fistTemp.map((item) => {\r\n          this.value.repeatTypeArr.push(Number(item));\r\n        });\r\n      }\r\n    }\r\n    useSyncAttrData(this.$emit, this.value); // 同步数据\r\n  },\r\n  methods: {\r\n    getTimer() {\r\n      let url;\r\n      if (this.source === \"southeastAsia\") {\r\n        url = \"/developerportal/dny/developer/component/cmptPropList/TIMER\";\r\n      } else {\r\n        url = \"/developerportal/developer/component/cmptPropList/TIMER\";\r\n      }\r\n      iotRequest(\"get\", url).then((res) => {\r\n        if (res.retCode === \"00000\") {\r\n          this.ruleForm = {\r\n            componentId: res.data[0].componentId,\r\n            key: {\r\n              id: res.data[0].id,\r\n              value: res.data[0].name,\r\n              desc: res.data[0].description,\r\n            },\r\n          };\r\n        }\r\n      });\r\n    },\r\n    // 重复设置\r\n    handleRepeatSet() {\r\n      this.value.repeatTypeArr = [];\r\n    },\r\n    // 重置数据\r\n    resetFormData() {\r\n      this.value = {\r\n        minutes: \"00\",\r\n        hours: \"00\",\r\n        repeatType: 1,\r\n        repeatTypeArr: [],\r\n      };\r\n    },\r\n    changeBox(e) {\r\n      console.log(e);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.item-required {\r\n  margin-bottom: 24px !important;\r\n  .el-form-item__label {\r\n    position: relative;\r\n  }\r\n  .el-form-item__label::after {\r\n    content: \"*\";\r\n    color: #f56c6c;\r\n    position: absolute;\r\n    right: -8px;\r\n  }\r\n}\r\n</style>\r\n","/*\r\n * @Descripttion:\r\n * @version:\r\n * @Author: mry\r\n * @Date: 2022-03-22 17:58:54\r\n * @LastEditors: mry\r\n * @LastEditTime: 2022-03-22 18:14:49\r\n */\r\nconst initHMS = (num: number, flag: boolean | undefined) => {\r\n  if (typeof flag === \"undefined\") flag = false;\r\n  const setHMS = new Array(num);\r\n  for (let i = 0; i < num; i++) {\r\n    if (flag && i < 10) {\r\n      setHMS[i] = \"0\" + i.toString();\r\n    } else {\r\n      setHMS[i] = i.toString();\r\n    }\r\n  }\r\n  return setHMS;\r\n};\r\nexport default {\r\n  initHMS,\r\n};\r\n","import { render } from \"./attrTime.vue?vue&type=template&id=9e30a246\"\nimport script from \"./attrTime.vue?vue&type=script&lang=js\"\nexport * from \"./attrTime.vue?vue&type=script&lang=js\"\n\nimport \"./attrTime.vue?vue&type=style&index=0&id=9e30a246&lang=scss\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\r\n * @Descripttion: \r\n * @version: \r\n * @Author: mry\r\n * @Date: 2022-03-21 14:52:55\r\n * @LastEditors: mry\r\n * @LastEditTime: 2022-05-11 09:50:02\r\n-->\r\n<template>\r\n  <el-form\r\n    ref=\"diffForm\"\r\n    :model=\"ruleForm\"\r\n    class=\"weather-condition common-form\"\r\n    :rules=\"rules\"\r\n    label-width=\"100px\"\r\n    label-position=\"top\"\r\n  >\r\n    <el-form-item label=\"设备命令\" prop=\"id\">\r\n      <el-select\r\n        v-model=\"ruleForm.id\"\r\n        style=\"width: 100%\"\r\n        placeholder=\"请选择设备命令\"\r\n        popper-class=\"selectCustomAttrs\"\r\n        @change=\"handleDeviceCommand\"\r\n      >\r\n        <el-option\r\n          v-for=\"item in deviceCommandList\"\r\n          :key=\"item.id\"\r\n          :label=\"item.description\"\r\n          :value=\"item.id\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <div>\r\n      <el-form-item label=\"命令参数\" class=\"deviceParam\">\r\n        <el-select\r\n          v-model=\"ruleForm.operationSign\"\r\n          style=\"width: 80px\"\r\n          popper-class=\"selectCustomAttrs\"\r\n          :disabled=\"ruleForm.id == ''\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in operationSignList\"\r\n            :key=\"item.name\"\r\n            :label=\"item.value\"\r\n            :value=\"item.name\"\r\n          ></el-option>\r\n        </el-select>\r\n        <el-form-item\r\n          v-if=\"\r\n            (selectedWeatherCondition.length > 0 &&\r\n              selectedWeatherCondition[0].valType == 'enum') ||\r\n            ruleForm.id == ''\r\n          \"\r\n          prop=\"deviceParam\"\r\n          class=\"deviceParamSelect\"\r\n        >\r\n          <el-select\r\n            v-model=\"ruleForm.deviceParam\"\r\n            style=\"margin-left: 16px; width: calc(100% - 16px)\"\r\n            :disabled=\"ruleForm.id == ''\"\r\n            popper-class=\"selectCustomAttrs\"\r\n            @change=\"handleChangeCommandParam\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in equalList\"\r\n              :key=\"item.stdValue\"\r\n              :label=\"item.description\"\r\n              :value=\"item.stdValue\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item\r\n          v-if=\"\r\n            selectedWeatherCondition.length > 0 &&\r\n            selectedWeatherCondition[0].valType == 'int'\r\n          \"\r\n          prop=\"deviceInputParam\"\r\n          class=\"deviceParamSelect\"\r\n        >\r\n          <div class=\"typeinput\">\r\n            <el-input\r\n              v-model=\"ruleForm.deviceInputParam\"\r\n              :placeholder=\"dataPlaceHolder\"\r\n              :disabled=\"ruleForm.id == ''\"\r\n              @blur=\"handleBlur\"\r\n            />\r\n            <span v-if=\"equalList != null\" class=\"unit\">{{\r\n              equalList.unit\r\n            }}</span>\r\n          </div>\r\n        </el-form-item>\r\n      </el-form-item>\r\n    </div>\r\n    <el-form-item label=\"条件描述\" style=\"width: 100%\">\r\n      <el-input\r\n        v-model=\"ruleForm.desc\"\r\n        type=\"textarea\"\r\n        maxlength=\"100\"\r\n        :rows=\"2\"\r\n        :class=\"{ 'input-focus': inputFocus }\"\r\n        show-word-limit\r\n        placeholder=\"请填写条件描述，最多100字符\"\r\n        @focus=\"inputFocus = true\"\r\n        @blur=\"inputFocus = false\"\r\n      ></el-input>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport { iotRequest } from \"@/apis/api\";\r\n// 同步父数据\r\nimport useSyncAttrData from \"@/modules/attribute/useSyncAttrData\";\r\nexport default {\r\n  props: {\r\n    singData: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      inputFocus: false,\r\n      ruleForm: {\r\n        componentId: \"\",\r\n        id: \"\",\r\n        deviceParam: \"\",\r\n        deviceInputParam: \"\",\r\n        operationSign: \"equal\",\r\n        desc: \"\",\r\n        key: {\r\n          desc: \"\",\r\n          id: \"\",\r\n          value: \"\",\r\n        },\r\n        value: {\r\n          desc: \"\",\r\n          required: true,\r\n          value: \"\",\r\n        },\r\n      },\r\n      rules: {\r\n        id: [{ required: true, message: \"请选择设备命令\", trigger: \"change\" }],\r\n        deviceParam: [\r\n          {\r\n            required: true,\r\n            message: \"命令参数数据格式不合法，请重新填写\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        deviceInputParam: [\r\n          {\r\n            required: true,\r\n            validator: (rule, data, callback) => {\r\n              if (!data) {\r\n                callback(new Error(\"数据不符合要求\"));\r\n              } else {\r\n                if (\r\n                  data < this.equalList.minValue ||\r\n                  data > this.equalList.maxValue ||\r\n                  data % this.equalList.step !== 0\r\n                ) {\r\n                  callback(new Error(\"命令参数数据格式不合法，请重新填写\"));\r\n                } else {\r\n                  callback();\r\n                }\r\n              }\r\n            },\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      source: this.$route.query.source || \"\", // 场景模板来源\r\n      deviceCommandList: [],\r\n      selectedWeatherCondition: [],\r\n      equalList: null,\r\n      operationSignList: [\r\n        {\r\n          name: \"equal\",\r\n          value: \"等于\",\r\n        },\r\n      ],\r\n      dataPlaceHolder: \"\",\r\n    };\r\n  },\r\n  watch: {\r\n    \"ruleForm.id\": {\r\n      handler(newVal) {\r\n        if (newVal) {\r\n          const data = this.deviceCommandList.filter((item) => {\r\n            return item.id == newVal;\r\n          });\r\n          this.ruleForm.key = {\r\n            desc: data[0].description,\r\n            id: data[0].id,\r\n            value: data[0].name,\r\n          };\r\n          this.ruleForm.componentId = data[0].componentId;\r\n          if (data[0].valType == \"enum\") {\r\n            this.equalList = JSON.parse(data[0].variants);\r\n            data[0].isLegal = true;\r\n            this.operationSignList = [\r\n              {\r\n                name: \"equal\",\r\n                value: \"等于\",\r\n              },\r\n            ];\r\n            data[0].operationSign = \"equal\";\r\n            this.dataPlaceHolder = \"\";\r\n          }\r\n          if (data[0].valType == \"int\") {\r\n            this.equalList = JSON.parse(data[0].variants);\r\n            data[0].isLegal = true;\r\n            this.operationSignList = [\r\n              {\r\n                name: \"greaterThan\",\r\n                value: \"高于\",\r\n              },\r\n              {\r\n                name: \"lessThan\",\r\n                value: \"低于\",\r\n              },\r\n            ];\r\n            this.dataPlaceHolder =\r\n              \"请输入\" +\r\n              this.equalList.minValue +\r\n              \"到\" +\r\n              this.equalList.maxValue +\r\n              \",步长为\" +\r\n              this.equalList.step;\r\n          }\r\n          this.selectedWeatherCondition = data;\r\n          this.ruleForm.operationSign = this.operationSignList[0].name;\r\n        }\r\n      },\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$refs.diffForm.clearValidate();\r\n    this.getDeivceCommand();\r\n    useSyncAttrData(this.$emit, this.ruleForm); // 同步数据\r\n  },\r\n  methods: {\r\n    // 获取设备命令数据\r\n    getDeivceCommand() {\r\n      let url;\r\n      if (this.source === \"southeastAsia\") {\r\n        url = \"/developerportal/dny/developer/component/cmptPropList/WEATHER\";\r\n      } else {\r\n        url = \"/developerportal/developer/component/cmptPropList/WEATHER\";\r\n      }\r\n      iotRequest(\"get\", url)\r\n        .then((res) => {\r\n          if (res.retCode === \"00000\") {\r\n            this.deviceCommandList = res.data;\r\n          }\r\n        })\r\n        .then(() => {\r\n          if (JSON.stringify(this.singData) !== \"{}\") {\r\n            this.ruleForm = {\r\n              ...this.singData,\r\n            };\r\n            this.ruleForm.id = this.singData.key.id;\r\n            const data = this.deviceCommandList.filter((item) => {\r\n              return item.id == this.ruleForm.id;\r\n            });\r\n            if (data[0].valType == \"enum\") {\r\n              if (JSON.stringify(this.singData) !== \"{}\") {\r\n                this.$set(\r\n                  this.ruleForm,\r\n                  \"deviceParam\",\r\n                  this.singData.value.value\r\n                );\r\n              }\r\n            }\r\n            if (data[0].valType == \"int\") {\r\n              if (JSON.stringify(this.singData) !== \"{}\") {\r\n                this.$set(\r\n                  this.ruleForm,\r\n                  \"deviceInputParam\",\r\n                  this.singData.value.value\r\n                );\r\n              }\r\n            }\r\n          }\r\n        });\r\n    },\r\n    // 清除校验格式\r\n    handleDeviceCommand() {\r\n      this.$refs.diffForm.clearValidate(\"deviceParam\");\r\n      this.$refs.diffForm.clearValidate(\"deviceInputParam\");\r\n      this.ruleForm.deviceInputParam = \"\";\r\n      this.ruleForm.deviceParam = \"\";\r\n\r\n      // this.$set(this.ruleForm, \"deviceInputParam\", \"\");\r\n      // this.$set(this.ruleForm, \"deviceParam\", \"\");\r\n    },\r\n    // 失焦赋值\r\n    handleBlur(e) {\r\n      this.ruleForm.value = {\r\n        desc: e.target.value + this.equalList.unit,\r\n        required: true,\r\n        value: e.target.value,\r\n      };\r\n    },\r\n    // 选中命令参数赋值\r\n    handleChangeCommandParam(e) {\r\n      const data = this.equalList.filter((item) => {\r\n        return item.stdValue == e;\r\n      });\r\n      this.ruleForm.value = {\r\n        desc: data[0].description,\r\n        required: true,\r\n        value: e,\r\n      };\r\n    },\r\n    // 重置数据\r\n    resetFormData() {\r\n      this.ruleForm = {\r\n        id: \"\",\r\n        deviceParam: \"\",\r\n        operationSign: \"equal\",\r\n        desc: \"\",\r\n      };\r\n      this.equalList = null;\r\n      this.selectedWeatherCondition = [];\r\n      this.$refs.diffForm.resetFields();\r\n      this.operationSignList = [\r\n        {\r\n          name: \"equal\",\r\n          value: \"等于\",\r\n        },\r\n      ];\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.typeinput {\r\n  margin-left: 20px;\r\n  display: flex;\r\n  .unit {\r\n    margin-left: 5px;\r\n    // width: 100px;\r\n  }\r\n}\r\n.weather-condition {\r\n  .deviceParam {\r\n    margin-bottom: 24px !important;\r\n    > .el-form-item__label::after {\r\n      content: \"*\";\r\n      color: #f56c6c;\r\n      margin-left: 2px;\r\n    }\r\n    > .el-form-item__content {\r\n      display: flex !important;\r\n    }\r\n    .deviceParamSelect {\r\n      flex: 1;\r\n      display: flex;\r\n      .el-form-item__content {\r\n        width: 100%;\r\n      }\r\n      .el-form-item__error {\r\n        left: 20px;\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./attrWeather.vue?vue&type=template&id=3cfb659f\"\nimport script from \"./attrWeather.vue?vue&type=script&lang=js\"\nexport * from \"./attrWeather.vue?vue&type=script&lang=js\"\n\nimport \"./attrWeather.vue?vue&type=style&index=0&id=3cfb659f&lang=scss\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\r\n * @Descripttion: \r\n * @version: \r\n * @Author: mry\r\n * @Date: 2022-03-21 14:52:55\r\n * @LastEditors: mry\r\n * @LastEditTime: 2022-05-12 18:01:45\r\n-->\r\n<template>\r\n  <el-form\r\n    ref=\"diffForm\"\r\n    :model=\"ruleForm\"\r\n    :rules=\"rules\"\r\n    class=\"geography-condition common-form\"\r\n    label-width=\"100px\"\r\n    label-position=\"top\"\r\n  >\r\n    <el-form-item label=\"设备命令\" prop=\"id\">\r\n      <el-select\r\n        v-model=\"ruleForm.id\"\r\n        style=\"width: 100%\"\r\n        placeholder=\"请选择设备命令\"\r\n        popper-class=\"selectCustomAttrs\"\r\n        @change=\"handleDeviceCommand\"\r\n      >\r\n        <el-option\r\n          v-for=\"item in deviceCommandList\"\r\n          :key=\"item.id\"\r\n          :label=\"item.description\"\r\n          :value=\"item.id\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <div>\r\n      <el-form-item label=\"命令参数\" class=\"deviceParam\">\r\n        <el-select\r\n          v-model=\"ruleForm.operationSign\"\r\n          style=\"width: 80px\"\r\n          popper-class=\"selectCustomAttrs\"\r\n          :disabled=\"ruleForm.id == ''\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in operationSignList\"\r\n            :key=\"item.name\"\r\n            :label=\"item.value\"\r\n            :value=\"item.name\"\r\n          ></el-option>\r\n        </el-select>\r\n        <el-form-item\r\n          v-if=\"\r\n            (selectedWeatherCondition.length > 0 &&\r\n              selectedWeatherCondition[0].valType == 'enum') ||\r\n            ruleForm.id == ''\r\n          \"\r\n          prop=\"deviceParam\"\r\n          class=\"deviceParamSelect\"\r\n        >\r\n          <el-select\r\n            v-model=\"ruleForm.deviceParam\"\r\n            style=\"margin-left: 16px; width: 199%\"\r\n            :disabled=\"ruleForm.id == ''\"\r\n            placeholder=\"请选择参数\"\r\n            popper-class=\"selectCustomAttrs\"\r\n            @change=\"handleChangeCommandParam\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in equalList\"\r\n              :key=\"item.stdValue\"\r\n              :label=\"item.description\"\r\n              :value=\"item.stdValue\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form-item>\r\n    </div>\r\n    <el-form-item label=\"条件描述\" style=\"width: 100%\">\r\n      <el-input\r\n        v-model=\"ruleForm.desc\"\r\n        type=\"textarea\"\r\n        maxlength=\"100\"\r\n        :rows=\"2\"\r\n        :class=\"{ 'input-focus': inputFocus }\"\r\n        show-word-limit\r\n        placeholder=\"请填写条件描述，最多100字符\"\r\n        @focus=\"inputFocus = true\"\r\n        @blur=\"inputFocus = false\"\r\n      ></el-input>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport { iotRequest } from \"@/apis/api\";\r\nexport default {\r\n  props: {\r\n    singData: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      inputFocus: false,\r\n      ruleForm: {\r\n        componentId: \"\",\r\n        id: \"\",\r\n        deviceParam: \"\",\r\n        operationSign: \"equal\",\r\n        desc: \"\",\r\n        key: {\r\n          desc: \"\",\r\n          id: \"\",\r\n          value: \"\",\r\n        },\r\n        value: {\r\n          desc: \"\",\r\n          required: true,\r\n          value: \"\",\r\n        },\r\n      },\r\n      source: this.$route.query.source || \"\", // 场景模板来源\r\n      rules: {\r\n        id: [{ required: true, message: \"请选择设备命令\", trigger: \"change\" }],\r\n        deviceParam: [\r\n          {\r\n            required: true,\r\n            message: \"命令参数数据格式不合法，请重新填写\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n      deviceCommandList: [],\r\n      selectedWeatherCondition: [],\r\n      equalList: null,\r\n      operationSignList: [\r\n        {\r\n          name: \"equal\",\r\n          value: \"等于\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  watch: {\r\n    \"ruleForm.id\": {\r\n      handler(newVal) {\r\n        if (newVal) {\r\n          const data = this.deviceCommandList.filter((item) => {\r\n            return item.id == newVal;\r\n          });\r\n          this.ruleForm.key = {\r\n            desc: data[0].description,\r\n            id: data[0].id,\r\n            value: data[0].name,\r\n          };\r\n          this.ruleForm.componentId = data[0].componentId;\r\n          if (data[0].valType == \"enum\") {\r\n            this.equalList = JSON.parse(data[0].variants);\r\n            data[0].isLegal = true;\r\n            this.operationSignList = [\r\n              {\r\n                name: \"equal\",\r\n                value: \"等于\",\r\n              },\r\n            ];\r\n            data[0].operationSign = \"equal\";\r\n          }\r\n          this.selectedWeatherCondition = data;\r\n          this.ruleForm.operationSign = this.operationSignList[0].name;\r\n        }\r\n      },\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$refs.diffForm.clearValidate();\r\n    this.getDeivceCommand();\r\n  },\r\n  methods: {\r\n    // 获取设备命令数据\r\n    getDeivceCommand() {\r\n      let url;\r\n      if (this.source === \"southeastAsia\") {\r\n        url = \"/developerportal/dny/developer/component/cmptPropList/GEOFENCE\";\r\n      } else {\r\n        url = \"/developerportal/developer/component/cmptPropList/GEOFENCE\";\r\n      }\r\n      iotRequest(\"get\", url)\r\n        .then((res) => {\r\n          if (res.retCode === \"00000\") {\r\n            this.deviceCommandList = res.data;\r\n          }\r\n        })\r\n        .then(() => {\r\n          if (JSON.stringify(this.singData) !== \"{}\") {\r\n            this.ruleForm = { ...this.singData };\r\n            this.$set(this.ruleForm, \"deviceParam\", this.singData.value.value);\r\n            this.ruleForm.id = this.singData.key.id;\r\n          }\r\n        });\r\n    },\r\n    // 清除校验格式\r\n    handleDeviceCommand() {\r\n      this.$refs.diffForm.clearValidate(\"deviceParam\");\r\n    },\r\n    // 选中命令参数赋值\r\n    handleChangeCommandParam(e) {\r\n      const data = this.equalList.filter((item) => {\r\n        return item.stdValue == e;\r\n      });\r\n      this.ruleForm.value = {\r\n        desc: data[0].description,\r\n        required: true,\r\n        value: e,\r\n      };\r\n    },\r\n    // 重置数据\r\n    resetFormData() {\r\n      this.ruleForm = {\r\n        id: \"\",\r\n        deviceParam: \"\",\r\n        operationSign: \"equal\",\r\n        desc: \"\",\r\n      };\r\n      this.equalList = null;\r\n      this.selectedWeatherCondition = [];\r\n      this.$refs.diffForm.resetFields();\r\n      this.operationSignList = [\r\n        {\r\n          name: \"equal\",\r\n          value: \"等于\",\r\n        },\r\n      ];\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.typeinput {\r\n  margin-left: 20px;\r\n  display: flex;\r\n  .unit {\r\n    margin-left: 5px;\r\n    // width: 100px;\r\n  }\r\n}\r\n.geography-condition {\r\n  .deviceParam {\r\n    margin-bottom: 24px !important;\r\n    > .el-form-item__label::after {\r\n      content: \"*\";\r\n      color: #f56c6c;\r\n      margin-left: 2px;\r\n    }\r\n    > .el-form-item__content {\r\n      display: flex !important;\r\n    }\r\n    .deviceParamSelect {\r\n      display: flex;\r\n      .el-form-item__error {\r\n        left: 20px;\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./attrFence.vue?vue&type=template&id=3637a241\"\nimport script from \"./attrFence.vue?vue&type=script&lang=js\"\nexport * from \"./attrFence.vue?vue&type=script&lang=js\"\n\nimport \"./attrFence.vue?vue&type=style&index=0&id=3637a241&lang=scss\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\r\n * @Descripttion: \r\n * @version: \r\n * @Author: mry\r\n * @Date: 2022-03-22 09:41:45\r\n * @LastEditors: mry\r\n * @LastEditTime: 2022-05-13 18:19:52\r\n-->\r\n<template>\r\n  <el-form\r\n    ref=\"diffForm\"\r\n    class=\"command-action common-form\"\r\n    :model=\"ruleForm\"\r\n    :rules=\"rules\"\r\n    label-width=\"120px\"\r\n    label-position=\"top\"\r\n  >\r\n    <el-form-item label=\"设备产品类型\" prop=\"componentId\">\r\n      <el-select\r\n        v-model=\"ruleForm.componentId\"\r\n        popper-class=\"selectCustomAttrs\"\r\n        filterable\r\n        placeholder=\"请选择设备产品类型\"\r\n      >\r\n        <el-option\r\n          v-for=\"item in deviceProductTypeList\"\r\n          :key=\"item.id\"\r\n          :label=\"item.prodtypeName\"\r\n          :value=\"item.id\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"设备命令\" prop=\"deviceCommand\">\r\n      <el-select\r\n        v-model=\"ruleForm.deviceCommand\"\r\n        popper-class=\"selectCustomAttrs\"\r\n        filterable\r\n        placeholder=\"请选择设备命令\"\r\n        @change=\"handleDeviceCommandList\"\r\n      >\r\n        <el-option\r\n          v-for=\"item in deviceCommandList\"\r\n          :key=\"item.id\"\r\n          :label=\"item.description\"\r\n          :value=\"item.id\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <template\r\n      v-if=\"ruleForm.deviceSkillObject.length > 0 && ruleForm.isDeviceSkill\"\r\n    >\r\n      <div\r\n        v-for=\"(item, index) in ruleForm.deviceSkillObject\"\r\n        :key=\"item.id\"\r\n        class=\"diff-param\"\r\n      >\r\n        <el-form-item label=\"参数名称\">\r\n          <span>{{ item.description }}</span>\r\n        </el-form-item>\r\n        <!-- :rules=\"deviceSkillObjectRules.deviceSkillObjectDesc\" -->\r\n        <el-form-item\r\n          v-if=\"item.propValType === 'enum' || item.propValType === 'bool'\"\r\n          label=\"参数值\"\r\n          :prop=\"'deviceSkillObject.' + index + '.param'\"\r\n          :rules=\"[\r\n            {\r\n              required: true,\r\n              message: '参数值不能为空',\r\n              trigger: 'change',\r\n            },\r\n          ]\"\r\n        >\r\n          <el-select\r\n            v-model=\"item.param\"\r\n            placeholder=\"请选择参数\"\r\n            popper-class=\"selectCustomAttrs\"\r\n            @change=\"(e) => handleSkillSelect(e, index, 'select')\"\r\n          >\r\n            <el-option\r\n              v-for=\"itm in item.variantsList\"\r\n              :key=\"itm.stdValue\"\r\n              :label=\"itm.description\"\r\n              :value=\"itm.stdValue\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item\r\n          v-else\r\n          label=\"参数值\"\r\n          :prop=\"'deviceSkillObject.' + index + '.param'\"\r\n          :rules=\"[\r\n            {\r\n              required: true,\r\n              message: '参数值不能为空',\r\n              trigger: 'blur',\r\n            },\r\n            {\r\n              validator: (rule, value, callback) => {\r\n                getVariantsValue(item, value, callback);\r\n              },\r\n            },\r\n          ]\"\r\n        >\r\n          <el-input\r\n            v-model=\"item.param\"\r\n            style=\"width: 100%\"\r\n            :placeholder=\"\r\n              item.variantsList\r\n                ? `${\r\n                    '请输入' +\r\n                    item.variantsList.minValue +\r\n                    '到' +\r\n                    item.variantsList.maxValue +\r\n                    ',步长:' +\r\n                    item.variantsList.step\r\n                  }`\r\n                : '请输入字符串值'\r\n            \"\r\n            @change=\"(e) => handleSkillSelect(e, index, 'input')\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"用户编辑\"\r\n          :prop=\"'deviceSkillObject.' + index + '.require'\"\r\n          class=\"checkbox-style\"\r\n        >\r\n          <el-checkbox\r\n            v-model=\"item.require\"\r\n            @change=\"(e) => handleSkillSelect(e, index, 'check')\"\r\n            >支持</el-checkbox\r\n          >\r\n        </el-form-item>\r\n      </div>\r\n    </template>\r\n    <template\r\n      v-else-if=\"\r\n        ruleForm.deviceSkillObject.length === 0 && ruleForm.isDeviceSkill\r\n      \"\r\n    >\r\n      <el-form-item label=\"命令参数\" prop=\"commandParam\">\r\n        <span>无</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户编辑\" class=\"checkbox-style\">\r\n        <el-checkbox :disabled=\"true\">支持</el-checkbox>\r\n      </el-form-item>\r\n    </template>\r\n    <div v-else class=\"diff-param\">\r\n      <el-form-item label=\"命令参数\" class=\"my-select-input deviceParam\">\r\n        <div class=\"command-param\">\r\n          <div class=\"command-left\">\r\n            <h-button\r\n              type=\"third\"\r\n              :disabled=\"ruleForm.propClass == 'group' || ruleForm.isSkill\"\r\n              >定量</h-button\r\n            >\r\n          </div>\r\n          <div\r\n            v-if=\"\r\n              ruleForm.deviceCommand !== '' &&\r\n              ruleForm.propClass !== 'group' &&\r\n              ruleForm.propClass !== 'skill'\r\n            \"\r\n            class=\"command-right\"\r\n          >\r\n            <el-form-item\r\n              v-if=\"Array.isArray(ruleForm.variantsList)\"\r\n              prop=\"commandParamSelect\"\r\n            >\r\n              <el-select\r\n                v-model=\"ruleForm.commandParamSelect\"\r\n                style=\"max-width: 100%\"\r\n                placeholder=\"请选择参数\"\r\n                popper-class=\"selectCustomAttrs\"\r\n                @change=\"handleChangeCommad\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in ruleForm.variantsList\"\r\n                  :key=\"item.stdValue\"\r\n                  :label=\"item.description\"\r\n                  :value=\"item.stdValue\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item v-else prop=\"inputValue\">\r\n              <div\r\n                :class=\"\r\n                  ruleForm.variantsList.propValType === 'string'\r\n                    ? 'input-string'\r\n                    : 'input-style'\r\n                \"\r\n              >\r\n                <el-input\r\n                  v-model=\"ruleForm.inputValue\"\r\n                  type=\"text\"\r\n                  :placeholder=\"inputPlaceHolder\"\r\n                  @blur=\"handleChangeInput\"\r\n                />\r\n              </div>\r\n            </el-form-item>\r\n          </div>\r\n          <div\r\n            v-if=\"\r\n              ruleForm.propClass === 'skill' && ruleForm.variantsList.length > 0\r\n            \"\r\n            class=\"command-right\"\r\n          >\r\n            <el-form-item\r\n              v-if=\"Array.isArray(ruleForm.variantsList)\"\r\n              prop=\"commandParamSelect\"\r\n            >\r\n              <el-select\r\n                v-model=\"ruleForm.commandParamSelect\"\r\n                placeholder=\"请选择参数\"\r\n                popper-class=\"selectCustomAttrs\"\r\n                @change=\"handleSkillChangeCommad\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in ruleForm.variantsList\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.description\"\r\n                  :value=\"item.id\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item v-else prop=\"inputValue\">\r\n              <div class=\"input-style\">\r\n                <el-input\r\n                  v-model=\"ruleForm.inputValue\"\r\n                  type=\"text\"\r\n                  :placeholder=\"inputPlaceHolder\"\r\n                  @blur=\"handleChangeInput\"\r\n                />\r\n              </div>\r\n            </el-form-item>\r\n          </div>\r\n          <div\r\n            v-if=\"\r\n              !Array.isArray(ruleForm.variantsList) &&\r\n              ruleForm.variantsList &&\r\n              ruleForm.variantsList.unit\r\n            \"\r\n            class=\"device-unit\"\r\n          >\r\n            <span class=\"device-unit\">{{ ruleForm.variantsList.unit }}</span>\r\n          </div>\r\n        </div>\r\n      </el-form-item>\r\n      <!-- 参数配置select -->\r\n      <el-form-item\r\n        v-if=\"\r\n          ruleForm.commandParamSelect !== '' &&\r\n          ruleForm.deviceSkillObject.length > 0 &&\r\n          (ruleForm.deviceSkillObject[0].propValType === 'enum' ||\r\n            ruleForm.deviceSkillObject[0].propValType === 'bool')\r\n        \"\r\n        prop=\"paramSelectSet\"\r\n        label=\"参数配置\"\r\n      >\r\n        <el-select\r\n          v-model=\"ruleForm.paramSelectSet\"\r\n          placeholder=\"请选择参数\"\r\n          popper-class=\"selectCustomAttrs\"\r\n          @change=\"handleChangeSelectParamSet\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in ruleForm.variantsParamList\"\r\n            :key=\"item.stdValue\"\r\n            :label=\"item.description\"\r\n            :value=\"item.stdValue\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <!-- 参数配置input -->\r\n      <el-form-item\r\n        v-if=\"\r\n          ruleForm.commandParamSelect !== '' &&\r\n          ruleForm.deviceSkillObject.length > 0 &&\r\n          (ruleForm.deviceSkillObject[0].propValType === 'string' ||\r\n            ruleForm.deviceSkillObject[0].propValType === 'int' ||\r\n            ruleForm.deviceSkillObject[0].propValType === 'double')\r\n        \"\r\n        prop=\"paramInputSet\"\r\n        label=\"参数配置\"\r\n      >\r\n        <el-input\r\n          v-model=\"ruleForm.paramInputSet\"\r\n          style=\"width: 100%\"\r\n          @blur=\"handleChangeParamSet\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户编辑\" class=\"checkbox-style\">\r\n        <el-checkbox\r\n          v-model=\"ruleForm.isRequired\"\r\n          :disabled=\"ruleForm.propClass == 'group' || ruleForm.isSkill\"\r\n          >支持</el-checkbox\r\n        >\r\n      </el-form-item>\r\n    </div>\r\n    <el-form-item label=\"动作描述\">\r\n      <el-input\r\n        v-model=\"ruleForm.description\"\r\n        maxlength=\"100\"\r\n        type=\"textarea\"\r\n        :class=\"{ 'input-focus': inputFocus }\"\r\n        show-word-limit\r\n        placeholder=\"请填写动作描述，最多100字符\"\r\n        @focus=\"inputFocus = true\"\r\n        @blur=\"inputFocus = false\"\r\n      ></el-input>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n<script>\r\nimport { iotRequest } from \"@/apis/api\";\r\nexport default {\r\n  props: {\r\n    fragmentListData: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n    singData: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      inputFocus: false,\r\n      ruleForm: {\r\n        componentId: \"\",\r\n        deviceCommand: \"\",\r\n        stdDesc: \"\",\r\n        isRequired: false,\r\n        description: \"\",\r\n        deviceSkillObject: [\r\n          {\r\n            param: \"\",\r\n            require: false,\r\n          },\r\n        ], // 设备命令是deviceSkill类型\r\n        args: [],\r\n        operation: {\r\n          desc: \"\",\r\n          id: \"\",\r\n          value: \"\",\r\n        },\r\n        variantsParamList: null,\r\n        isDeviceSkill: false,\r\n        isSkill: false,\r\n        propClass: \"\",\r\n        variantsList: null,\r\n        inputValue: \"\",\r\n        commandParamSelect: \"\",\r\n        paramSelectSet: \"\",\r\n        paramInputSet: \"\",\r\n      },\r\n      source: this.$route.query.source || \"\", // 场景模板来源\r\n      rules: {\r\n        componentId: [\r\n          { required: true, message: \"请选择设备产品类型\", trigger: \"change\" },\r\n        ],\r\n        deviceCommand: [\r\n          { required: true, message: \"请选择设备命令\", trigger: \"change\" },\r\n        ],\r\n        commandParamSelect: [\r\n          { required: true, message: \"请选择命令参数\", trigger: \"blur\" },\r\n        ],\r\n        paramSelectSet: [\r\n          { required: true, message: \"请选择参数配置\", trigger: \"change\" },\r\n        ],\r\n        paramInputSet: [\r\n          { required: true, message: \"请输入参数配置\", trigger: \"blur\" },\r\n        ],\r\n        inputValue: [\r\n          { required: true, message: \"请输入命令参数\", trigger: \"blur\" },\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              console.log(rule, value, callback);\r\n              console.log(this.ruleForm.variantsList, \"---\");\r\n              const data = {\r\n                variantsList: this.ruleForm.variantsList,\r\n                propValType: this.ruleForm.variantsList.propValType,\r\n              };\r\n              this.getVariantsValue(data, value, callback);\r\n            },\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      deviceSkillObjectRules: {\r\n        deviceSkillObjectId: [\r\n          {\r\n            required: true,\r\n            message: \"jaaa\",\r\n            trigger: \"blur\",\r\n          },\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              console.log(rule, value, callback);\r\n            },\r\n          },\r\n        ],\r\n        deviceSkillObjectDesc: [\r\n          {\r\n            required: true,\r\n            message: \"jaaa\",\r\n            trigger: \"blur\",\r\n          },\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              console.log(rule);\r\n              console.log(value);\r\n              console.log(callback);\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      deviceProductTypeList: [], // 设备产品类型数据\r\n      deviceCommandList: [], // 设备命令\r\n      sceneDeviceCondition: {\r\n        sceneInfo: null,\r\n        status: null,\r\n        FragmentList: null,\r\n        triggerType: null,\r\n      },\r\n      inputPlaceHolder: \"\",\r\n      editData: this.singData,\r\n    };\r\n  },\r\n  watch: {\r\n    \"ruleForm.componentId\": {\r\n      handler(val, old) {\r\n        if (val) {\r\n          if (old && val !== old) {\r\n            this.editData = {};\r\n          }\r\n          const arr = this.deviceProductTypeList.filter((item) => {\r\n            return item.id === val;\r\n          });\r\n          this.ruleForm.stdDesc = arr[0].prodtypeName;\r\n          this.handleDeviceCommand();\r\n        }\r\n      },\r\n      immediate: true,\r\n      deep: true,\r\n    },\r\n  },\r\n  mounted() {\r\n    this.handleDeviceProductType();\r\n  },\r\n  methods: {\r\n    // 获取设备产品类型\r\n    handleDeviceProductType() {\r\n      let url;\r\n      if (this.source === \"southeastAsia\") {\r\n        url = \"/developerportal/dny/developer/prodtype/getAllProdtypeList\";\r\n      } else {\r\n        url = \"/developerportal/developer/prodtype/getAllProdtypeList\";\r\n      }\r\n      iotRequest(\"post\", url)\r\n        .then((res) => {\r\n          if (res.retCode === \"00000\") {\r\n            this.deviceProductTypeList = res.data;\r\n            return true;\r\n          }\r\n        })\r\n        .then(() => {\r\n          if (JSON.stringify(this.editData) !== \"{}\") {\r\n            this.ruleForm.componentId = this.editData.control.componentId;\r\n          }\r\n        });\r\n    },\r\n    // 设备命令\r\n    handleDeviceCommand() {\r\n      let url;\r\n      if (this.source === \"southeastAsia\") {\r\n        url =\r\n          \"/developerportal/dny/developer/prodtypeFunction/getProdtypeActionFunctionList\";\r\n      } else {\r\n        url =\r\n          \"/developerportal/developer/prodtypeFunction/getProdtypeActionFunctionList\";\r\n      }\r\n      iotRequest(\"post\", url, {\r\n        prodtypeId: this.ruleForm.componentId,\r\n      })\r\n        .then((res) => {\r\n          if (res.retCode === \"00000\") {\r\n            res.data.map((item) => {\r\n              console.log(item.type, item.valType, \"----\");\r\n              if (item.type == \"skill\") {\r\n                item.description = \"(语音)\" + item.description;\r\n              }\r\n              if (item.type == \"deviceSkill\") {\r\n                item.description = \"(技)\" + item.description;\r\n              }\r\n            });\r\n            this.deviceCommandList = res.data;\r\n            this.$nextTick(() => {\r\n              this.$refs.diffForm.clearValidate(\"deviceCommand\");\r\n              this.ruleForm.isDeviceSkill = false;\r\n              this.ruleForm.isSkill = false;\r\n              this.ruleForm.deviceSkillObject = [];\r\n              this.ruleForm.args = [];\r\n              this.ruleForm.variantsParamList = null;\r\n              this.ruleForm.variantsList = null;\r\n              this.ruleForm.inputValue = \"\";\r\n              this.ruleForm.commandParamSelect = \"\";\r\n              this.ruleForm.paramSelectSet = \"\";\r\n              this.ruleForm.paramInputSet = \"\";\r\n              this.ruleForm.propClass = \"\";\r\n              this.ruleForm.operation = {\r\n                desc: \"\",\r\n                id: \"\",\r\n                value: \"\",\r\n              };\r\n            });\r\n            this.ruleForm.deviceCommand = \"\";\r\n            return true;\r\n          }\r\n        })\r\n        .then(() => {\r\n          if (JSON.stringify(this.editData) !== \"{}\") {\r\n            // 有的没有args\r\n            if (\r\n              this.editData.control.args &&\r\n              !this.editData.control.operation\r\n            ) {\r\n              this.ruleForm.deviceCommand =\r\n                this.editData.control.args[0].name.id;\r\n            } else {\r\n              this.ruleForm.deviceCommand = this.editData.control.operation.id;\r\n            }\r\n            this.handleDeviceCommandList(this.ruleForm.deviceCommand);\r\n          }\r\n        });\r\n    },\r\n    handleDeviceCommandList(e) {\r\n      console.log(\"选中的值\", e);\r\n      this.$refs.diffForm.clearValidate();\r\n      this.ruleForm.isDeviceSkill = false;\r\n      this.ruleForm.isSkill = false;\r\n      this.ruleForm.deviceSkillObject = [];\r\n      this.ruleForm.args = [];\r\n      this.ruleForm.variantsParamList = null;\r\n      this.ruleForm.variantsList = null;\r\n      this.ruleForm.isRequired = false;\r\n      this.ruleForm.inputValue = \"\";\r\n      this.ruleForm.paramSelectSet = \"\";\r\n      this.ruleForm.paramInputSet = \"\";\r\n      this.ruleForm.commandParamSelect = \"\";\r\n      if (JSON.stringify(this.editData) !== \"{}\") {\r\n        if (this.editData.control.args && !this.editData.control.operation) {\r\n          if (e !== this.editData.control.args[0].name.id) {\r\n            this.editData = {};\r\n            this.$set(this.ruleForm, \"args\", []);\r\n          } else {\r\n            this.$set(this.ruleForm, \"args\", this.editData.control.args);\r\n          }\r\n        } else {\r\n          if (e !== this.editData.control.operation.id) {\r\n            this.editData = {};\r\n            this.$set(this.ruleForm, \"args\", []);\r\n          } else {\r\n            this.$set(this.ruleForm, \"args\", this.editData.control.args);\r\n          }\r\n        }\r\n      }\r\n      const data = this.deviceCommandList.filter((item) => {\r\n        return item.id === e;\r\n      });\r\n      // description\r\n      if (JSON.stringify(this.editData) !== \"{}\") {\r\n        this.$set(this.ruleForm, \"description\", this.editData.description);\r\n      }\r\n      if (data[0].type === \"property\") {\r\n        this.ruleForm.isDeviceSkill = false;\r\n        this.ruleForm.isSkill = false;\r\n        this.ruleForm.propClass = \"\";\r\n        const obj = {\r\n          name: {\r\n            desc: data[0].description,\r\n            id: data[0].id,\r\n            value: data[0].propName,\r\n          },\r\n        };\r\n        if (JSON.stringify(this.editData) === \"{}\") {\r\n          this.ruleForm.args.push(obj);\r\n        }\r\n        if (data[0].valType == \"int\") {\r\n          const datas = JSON.parse(data[0].variants);\r\n          this.inputPlaceHolder =\r\n            \"请输入\" +\r\n            datas.minValue +\r\n            \"到\" +\r\n            datas.maxValue +\r\n            \",步长:\" +\r\n            datas.step;\r\n          this.ruleForm.variantsList = datas;\r\n          this.ruleForm.variantsList.propValType = data[0].valType;\r\n          if (JSON.stringify(this.editData) !== \"{}\") {\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"inputValue\",\r\n              this.editData.control.args[0].value.value\r\n            );\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"isRequired\",\r\n              this.editData.control.args[0].value.required\r\n            );\r\n          }\r\n        } else if (data[0].valType == \"bool\" || data[0].valType == \"enum\") {\r\n          const datas = JSON.parse(data[0].variants);\r\n          datas.map((item) => {\r\n            if (typeof item.stdValue !== \"string\") {\r\n              item.stdValue = item.stdValue + \"\";\r\n            }\r\n          });\r\n          this.ruleForm.variantsList = datas;\r\n          if (JSON.stringify(this.editData) !== \"{}\") {\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"commandParamSelect\",\r\n              this.editData.control.args[0].value.value\r\n            );\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"isRequired\",\r\n              this.editData.control.args[0].value.required\r\n            );\r\n          }\r\n          console.log(this.ruleForm.variantsList, \"pro\");\r\n        } else if (data[0].valType == \"double\") {\r\n          const datas = JSON.parse(data[0].variants);\r\n          this.inputPlaceHolder =\r\n            \"请输入\" +\r\n            datas.minValue +\r\n            \"到\" +\r\n            datas.maxValue +\r\n            \",步长:\" +\r\n            datas.step;\r\n          this.ruleForm.variantsList = datas;\r\n          this.ruleForm.variantsList.propValType = data[0].valType;\r\n          if (JSON.stringify(this.editData) !== \"{}\") {\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"inputValue\",\r\n              this.editData.control.args[0].value.value\r\n            );\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"isRequired\",\r\n              this.editData.control.args[0].value.required\r\n            );\r\n          }\r\n        } else if (data[0].valType == \"string\") {\r\n          console.log(data[0], \"data------------\");\r\n          if (data[0].variants) {\r\n            const datas = JSON.parse(data[0].variants);\r\n            if (datas.minValue) {\r\n              this.inputPlaceHolder =\r\n                \"请输入\" +\r\n                datas.minValue +\r\n                \"到\" +\r\n                datas.maxValue +\r\n                \",步长:\" +\r\n                datas.step;\r\n              this.ruleForm.variantsList = datas;\r\n              this.ruleForm.variantsList.propValType = data[0].valType;\r\n            } else {\r\n              this.ruleForm.variantsList = {\r\n                propValType: data[0].valType,\r\n              };\r\n            }\r\n          } else {\r\n            this.ruleForm.variantsList = {\r\n              propValType: \"string\",\r\n            };\r\n          }\r\n          if (JSON.stringify(this.editData) !== \"{}\") {\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"inputValue\",\r\n              this.editData.control.args[0].value.value\r\n            );\r\n            this.$set(\r\n              this.ruleForm,\r\n              \"isRequired\",\r\n              this.editData.control.args[0].value.required\r\n            );\r\n          }\r\n        }\r\n      }\r\n      if (data[0].type === \"group\") {\r\n        console.log(222);\r\n        this.ruleForm.isDeviceSkill = false;\r\n        this.ruleForm.isSkill = false;\r\n        this.ruleForm.propClass = \"group\";\r\n        this.ruleForm.operation = {\r\n          desc: data[0].stdDescription,\r\n          id: data[0].id,\r\n          value: data[0].name,\r\n        };\r\n        console.log(\"group\");\r\n      }\r\n      if (data[0].type === \"skill\") {\r\n        this.ruleForm.isDeviceSkill = false;\r\n        this.ruleForm.propClass = \"skill\";\r\n        this.ruleForm.operation = {\r\n          desc: data[0].stdDescription,\r\n          id: data[0].id,\r\n          value: data[0].name,\r\n        };\r\n        this.ruleForm.deviceSkillObject = data[0].prodtypeFunctionSubDtoList\r\n          ? data[0].prodtypeFunctionSubDtoList\r\n          : [];\r\n        this.ruleForm.variantsList = this.ruleForm.deviceSkillObject;\r\n        if (this.ruleForm.deviceSkillObject.length > 0) {\r\n          this.ruleForm.isSkill = false;\r\n          this.ruleForm.deviceSkillObject.map((item) => {\r\n            const objName = {\r\n              name: {\r\n                desc: item.description,\r\n                id: item.id,\r\n                required: false,\r\n                value: item.propName,\r\n              },\r\n              value: {\r\n                desc: \"\",\r\n                required: false,\r\n                value: \"\",\r\n              },\r\n            };\r\n            if (JSON.stringify(this.editData) === \"{}\") {\r\n              this.ruleForm.args.push(objName);\r\n            }\r\n            if (item.variants) {\r\n              this.ruleForm.variantsParamList = this.isJSON_test(item.variants)\r\n                ? JSON.parse(item.variants)\r\n                : [];\r\n            }\r\n            console.log(\r\n              this.ruleForm.variantsParamList,\r\n              \"this.ruleForm.variantsParamList\"\r\n            );\r\n            if (JSON.stringify(this.editData) !== \"{}\") {\r\n              this.$set(\r\n                this.ruleForm,\r\n                \"commandParamSelect\",\r\n                this.singData.control.args[0].name.id\r\n              );\r\n              this.$set(\r\n                this.ruleForm,\r\n                \"paramSelectSet\",\r\n                this.singData.control.args[0].value.value\r\n              );\r\n              this.$set(\r\n                this.ruleForm,\r\n                \"paramInputSet\",\r\n                this.singData.control.args[0].value.value\r\n              );\r\n              this.$set(\r\n                this.ruleForm,\r\n                \"isRequired\",\r\n                this.editData.control.args[0].value.required\r\n              );\r\n            }\r\n          });\r\n          console.log(this.ruleForm.args, \"---this.ruleForm.args\");\r\n        } else {\r\n          this.ruleForm.args = [];\r\n          this.ruleForm.isSkill = true;\r\n        }\r\n      }\r\n      if (data[0].type === \"deviceSkill\") {\r\n        console.log(444);\r\n        this.ruleForm.isSkill = false;\r\n        this.ruleForm.propClass = \"deviceSkill\";\r\n        this.ruleForm.operation = {\r\n          desc: data[0].stdDescription,\r\n          id: data[0].id,\r\n          value: data[0].name,\r\n        };\r\n        this.ruleForm.isDeviceSkill = true;\r\n        this.ruleForm.deviceSkillObject = data[0].prodtypeFunctionSubDtoList\r\n          ? data[0].prodtypeFunctionSubDtoList\r\n          : [];\r\n        if (this.ruleForm.deviceSkillObject.length > 0) {\r\n          this.ruleForm.deviceSkillObject.map((item, index) => {\r\n            this.$set(item, \"param\", \"\");\r\n            const objName = {\r\n              name: {\r\n                desc: item.description,\r\n                id: item.id,\r\n                required: false,\r\n                value: item.propName,\r\n              },\r\n              value: {\r\n                desc: \"\",\r\n                required: false,\r\n                value: \"\",\r\n              },\r\n            };\r\n            console.log(item, \"item------\");\r\n            if (item.variants) {\r\n              let data;\r\n              if (item.propValType == \"enum\" || item.propValType == \"bool\") {\r\n                data = this.isJSON_test(item.variants)\r\n                  ? JSON.parse(item.variants)\r\n                  : [];\r\n                data.map((items) => {\r\n                  if (typeof items.stdValue !== \"string\") {\r\n                    items.stdValue = items.stdValue + \"\";\r\n                  }\r\n                });\r\n              } else {\r\n                data = this.isJSON_test(item.variants)\r\n                  ? JSON.parse(item.variants)\r\n                  : \"\";\r\n              }\r\n              item.variantsList = data;\r\n            }\r\n            if (JSON.stringify(this.editData) === \"{}\") {\r\n              this.ruleForm.args.push(objName);\r\n            }\r\n            if (JSON.stringify(this.editData) !== \"{}\") {\r\n              this.$set(\r\n                item,\r\n                \"param\",\r\n                this.editData.control.args[index].value.value\r\n              );\r\n              this.$set(\r\n                item,\r\n                \"require\",\r\n                this.editData.control.args[index].value.required\r\n              );\r\n            } else {\r\n              item.require = false;\r\n            }\r\n          });\r\n        } else {\r\n          this.ruleForm.args = [];\r\n        }\r\n      }\r\n      console.log(data, \"data------\");\r\n    },\r\n    isJSON_test(str) {\r\n      if (typeof str == \"string\") {\r\n        try {\r\n          var obj = JSON.parse(str);\r\n          console.log(\"转换成功：\" + obj);\r\n          return true;\r\n        } catch (e) {\r\n          return false;\r\n        }\r\n      }\r\n    },\r\n    //根据属性ID获取属性取值范围\r\n    getVariantsValue(item, value, callback) {\r\n      if (item.variantsList && value) {\r\n        if (item.propValType === \"double\") {\r\n          if (!this.$vertifyMethods.isDouble(value, 2)) {\r\n            callback(\"数据不符合要求\");\r\n          }\r\n          if (parseFloat(value) < parseFloat(item.variantsList.minValue)) {\r\n            callback(\"参数值数据格式不合法，请重新填写\");\r\n          } else if (\r\n            parseFloat(value) > parseFloat(item.variantsList.maxValue)\r\n          ) {\r\n            callback(\"参数值数据格式不合法，请重新填写\");\r\n          } else if (\r\n            parseFloat(value) % parseFloat(item.variantsList.step) !==\r\n            0\r\n          ) {\r\n            callback(\"参数值数据格式不合法，请重新填写\");\r\n          } else {\r\n            callback();\r\n          }\r\n        }\r\n        if (item.propValType === \"int\") {\r\n          let reg = /^[0-9]*$/;\r\n          if (!reg.test(value)) {\r\n            callback(\"数据不符合要求\");\r\n          }\r\n          if (Number(value) < Number(item.variantsList.minValue)) {\r\n            callback(\"参数值数据格式不合法，请重新填写\");\r\n          } else if (Number(value) > Number(item.variantsList.maxValue)) {\r\n            callback(\"参数值数据格式不合法，请重新填写\");\r\n          } else if (Number(value) % Number(item.variantsList.step) !== 0) {\r\n            callback(\"参数值数据格式不合法，请重新填写\");\r\n          } else {\r\n            callback();\r\n          }\r\n        }\r\n        if (item.propValType === \"string\") {\r\n          callback();\r\n        }\r\n      } else {\r\n        callback();\r\n      }\r\n    },\r\n    // 技能的select选项\r\n    handleSkillSelect(e, index, type) {\r\n      console.log(e, index, type);\r\n      if (type === \"select\") {\r\n        this.ruleForm.deviceSkillObject[index].variantsList.filter((item) => {\r\n          if (item.stdValue === e) {\r\n            this.ruleForm.args[index].value = {\r\n              desc: item.description,\r\n              required: this.ruleForm.deviceSkillObject[index].require,\r\n              value: e,\r\n            };\r\n          }\r\n        });\r\n      } else if (type === \"input\") {\r\n        this.ruleForm.args[index].value = {\r\n          desc: e,\r\n          required: this.ruleForm.deviceSkillObject[index].require,\r\n          value: e,\r\n        };\r\n      } else {\r\n        this.$set(this.ruleForm.deviceSkillObject[index], \"require\", e);\r\n        console.log(this.ruleForm.args, \"this.ruleForm.args\");\r\n        this.ruleForm.args[index].value.required = e;\r\n        this.$forceUpdate();\r\n      }\r\n    },\r\n    resetFormData() {\r\n      this.$refs.diffForm.resetFields();\r\n    },\r\n    // 选择除了设备技能外的命令参数(group,property)\r\n    handleChangeCommad(e) {\r\n      console.log(e, \"e----\");\r\n      if (e) {\r\n        this.$refs.diffForm.clearValidate(\"commandParamSelect\");\r\n      }\r\n      console.log(this.ruleForm.variantsList, \" this.ruleForm.variantsList\");\r\n      const data = this.ruleForm.variantsList.filter((item) => {\r\n        return item.stdValue === e;\r\n      });\r\n      this.ruleForm.args[0].value = {\r\n        desc: data[0].description,\r\n        value: e,\r\n        required: this.ruleForm.isRequired,\r\n      };\r\n    },\r\n    // 语音技能参数\r\n    handleSkillChangeCommad(e) {\r\n      if (e) {\r\n        this.$refs.diffForm.clearValidate(\"commandParamSelect\");\r\n      }\r\n      console.log(this.ruleForm.variantsList, \" this.ruleForm.variantsList\");\r\n      const data = this.ruleForm.variantsList.filter((item) => {\r\n        return item.id === e;\r\n      });\r\n      this.ruleForm.args[0].value = {\r\n        desc: data[0].description,\r\n        value: e,\r\n        required: this.ruleForm.isRequired,\r\n      };\r\n    },\r\n    handleChangeSelectParamSet(e) {\r\n      const data = this.ruleForm.variantsParamList.filter((item) => {\r\n        return item.stdValue === e;\r\n      });\r\n      this.ruleForm.args[0].value = {\r\n        desc: data[0].description,\r\n        value: e,\r\n        required: this.ruleForm.isRequired,\r\n      };\r\n    },\r\n    handleChangeParamSet(e) {\r\n      console.log(e, \"eeeeee\");\r\n      let desc;\r\n      if (this.ruleForm.variantsList.unit) {\r\n        desc = e.target.value + this.ruleForm.variantsList.unit;\r\n      } else {\r\n        desc = e.target.value;\r\n      }\r\n      this.ruleForm.args[0].value = {\r\n        desc: desc,\r\n        value: e.target.value,\r\n        required: this.ruleForm.isRequired,\r\n      };\r\n      console.log(this.ruleForm.args[0].value, \"this.ruleForm.args[0].value\");\r\n    },\r\n    handleChangeInput(e) {\r\n      let desc;\r\n      if (this.ruleForm.variantsList.unit) {\r\n        desc = e.target.value + this.ruleForm.variantsList.unit;\r\n      }\r\n      this.ruleForm.args[0].value = {\r\n        desc: desc || e.target.value,\r\n        value: e.target.value,\r\n        required: this.ruleForm.isRequired,\r\n      };\r\n      console.log(this.ruleForm.args[0].value);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.command-action {\r\n  .diff-param {\r\n    margin-bottom: 24px;\r\n  }\r\n  .deviceParam {\r\n    margin-bottom: 24px;\r\n    > .el-form-item__label::after {\r\n      content: \"*\";\r\n      color: #f56c6c;\r\n      margin-left: 2px;\r\n    }\r\n  }\r\n  .input-style {\r\n    // width: 88%;\r\n    // width: 150%;\r\n  }\r\n  .input-string {\r\n    width: 100%;\r\n  }\r\n  .el-select,\r\n  .el-textarea {\r\n    width: 100%;\r\n  }\r\n  .my-select-input {\r\n    .command-param {\r\n      display: flex;\r\n      .command-left {\r\n        .el-select {\r\n          width: 50%;\r\n        }\r\n      }\r\n      .command-right {\r\n        flex: 22;\r\n        margin-left: 16px;\r\n        .el-form-item__error {\r\n          // width: 115%;\r\n        }\r\n      }\r\n      .device-unit {\r\n        flex: 1;\r\n        margin-left: 5px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./attrEquipmentAction.vue?vue&type=template&id=511bc631\"\nimport script from \"./attrEquipmentAction.vue?vue&type=script&lang=js\"\nexport * from \"./attrEquipmentAction.vue?vue&type=script&lang=js\"\n\nimport \"./attrEquipmentAction.vue?vue&type=style&index=0&id=511bc631&lang=scss\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\r\n * @Descripttion: \r\n * @version: \r\n * @Author: mry\r\n * @Date: 2022-03-22 11:16:21\r\n * @LastEditors: mry\r\n * @LastEditTime: 2022-05-13 18:11:41\r\n-->\r\n<template>\r\n  <el-form\r\n    ref=\"diffForm\"\r\n    :model=\"ruleForm\"\r\n    class=\"common-form\"\r\n    :rules=\"rules\"\r\n    label-width=\"100px\"\r\n    label-position=\"top\"\r\n  >\r\n    <el-form-item label=\"免打扰模式\" prop=\"terminalStartHour\" class=\"noDisturb\">\r\n      <el-checkbox\r\n        v-model=\"ruleForm.terminalTime\"\r\n        @change=\"handleChangeTerminalTime\"\r\n        >支持</el-checkbox\r\n      >\r\n      <div class=\"startTime\">\r\n        <el-select\r\n          v-model=\"ruleForm.terminalStartHour\"\r\n          style=\"width: 80px\"\r\n          popper-class=\"selectCustomAttrs\"\r\n          placeholder=\"\"\r\n          :disabled=\"!ruleForm.terminalTime\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in setHour\"\r\n            :key=\"item\"\r\n            :label=\"item\"\r\n            :value=\"item\"\r\n          ></el-option>\r\n        </el-select>\r\n        <span style=\"margin: 0 5px\">时</span>\r\n        <el-select\r\n          v-model=\"ruleForm.terminalStartMinutes\"\r\n          style=\"width: 80px\"\r\n          popper-class=\"selectCustomAttrs\"\r\n          placeholder=\"\"\r\n          :disabled=\"!ruleForm.terminalTime\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in setMinutes\"\r\n            :key=\"item\"\r\n            :label=\"item\"\r\n            :value=\"item\"\r\n          ></el-option>\r\n        </el-select>\r\n        <span style=\"margin-left: 5px\">分</span>\r\n      </div>\r\n      <div class=\"endTime\">\r\n        <el-select\r\n          v-model=\"ruleForm.terminalEndHour\"\r\n          style=\"width: 80px\"\r\n          popper-class=\"selectCustomAttrs\"\r\n          placeholder=\"\"\r\n          :disabled=\"!ruleForm.terminalTime\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in setHour\"\r\n            :key=\"item\"\r\n            :label=\"item\"\r\n            :value=\"item\"\r\n          ></el-option>\r\n        </el-select>\r\n        <span style=\"margin: 0 5px\">时</span>\r\n        <el-select\r\n          v-model=\"ruleForm.terminalEndMinutes\"\r\n          style=\"width: 80px\"\r\n          popper-class=\"selectCustomAttrs\"\r\n          placeholder=\"\"\r\n          :disabled=\"!ruleForm.terminalTime\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in setMinutes\"\r\n            :key=\"item\"\r\n            :label=\"item\"\r\n            :value=\"item\"\r\n          ></el-option>\r\n        </el-select>\r\n        <span style=\"margin-left: 5px\">分</span>\r\n      </div>\r\n    </el-form-item>\r\n    <el-form-item label=\"间隔时间\" prop=\"intervalHours\" class=\"noDisturb\">\r\n      <el-checkbox\r\n        v-model=\"ruleForm.intervalTime\"\r\n        @change=\"handleChangeTntervalTime\"\r\n        >支持</el-checkbox\r\n      >\r\n      <el-select\r\n        v-model=\"ruleForm.intervalHours\"\r\n        class=\"startTime\"\r\n        placeholder=\"\"\r\n        style=\"width: 100px\"\r\n        popper-class=\"selectCustomAttrs\"\r\n        :disabled=\"!ruleForm.intervalTime\"\r\n      >\r\n        <el-option\r\n          v-for=\"item in setIntervalHour\"\r\n          :key=\"item\"\r\n          :label=\"item\"\r\n          :value=\"item\"\r\n        ></el-option>\r\n      </el-select>\r\n      <el-select\r\n        v-model=\"ruleForm.intervalMinutes\"\r\n        placeholder=\"\"\r\n        style=\"width: 100px; margin-left: 15px\"\r\n        popper-class=\"selectCustomAttrs\"\r\n        :disabled=\"!ruleForm.intervalTime\"\r\n      >\r\n        <el-option\r\n          v-for=\"item in setIntervalMinutes\"\r\n          :key=\"item\"\r\n          :label=\"item\"\r\n          :value=\"item\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"终端类型\" prop=\"terminalType\">\r\n      <el-select\r\n        v-model=\"ruleForm.terminalType\"\r\n        multiple\r\n        placeholder=\"请选择终端类型\"\r\n        popper-class=\"selectCustomAttrs\"\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-option\r\n          v-for=\"item in terminalTypeList\"\r\n          :key=\"item.configCode\"\r\n          :label=\"item.description\"\r\n          :value=\"item.configCode\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"弹窗类型\" prop=\"toastType\">\r\n      <el-select\r\n        v-model=\"ruleForm.toastType\"\r\n        placeholder=\"请选择弹窗类型\"\r\n        popper-class=\"selectCustomAttrs toast-maxwidth\"\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-option\r\n          v-for=\"item in toastTypeList\"\r\n          :key=\"item.configCode\"\r\n          :label=\"item.description\"\r\n          :value=\"item.configCode\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"消息优先级\" prop=\"messagePriority\">\r\n      <el-select\r\n        v-model=\"ruleForm.messagePriority\"\r\n        style=\"width: 100%\"\r\n        popper-class=\"selectCustomAttrs\"\r\n        placeholder=\"\"\r\n      >\r\n        <el-option\r\n          v-for=\"item in messagePriorityList\"\r\n          :key=\"item.key\"\r\n          :label=\"item.value\"\r\n          :value=\"item.key\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"消息标题\" style=\"width: 100%\" prop=\"messageTitle\">\r\n      <el-input\r\n        v-model=\"ruleForm.messageTitle\"\r\n        placeholder=\"请输入推送标题，最多20字符\"\r\n        maxlength=\"20\"\r\n      />\r\n    </el-form-item>\r\n    <el-form-item label=\"消息内容\" style=\"width: 100%\" prop=\"messageContent\">\r\n      <el-input\r\n        v-model=\"ruleForm.messageContent\"\r\n        placeholder=\"请输入推送内容，最多20字符\"\r\n        maxlength=\"20\"\r\n      />\r\n    </el-form-item>\r\n    <el-form-item class=\"tag\">\r\n      <p class=\"tip-title\">\r\n        <img src=\"../../../assets/images/tips.png\" alt=\"\" class=\"tip-image\" />\r\n        <span class=\"tip-name\">注释</span>\r\n      </p>\r\n      <p class=\"tip-content\">\r\n        支持参数类型：${device.nickname} 设备昵称\r\n        支持编辑带参数的消息，消息内容如需要插入参数，直接将参数粘贴到消息内。例如：“您好！您的${device.nickname}检测到漏水，请及时处理”\r\n      </p>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport { iotRequest } from \"@/apis/api\";\r\nimport getHMSfunc from \"@/assets/js/getInitHMS\";\r\nexport default {\r\n  props: {\r\n    singData: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      ruleForm: {\r\n        terminalTime: false,\r\n        terminalStartHour: \"00\",\r\n        terminalStartMinutes: \"00\",\r\n        terminalEndHour: \"00\",\r\n        terminalEndMinutes: \"00\",\r\n        intervalTime: false,\r\n        intervalHours: \"0h\",\r\n        intervalMinutes: \"10min\",\r\n        terminalType: [],\r\n        toastType: \"\",\r\n        messagePriority: \"1\",\r\n        messageTitle: \"\",\r\n        messageContent: \"\",\r\n      },\r\n      source: this.$route.query.source || \"\", // 场景模板来源\r\n      rules: {\r\n        terminalStartHour: [\r\n          { required: true, message: \"请选择免打扰模式\", trigger: \"change\" },\r\n        ],\r\n        intervalHours: [\r\n          { required: true, message: \"请选择间隔时间\", trigger: \"change\" },\r\n        ],\r\n        terminalType: [\r\n          { required: true, message: \"请选择终端类型\", trigger: \"change\" },\r\n        ],\r\n        toastType: [\r\n          { required: true, message: \"请选择弹窗类型\", trigger: \"change\" },\r\n        ],\r\n        messageTitle: [\r\n          { required: true, message: \"请输入消息标题\", trigger: \"blur\" },\r\n        ],\r\n        messageContent: [\r\n          { required: true, message: \"请输入消息内容\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      terminalTypeList: [],\r\n      toastTypeList: [],\r\n      messagePriorityList: [\r\n        {\r\n          key: \"0\",\r\n          value: \"紧急消息\",\r\n        },\r\n        {\r\n          key: \"1\",\r\n          value: \"一般消息\",\r\n        },\r\n        {\r\n          key: \"2\",\r\n          value: \"中级消息\",\r\n        },\r\n        {\r\n          key: \"3\",\r\n          value: \"低级消息\",\r\n        },\r\n      ],\r\n      setHour: [],\r\n      setMinutes: [],\r\n      setIntervalHour: [],\r\n      setIntervalMinutes: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    console.log(1111);\r\n    this.getTerminalType();\r\n    this.getToastType();\r\n    this.setHour = getHMSfunc.initHMS(24, true);\r\n    this.setMinutes = getHMSfunc.initHMS(60, true);\r\n    this.setIntervalHour = this.handleSetIntervalHour();\r\n    this.setIntervalMinutes = this.handleSetIntervalMinutes(60);\r\n    if (JSON.stringify(this.singData) !== \"{}\") {\r\n      const data = this.singData.pushMessage.msgStrategy;\r\n      if (data.maxCount === undefined) {\r\n        console.log(\r\n          this.singData.pushMessage.msgStrategy,\r\n          \"this.singData.pushMessage.msgStrategy\"\r\n        );\r\n        const startime =\r\n          this.singData.pushMessage.msgStrategy.notWorkTimeStart &&\r\n          this.singData.pushMessage.msgStrategy.notWorkTimeStart.length > 0\r\n            ? this.singData.pushMessage.msgStrategy.notWorkTimeStart.split(\":\")\r\n            : \"\";\r\n        this.ruleForm.terminalStartHour =\r\n          typeof startime == \"object\" ? startime[0] : \"00\";\r\n        this.ruleForm.terminalStartMinutes =\r\n          typeof startime == \"object\" ? startime[1] : \"00\";\r\n        const endTime =\r\n          this.singData.pushMessage.msgStrategy.notWorkTimeEnd &&\r\n          this.singData.pushMessage.msgStrategy.notWorkTimeEnd.length > 0\r\n            ? this.singData.pushMessage.msgStrategy.notWorkTimeEnd.split(\":\")\r\n            : \"\";\r\n        this.ruleForm.terminalEndHour =\r\n          typeof endTime == \"object\" ? endTime[0] : \"00\";\r\n        this.ruleForm.terminalEndMinutes =\r\n          typeof endTime == \"object\" ? endTime[1] : \"00\";\r\n        if (\r\n          (this.singData.pushMessage.msgStrategy.notWorkTimeStart &&\r\n            this.singData.pushMessage.msgStrategy.notWorkTimeStart.length >\r\n              0) ||\r\n          (this.singData.pushMessage.msgStrategy.notWorkTimeEnd &&\r\n            this.singData.pushMessage.msgStrategy.notWorkTimeEnd.length > 0)\r\n        ) {\r\n          this.ruleForm.terminalTime = true;\r\n        } else {\r\n          this.ruleForm.terminalTime = false;\r\n        }\r\n        this.handleDealTime(this.singData.pushMessage.msgStrategy.timeInterval);\r\n      } else if (data.maxCount == null) {\r\n        this.ruleForm = {\r\n          terminalTime: false,\r\n          terminalStartHour: \"00\",\r\n          terminalStartMinutes: \"00\",\r\n          terminalEndHour: \"00\",\r\n          terminalEndMinutes: \"00\",\r\n          intervalTime: false,\r\n          intervalHours: \"0h\",\r\n          intervalMinutes: \"10min\",\r\n        };\r\n      }\r\n      this.$set(\r\n        this.ruleForm,\r\n        \"messageTitle\",\r\n        this.singData.pushMessage.pushContent.msgTitle\r\n      );\r\n      this.$set(\r\n        this.ruleForm,\r\n        \"messageContent\",\r\n        this.singData.pushMessage.pushContent.msgContent\r\n      );\r\n      this.$set(\r\n        this.ruleForm,\r\n        \"messagePriority\",\r\n        this.singData.pushMessage.priority.toString()\r\n      );\r\n      // this.ruleForm.messageTitle = this.singData.pushMessage.pushContent.msgTitle\r\n      // this.ruleForm.messageContent = this.singData.pushMessage.pushContent.msgContent\r\n      // this.ruleForm.messagePriority = this.singData.pushMessage.priority.toString()\r\n      this.handleDealShowTypes(this.singData.pushMessage.showTypes);\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取终端类型数据\r\n    getTerminalType() {\r\n      let url;\r\n      if (this.source === \"southeastAsia\") {\r\n        url = \"/developerportal/dny/developer/config/getConfigType\";\r\n      } else {\r\n        url = \"/developerportal/developer/config/getConfigType\";\r\n      }\r\n      iotRequest(\"post\", url, {\r\n        configParentCode: \"pushTerminalType\",\r\n      }).then((res) => {\r\n        if (res.retCode == \"00000\") {\r\n          this.terminalTypeList = res.data;\r\n        }\r\n      });\r\n    },\r\n    // 获取弹框类型数据\r\n    getToastType() {\r\n      let url;\r\n      if (this.source === \"southeastAsia\") {\r\n        url = \"/developerportal/dny/developer/config/getConfigType\";\r\n      } else {\r\n        url = \"/developerportal/developer/config/getConfigType\";\r\n      }\r\n      iotRequest(\"post\", url, {\r\n        configParentCode: \"pushShowType\",\r\n      }).then((res) => {\r\n        if (res.retCode == \"00000\") {\r\n          this.toastTypeList = res.data;\r\n        }\r\n      });\r\n    },\r\n    // 重置数据\r\n    resetFormData() {\r\n      this.$refs.diffForm.resetFields();\r\n    },\r\n    // 间隔时间---小时\r\n    handleSetIntervalHour() {\r\n      const data = getHMSfunc.initHMS(24);\r\n      return data.map((item) => {\r\n        return (item = item + \"h\");\r\n      });\r\n    },\r\n    // 间隔时间--分钟\r\n    handleSetIntervalMinutes(num) {\r\n      const flag = [];\r\n      for (let i = 0; i < num; i += 2) {\r\n        flag.push(i.toString() + \"min\");\r\n      }\r\n      return flag;\r\n    },\r\n    // 处理时间\r\n    handleDealTime(time) {\r\n      if (time == null) {\r\n        return;\r\n      }\r\n      const hour = parseInt(time / 60);\r\n      this.ruleForm.intervalHours = parseInt(time / 60).toString() + \"h\";\r\n      this.ruleForm.intervalMinutes =\r\n        parseInt(time - hour * 60).toString() + \"min\";\r\n      if (time !== null) {\r\n        this.ruleForm.intervalTime = true;\r\n      } else {\r\n        this.ruleForm.intervalTime = false;\r\n      }\r\n    },\r\n    // 处理终端类型&&弹窗类型\r\n    handleDealShowTypes(param) {\r\n      const data = [];\r\n      for (let i in param) {\r\n        data.push(i);\r\n        this.$set(this.ruleForm, \"toastType\", param[i]);\r\n        // this.ruleForm.toastType = param[i]\r\n      }\r\n      this.$set(this.ruleForm, \"terminalType\", data);\r\n      // this.ruleForm.terminalType = data\r\n    },\r\n    // 免打扰模式取消选中，数据重置\r\n    handleChangeTerminalTime(e) {\r\n      if (!e) {\r\n        this.ruleForm.terminalStartHour = \"00\";\r\n        this.ruleForm.terminalStartMinutes = \"00\";\r\n        this.ruleForm.terminalEndHour = \"00\";\r\n        this.ruleForm.terminalEndMinutes = \"00\";\r\n      }\r\n    },\r\n    // 间隔时间取消选中，数据重置\r\n    handleChangeTntervalTime(e) {\r\n      if (!e) {\r\n        this.ruleForm.intervalHours = \"0h\";\r\n        this.ruleForm.intervalMinutes = \"10min\";\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.noDisturb {\r\n  .el-form-item__content {\r\n    display: flex;\r\n  }\r\n  .startTime,\r\n  .endTime {\r\n    margin-left: 16px;\r\n  }\r\n}\r\n.tag {\r\n  margin-top: -12px;\r\n  width: 100%;\r\n  background: #f4f5f9;\r\n  border-radius: 4px;\r\n  padding: 16px;\r\n  .tip-title {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 8px;\r\n    color: #3d485d;\r\n    line-height: 19px;\r\n    .tip-image {\r\n      width: 21px;\r\n      margin-right: 4px;\r\n    }\r\n  }\r\n  .tip-content {\r\n    margin-top: 8px;\r\n    font-size: 14px;\r\n    font-family: AlibabaPuHuiTi_2_55_Regular;\r\n    color: #98a3b7;\r\n    line-height: 21px;\r\n  }\r\n}\r\n.toast-maxwidth {\r\n  .el-select-dropdown__item span {\r\n    max-width: 490px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./attrMessageAction.vue?vue&type=template&id=3ba2e53c\"\nimport script from \"./attrMessageAction.vue?vue&type=script&lang=js\"\nexport * from \"./attrMessageAction.vue?vue&type=script&lang=js\"\n\nimport \"./attrMessageAction.vue?vue&type=style&index=0&id=3ba2e53c&lang=scss\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\r\n * @Descripttion: \r\n * @version: \r\n * @Author: mry\r\n * @Date: 2022-03-22 16:10:27\r\n * @LastEditors: mry\r\n * @LastEditTime: 2022-04-11 15:13:30\r\n-->\r\n<template>\r\n  <el-form\r\n    ref=\"ruleForm\"\r\n    :model=\"ruleForm\"\r\n    class=\"common-form\"\r\n    label-width=\"100px\"\r\n    label-position=\"top\"\r\n  >\r\n    <el-form-item label=\"延时设置\" class=\"delaySet\">\r\n      <div class=\"startTime\">\r\n        <el-select\r\n          v-model=\"ruleForm.delayStartHour\"\r\n          popper-class=\"selectCustomAttrs\"\r\n          style=\"width: 80px\"\r\n          placeholder=\"\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in setHour\"\r\n            :key=\"item\"\r\n            :label=\"item\"\r\n            :value=\"item\"\r\n          ></el-option>\r\n        </el-select>\r\n        <span style=\"margin: 0 10px\">小时</span>\r\n        <el-select\r\n          v-model=\"ruleForm.delayStartMinutes\"\r\n          popper-class=\"selectCustomAttrs\"\r\n          style=\"width: 80px\"\r\n          placeholder=\"\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in setMinutes\"\r\n            :key=\"item\"\r\n            :label=\"item\"\r\n            :value=\"item\"\r\n          ></el-option>\r\n        </el-select>\r\n        <span style=\"margin: 0 10px\">分钟</span>\r\n        <el-select\r\n          v-model=\"ruleForm.delayStartSecond\"\r\n          popper-class=\"selectCustomAttrs\"\r\n          style=\"width: 80px\"\r\n          placeholder=\"\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in setSeconds\"\r\n            :key=\"item\"\r\n            :label=\"item\"\r\n            :value=\"item\"\r\n          ></el-option>\r\n        </el-select>\r\n        <span style=\"margin-left: 10px\">秒</span>\r\n      </div>\r\n    </el-form-item>\r\n    <el-form-item v-if=\"ruleForm.isShow\" style=\"color: red\"\r\n      >请选择延时时间！</el-form-item\r\n    >\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport { iotRequest } from \"@/apis/api\";\r\nimport getHMSfunc from \"@/assets/js/getInitHMS\";\r\nexport default {\r\n  props: {\r\n    singData: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      ruleForm: {\r\n        delayStartHour: \"0\",\r\n        delayStartMinutes: \"0\",\r\n        delayStartSecond: \"0\",\r\n        isShow: false,\r\n      },\r\n      source: this.$route.query.source || \"\", // 场景模板来源\r\n      setHour: [],\r\n      setMinutes: [],\r\n      setSeconds: [],\r\n      delayData: {},\r\n    };\r\n  },\r\n  mounted() {\r\n    this.setHour = getHMSfunc.initHMS(24);\r\n    this.setMinutes = getHMSfunc.initHMS(60);\r\n    this.setSeconds = getHMSfunc.initHMS(60);\r\n    this.getDelayData();\r\n    if (JSON.stringify(this.singData) !== \"{}\") {\r\n      this.handleDealHMS(this.singData.delayControl.args[0].value.value);\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取delay基本信息\r\n    getDelayData() {\r\n      let url;\r\n      if (this.source === \"southeastAsia\") {\r\n        url = \"/developerportal/dny/developer/component/cmptPropList/DELAY\";\r\n      } else {\r\n        url = \"/developerportal/developer/component/cmptPropList/DELAY\";\r\n      }\r\n      iotRequest(\"get\", url).then((res) => {\r\n        if (res.retCode == \"00000\") {\r\n          this.delayData = res.data[0];\r\n        }\r\n      });\r\n    },\r\n    // 重置数据\r\n    resetFormData() {\r\n      this.ruleForm = {\r\n        delayStartHour: \"0\",\r\n        delayStartMinutes: \"0\",\r\n        delayStartSecond: \"0\",\r\n        isShow: false,\r\n      };\r\n    },\r\n    // 处理时分秒\r\n    handleDealHMS(time) {\r\n      this.ruleForm.delayStartHour = parseInt(time / 3600).toString();\r\n      this.ruleForm.delayStartMinutes = parseInt(\r\n        (time - this.ruleForm.delayStartHour * 3600) / 60\r\n      ).toString();\r\n      this.ruleForm.delayStartSecond = parseInt(\r\n        (time - this.ruleForm.delayStartHour * 3600) % 60\r\n      ).toString();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.delaySet {\r\n  margin-bottom: 24px;\r\n  > .el-form-item__label::after {\r\n    content: \"*\";\r\n    color: #f56c6c;\r\n    margin-left: 2px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./attrDelayAction.vue?vue&type=template&id=1d4b377c\"\nimport script from \"./attrDelayAction.vue?vue&type=script&lang=js\"\nexport * from \"./attrDelayAction.vue?vue&type=script&lang=js\"\n\nimport \"./attrDelayAction.vue?vue&type=style&index=0&id=1d4b377c&lang=scss\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {\r\n  EQUIPMENT_ATTR,\r\n  TIME_ATTR,\r\n  WEATHER_ATTR,\r\n  FENCE_ATTR,\r\n  EQUIPMENT_ATTR_ACTION,\r\n  MESSAGE_ATTR_ACTION,\r\n  DELAY_ATTR_ACTION,\r\n} from \"@/modules/attribute/constants\";\r\n\r\nimport equipment from \"./attrEquipment.vue\"; // 设备条件\r\nimport time from \"./attrTime.vue\"; // 定时条件\r\nimport weather from \"./attrWeather.vue\"; // 天气条件\r\nimport fence from \"./attrFence.vue\"; // 地理围栏条件\r\nimport equipmentAction from \"./attrEquipmentAction.vue\"; // 设备动作\r\nimport messageAction from \"./attrMessageAction.vue\"; // 设备动作\r\nimport delayAction from \"./attrDelayAction.vue\";\r\n\r\nexport default {\r\n  [EQUIPMENT_ATTR]: equipment,\r\n  [TIME_ATTR]: time,\r\n  [WEATHER_ATTR]: weather,\r\n  [FENCE_ATTR]: fence,\r\n  [EQUIPMENT_ATTR_ACTION]: equipmentAction,\r\n  [MESSAGE_ATTR_ACTION]: messageAction,\r\n  [DELAY_ATTR_ACTION]: delayAction,\r\n};\r\n","// 公共模板\r\nimport commonAttrMap from \"./common/register\";\r\n\r\n// mainPage 属性模板和静态名称映射\r\nimport mainPageAttrMap from \"./mainPage/register\";\r\n\r\n// 所有属性模板和静态名称映射\r\nconst attrMap = {\r\n  ...mainPageAttrMap,\r\n  ...commonAttrMap,\r\n};\r\n\r\n// 批量获取\r\nexport const getAttrMap = (attrNameArr: Array<keyof typeof attrMap>) => {\r\n  const attrMapObj: { [key: string]: any } = {};\r\n  attrNameArr.forEach((name) => {\r\n    attrMapObj[name] = attrMap[name];\r\n  });\r\n  return attrMapObj;\r\n};\r\n// 获取单独的属性模板\r\nexport const getAttrTemplate = ({\r\n  template,\r\n}: {\r\n  template: keyof typeof attrMap;\r\n}) => {\r\n  console.log(template);\r\n  return attrMap[template];\r\n};\r\n","// 画布配置规则静态名称\r\nexport const CHECK_SAME_PORT = \"checkSamePort\"; // 校验是否为同一节点\r\nexport const CHECK_PORT_TYPE = \"checkPortType\"; // 校验连线的输入和输出类型\r\nexport const CHECK_OR_PORT = \"checkOrPort\"; // 校验并行节点\r\nexport const CHECK_CONDITION_PORT = \"checkConditionPort\"; // 校验决策节点\r\n","import { SelfValidateConnectionArgs } from \"@/modules/graph/types\";\r\n\r\n/**\r\n * 检验节点是否为同一类\r\n * 相同类型节点不能进行连接\r\n */\r\nexport default function checkSamePort({\r\n  sourcePort,\r\n  targetPort,\r\n}: SelfValidateConnectionArgs) {\r\n  if (sourcePort && targetPort && sourcePort === targetPort) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n","import { SelfValidateConnectionArgs } from \"@/modules/graph/types\";\r\nimport { OUT_PUT_ARR, IN_PUT_ARR } from \"@/modules/port/constants\";\r\n\r\n/**\r\n * 检验节点的out,in,节点连线必须为 out -> in\r\n */\r\nexport default function checkPortType({\r\n  sourcePortType,\r\n  targetPortType,\r\n}: SelfValidateConnectionArgs) {\r\n  if (\r\n    OUT_PUT_ARR.indexOf(sourcePortType) >= 0 &&\r\n    IN_PUT_ARR.indexOf(targetPortType) >= 0\r\n  ) {\r\n    return true;\r\n  }\r\n}\r\n","import { SelfValidateConnectionArgs } from \"@/modules/graph/types\";\r\nimport { Graph, Cell } from \"@antv/x6\";\r\nimport {\r\n  BASIC_OR_PORT,\r\n  PORT_OUT_PUT,\r\n  PORT_IN_PUT,\r\n  PORT_CONDITION,\r\n} from \"@/modules/port/constants\";\r\n// const basicOrPortArr = [\r\n//   BASIC_OR_CONDITION_PORT,\r\n//   BASIC_OR_IN_PORT,\r\n//   BASIC_OR_OUT_PORT,\r\n// ];\r\n\r\n/**\r\n * 并行节点，输入连接桩\r\n * 1.只能建立一条连线\r\n */\r\nfunction checkInPort(graph: Graph, targetPortType: string, targetCell: Cell) {\r\n  if (\r\n    targetPortType === PORT_IN_PUT &&\r\n    graph.getIncomingEdges(targetCell as Cell)\r\n  ) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\n/**\r\n * 并行节点，输出连接桩\r\n * 1.只能建立一条连线\r\n */\r\nfunction checkOutPort(graph: Graph, targetPortType: string, targetCell: Cell) {\r\n  if (\r\n    targetPortType === PORT_OUT_PUT &&\r\n    graph.getIncomingEdges(targetCell as Cell)\r\n  ) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\n/**\r\n * 并行节点 条件链接桩\r\n * 1.连接非功能组件需要，非功能组件没有连接其他节点\r\n */\r\nfunction checkConditionPort(\r\n  graph: Graph,\r\n  sourcePortType: string,\r\n  targetCell: Cell\r\n) {\r\n  if (sourcePortType === PORT_CONDITION) {\r\n    // 条件1\r\n    if (\r\n      graph.getIncomingEdges(targetCell as Cell) ||\r\n      graph.getOutgoingEdges(targetCell as Cell)\r\n    ) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n/**\r\n * 检验并行节点连接逻辑\r\n */\r\nexport default function checkOrPort(\r\n  {\r\n    targetCell,\r\n    sourcePortName,\r\n    sourcePortType,\r\n    targetPortName,\r\n    targetPortType,\r\n  }: SelfValidateConnectionArgs,\r\n  graph: Graph\r\n) {\r\n  console.log(targetPortName, targetCell);\r\n  // 输入或输出节点为并行节点时进行连线校验\r\n  if (sourcePortName !== BASIC_OR_PORT && targetPortName !== BASIC_OR_PORT) {\r\n    return true;\r\n  }\r\n  // 并行节点，输入连接桩判断\r\n  if (!checkInPort(graph, targetPortType, targetCell as Cell)) {\r\n    return false;\r\n  }\r\n  // 并行节点，输出连接桩判断\r\n  if (!checkOutPort(graph, targetPortType, targetCell as Cell)) {\r\n    return false;\r\n  }\r\n  /**\r\n   * 并行节点 条件链接桩判断\r\n   */\r\n  if (!checkConditionPort(graph, sourcePortType, targetCell as Cell)) {\r\n    return false;\r\n  }\r\n\r\n  // if (targetPortName === BASIC_OR_IN_PORT) {\r\n  // console.log(graph.getIncomingEdges(targetCell as Cell));\r\n  // }\r\n  return true;\r\n  // console.log(sourcePort);\r\n  // if (\r\n  //   sourcePort &&\r\n  //   targetPort &&\r\n  //   sourcePort.indexOf(\"Out\") >= 0 &&\r\n  //   targetPort.indexOf(\"In\") >= 0\r\n  // ) {\r\n  //   return true;\r\n  // }\r\n}\r\n","import { SelfValidateConnectionArgs } from \"@/modules/graph/types\";\r\nimport { CONDITION_PORT } from \"@/modules/port/constants\";\r\nimport { PORT_IN_PUT } from \"../../port/constants\";\r\nimport { Cell, Graph } from \"@antv/x6\";\r\n\r\n/**\r\n * 检验决策节点\r\n */\r\nexport default function checkConditionPort(\r\n  {\r\n    targetCell,\r\n    sourcePortName,\r\n    targetPortName,\r\n    targetPortType,\r\n  }: SelfValidateConnectionArgs,\r\n  graph: Graph\r\n) {\r\n  if (sourcePortName !== CONDITION_PORT && targetPortName !== CONDITION_PORT) {\r\n    return true;\r\n  }\r\n  // 决策输入节点, 决策输入节点单一入口\r\n  if (\r\n    targetPortType === PORT_IN_PUT &&\r\n    graph.getIncomingEdges(targetCell as Cell)\r\n  ) {\r\n    return false;\r\n  }\r\n  // 决策输出节点\r\n\r\n  // 校验决策输入节点\r\n  return true;\r\n}\r\n","import {\r\n  CHECK_PORT_TYPE,\r\n  CHECK_SAME_PORT,\r\n  CHECK_OR_PORT,\r\n  CHECK_CONDITION_PORT,\r\n} from \"./constants\";\r\n\r\nimport checkSamePort from \"./rulesCheckSamePort\"; // 校验是否为同一节点\r\nimport checkPortType from \"./rulesCheckPortType\"; // 校验连线的输入和输出类型\r\nimport checkOrPort from \"./rulesCheckOrPort\"; // 校验并行节点\r\nimport checkConditionPort from \"./rulesCheckConditionPort\"; // 校验决策节点\r\n\r\nconst graphRulesMap = {\r\n  [CHECK_SAME_PORT]: checkSamePort,\r\n  [CHECK_PORT_TYPE]: checkPortType,\r\n  [CHECK_OR_PORT]: checkOrPort,\r\n  [CHECK_CONDITION_PORT]: checkConditionPort,\r\n};\r\nexport default graphRulesMap;\r\n","import { ValidateConnectionArgs } from \"@/modules/graph/types\";\r\nimport graphRulesMap from \"./graphRulesMap\";\r\nimport { Graph } from \"@antv/x6\";\r\n\r\n/**\r\n * 创建画布连接规则\r\n * @params\r\n */\r\nexport default function createGraphRules(\r\n  rulesArr: Array<keyof typeof graphRulesMap>,\r\n  params: ValidateConnectionArgs,\r\n  graph: Graph\r\n) {\r\n  return function () {\r\n    const rulesLength = rulesArr.length;\r\n    let validateRes = true;\r\n    // 有起始连接桩，进行逻辑判断\r\n    if (params.sourcePort && params.targetPort) {\r\n      const [sourcePortName, sourcePortType] = params.sourcePort.split(\"-\");\r\n      const [targetPortName, targetPortType] = params.targetPort.split(\"-\");\r\n      console.log(params.targetPort);\r\n      // 遍历调用规则判断，返回结果false，则取消连线操作\r\n      for (let i = 0; i < rulesLength; i++) {\r\n        if (\r\n          !graphRulesMap[rulesArr[i]](\r\n            {\r\n              ...params,\r\n              sourcePortName,\r\n              sourcePortType,\r\n              targetPortName,\r\n              targetPortType,\r\n            },\r\n            graph\r\n          )\r\n        ) {\r\n          validateRes = false;\r\n          break;\r\n        }\r\n      }\r\n      return validateRes;\r\n    }\r\n    return false;\r\n  };\r\n}\r\n","import { ValidateConnectionArgs } from \"@/modules/graph/types\";\nimport { Graph } from \"@antv/x6\";\nimport createGraphRules from \"@/modules/graph/rules\";\nimport graphRulesMap from \"@/modules/graph/rules/graphRulesMap\";\nimport {\n  CHECK_SAME_PORT,\n  CHECK_PORT_TYPE,\n  CHECK_OR_PORT,\n  CHECK_CONDITION_PORT,\n} from \"@/modules/graph/rules/constants\";\n\n/**\n * 在移动边的时候判断连接是否有效，\n * 如果返回 false，当鼠标放开的时候，不会连接到当前元素，否则会连接到当前元素。\n */\nconst rulesArr: Array<keyof typeof graphRulesMap> = [\n  CHECK_SAME_PORT, // 相同节点不能连接\n  CHECK_PORT_TYPE, // 连线只能从输出节点到输入节点\n  CHECK_OR_PORT, // 校验逻辑关系节点-并行节点\n  CHECK_CONDITION_PORT,\n];\nexport default function (this: Graph, params: ValidateConnectionArgs) {\n  return createGraphRules(rulesArr, params, this)();\n}\n\n// createGraphRules(rulesArr);\n\n// (\n//   this: Graph,\n//   params: ValidateConnectionArgs\n// ) {\n//   return createGraphRules(rulesArr, params)(this);\n// }\n","/**\r\n * 链接桩链接规则\r\n */\r\nimport { Shape } from \"@antv/x6\";\r\nimport validateConnection from \"./validateConnection\";\r\n// import { BASIC_EDGE } from \"@/modules/edge/constants\";\r\n\r\n// Edge.config({\r\n//   markup: [\r\n//     {\r\n//       tagName: \"path\",\r\n//       selector: \"wrap\",\r\n//       attrs: {\r\n//         fill: \"none\",\r\n//         cursor: \"pointer\",\r\n//         stroke: \"transparent\",\r\n//         strokeLinecap: \"round\",\r\n//       },\r\n//     },\r\n//     {\r\n//       tagName: \"path\",\r\n//       selector: \"line\",\r\n//       attrs: {\r\n//         fill: \"none\",\r\n//         pointerEvents: \"none\",\r\n//       },\r\n//     },\r\n//   ],\r\n//   connector: { name: BASIC_EDGE },\r\n//   attrs: {\r\n//     wrap: {\r\n//       connection: true,\r\n//       strokeWidth: 10,\r\n//       strokeLinejoin: \"round\",\r\n//     },\r\n//     line: {\r\n//       connection: true,\r\n//       stroke: \"#A2B1C3\",\r\n//       strokeWidth: 1,\r\n//       strokeDasharray: \"5 5\",\r\n//       targetMarker: {\r\n//         name: \"classic\",\r\n//         size: 6,\r\n//       },\r\n//     },\r\n//   },\r\n// });\r\n\r\nexport default {\r\n  validateConnection,\r\n  // snap: true, // 自动吸附\r\n  snap: {\r\n    radius: 20,\r\n  },\r\n  allowBlank: false, // 是否允许连接到画布空白位置的点\r\n  allowMulti: false, // 是否允许在相同的起始节点和终止之间创建多条边\r\n  allowLoop: false, // 是否允许创建循环连线，即边的起始节点和终止节点为同一节点\r\n  allowNode: false, // 是否允许边链接到节点（非节点上的连接桩），默认为 true 。\r\n  allowEdge: true,\r\n  allowPort: true,\r\n  highlight: true, // 拖动边时，是否高亮显示所有可用的节点\r\n  // connector: BASIC_EDGE, // 链接线样式\r\n  connector: {\r\n    name: \"rounded\",\r\n    args: {\r\n      radius: 8,\r\n    },\r\n  },\r\n  connectionPoint: \"anchor\",\r\n  // edgeAnchor: \"ratio\",\r\n  anchor: \"center\",\r\n  // router: \"normal\",\r\n  router: {\r\n    name: \"manhattan\",\r\n    args: {\r\n      padding: 1,\r\n    },\r\n  },\r\n  // validateMagnet() {\r\n  //   // return magnet.getAttribute('port-group') !== 'top'\r\n  //   // 限制连线配置\r\n  //   return true;\r\n  // },\r\n  createEdge() {\r\n    // return new Shape.Edge({\r\n    //   attrs: {\r\n    //     line: {\r\n    //       stroke: \"#A2B1C3\",\r\n    //       strokeWidth: 2,\r\n    //       targetMarker: {\r\n    //         name: \"block\",\r\n    //         width: 12,\r\n    //         height: 8,\r\n    //       },\r\n    //     },\r\n    //   },\r\n    //   zIndex: 0,\r\n    // });\r\n    return new Shape.Edge({\r\n      router: \"manhattan\",\r\n      attrs: {\r\n        line: {\r\n          // strokeDasharray: \"5 5\",\r\n        },\r\n      },\r\n      zIndex: -1,\r\n    });\r\n  },\r\n};\r\n","export const BASIC_EDGE = \"basicEdge\";\r\n","import { Shape } from \"@antv/x6\";\r\nimport { BASIC_EDGE } from \"@/modules/edge/constants\";\r\nconst basicGraphConfig = {\r\n  // connecting,\r\n  // container: dom,\r\n  autoResize: true,\r\n  grid: {\r\n    type: \"mesh\",\r\n    size: 20, // 网格大小 10px\r\n    visible: true, // 渲染网格背景\r\n    args: {\r\n      color: \"#eeeeee\", // 网格线/点颜色\r\n      thickness: 2, // 网格线宽度/网格点大小\r\n    },\r\n  },\r\n  background: false, // 背景（透明）\r\n  panning: {\r\n    enabled: true,\r\n    modifiers: [\"alt\", \"meta\"],\r\n    eventTypes: [\"leftMouseDown\"],\r\n  },\r\n  mousewheel: {\r\n    enabled: true,\r\n    modifiers: \"ctrl\",\r\n    factor: 1.1,\r\n    maxScale: 1.5,\r\n    minScale: 0.5,\r\n  },\r\n  highlighting: {\r\n    magnetAvailable: {\r\n      name: \"stroke\",\r\n      args: {\r\n        attrs: {\r\n          fill: \"#fff\",\r\n          stroke: \"#31d0c6\",\r\n          strokeWidth: 4,\r\n        },\r\n      },\r\n    },\r\n  },\r\n  connecting: {\r\n    snap: true, // 自动吸附\r\n    allowBlank: false, // 是否允许连接到画布空白位置的点\r\n    allowMulti: true, // 是否允许在相同的起始节点和终止之间创建多条边\r\n    allowLoop: false, // 是否允许创建循环连线，即边的起始节点和终止节点为同一节点\r\n    allowNode: false, // 是否允许链接节点\r\n    allowEdge: true,\r\n    allowPort: true,\r\n    highlight: true, // 拖动边时，是否高亮显示所有可用的节点\r\n    connector: BASIC_EDGE, // 链接线样式\r\n    connectionPoint: \"anchor\",\r\n    edgeAnchor: \"ratio\",\r\n    anchor: \"center\",\r\n    router: \"normal\",\r\n    edgeMovable: true, // 边是否可以被移动。\r\n    vertexDeletable: true, // 边的路径点是否可以被删除。\r\n    validateMagnet() {\r\n      // return magnet.getAttribute('port-group') !== 'top'\r\n      // 限制连线配置\r\n      return true;\r\n    },\r\n    createEdge() {\r\n      return new Shape.Edge({\r\n        attrs: {\r\n          line: {\r\n            stroke: \"#000\",\r\n            strokeWidth: 2,\r\n            targetMarker: {\r\n              name: \"block\",\r\n              width: 12,\r\n              height: 8,\r\n            },\r\n          },\r\n        },\r\n        zIndex: 1,\r\n      });\r\n    },\r\n  },\r\n};\r\nexport default basicGraphConfig;\r\n","import connecting from \"./connecting\";\r\nimport commonConfig from \"@/modules/graph/template/common\";\r\n\r\nconst sceneGraphConfig = {\r\n  ...commonConfig,\r\n  connecting,\r\n};\r\nexport default sceneGraphConfig;\r\n","// 画布配置项静态名称\r\nimport { SCENE_GRAPH } from \"./constants\";\r\nimport sceneGraphConfig from \"./scene\";\r\n\r\nconst graphMap = {\r\n  [SCENE_GRAPH]: sceneGraphConfig,\r\n};\r\n\r\nexport default graphMap;\r\n","/**\r\n * 获取当前画布配置信息\r\n */\r\n// 依赖\r\nimport { initGraph } from \"@/assets/js/graph\";\r\n// import createGraphRules from \"@/modules/graph/rules\";\r\n\r\n// 画布配置项\r\nimport { Graph } from \"@antv/x6\";\r\nimport { initGraphParamsI } from \"./types\";\r\nimport graphMap from \"./template/graphMap\";\r\n// 基础配置项\r\nimport commonConfig from \"@/modules/graph/template/common\";\r\n// import { initKeyboard } from \"@/assets/js/graph\";\r\n\r\n// 注册画布方法\r\nexport function registerGraph({\r\n  templateName,\r\n  container,\r\n  config,\r\n}: initGraphParamsI): Graph {\r\n  const options = {\r\n    container,\r\n  };\r\n  // 使用模板配置进行渲染\r\n  if (templateName) {\r\n    Object.assign(options, graphMap[templateName]);\r\n  } else if (config) {\r\n    // 使用配置项进行渲染\r\n    Object.assign(options, commonConfig, config.options || {}, {\r\n      // validateConnection: function (\r\n      //   this: Graph,\r\n      //   params: ValidateConnectionArgs\r\n      // ) {\r\n      //   // return createGraphRules(config.rules || [], params)(this);\r\n      // },\r\n    });\r\n  }\r\n  return initGraph(options);\r\n}\r\n","// 画布配置项静态名称\r\nexport const COMMON_GRAPH = \"commonGraph\"; // 通用配置项\r\nexport const SCENE_GRAPH = \"mainPageGraph\"; // 场景模板\r\nexport const BPMN = \"bpmn\";\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6e1c6eac\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"basic-node\" }\nconst _hoisted_2 = { class: \"basic-node__desc\" }\nconst _hoisted_3 = [\"src\"]\nconst _hoisted_4 = { class: \"node-name\" }\n\nimport { inject, ref, onMounted } from \"vue\";\r\nimport { Node } from \"@antv/x6\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BasicNode',\n  setup(__props) {\n\r\nconst getNode: (() => Node) | undefined = inject(\"getNode\");\r\n\r\nconst node = ref<Node>();\r\nconst nodeConfig = ref<any>({ attrData: [] });\r\nconst attrData = ref<any>({});\r\n\r\nonMounted(() => {\r\n  if (getNode) {\r\n    node.value = getNode();\r\n    nodeConfig.value = node.value.data;\r\n    attrData.value = nodeConfig.value.attrData || {};\r\n    console.log(nodeConfig.value);\r\n    node.value.on(\"change:data\", ({ current }) => {\r\n      nodeConfig.value = current;\r\n      attrData.value = nodeConfig.value.attrData || {};\r\n    });\r\n  }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"img\", {\n        class: \"basic-node__icon\",\n        src: nodeConfig.value.icon,\n        alt: \"\"\n      }, null, 8, _hoisted_3),\n      _createElementVNode(\"div\", _hoisted_4, _toDisplayString(nodeConfig.value.description), 1)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./BasicNode.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BasicNode.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BasicNode.vue?vue&type=style&index=0&id=6e1c6eac&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6e1c6eac\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2d08b82d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"basic-node\" }\nconst _hoisted_2 = { class: \"node-name\" }\n\nimport { inject, ref, onMounted } from \"vue\";\r\nimport { Node } from \"@antv/x6\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BasicOrNode',\n  setup(__props) {\n\r\nconst getNode: (() => Node) | undefined = inject(\"getNode\");\r\n\r\nconst node = ref<Node>();\r\nconst nodeConfig = ref<any>({ attrData: [] });\r\nconst attrData = ref<any>({});\r\n\r\nonMounted(() => {\r\n  if (getNode) {\r\n    node.value = getNode();\r\n    nodeConfig.value = node.value.data;\r\n    attrData.value = nodeConfig.value.attrData || {};\r\n    console.log(nodeConfig.value);\r\n    node.value.on(\"change:data\", ({ current }) => {\r\n      nodeConfig.value = current;\r\n      attrData.value = nodeConfig.value.attrData || {};\r\n    });\r\n  }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(nodeConfig.value.description), 1)\n  ]))\n}\n}\n\n})","import script from \"./BasicOrNode.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BasicOrNode.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BasicOrNode.vue?vue&type=style&index=0&id=2d08b82d&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2d08b82d\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d7ea66ee\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"basic-node\" }\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = { class: \"node-name\" }\n\nimport { inject, ref, onMounted } from \"vue\";\r\nimport { Node } from \"@antv/x6\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BasicDescisionNode',\n  setup(__props) {\n\r\nconst getNode: (() => Node) | undefined = inject(\"getNode\");\r\n\r\nconst node = ref<Node>();\r\nconst nodeConfig = ref<any>({ attrData: [] });\r\nconst attrData = ref<any>({});\r\n\r\n// computed()\r\n// const nodeConfig = computed(() => {\r\n//   return (node.value && node.value.data) || {};\r\n// });\r\n\r\nonMounted(() => {\r\n  if (getNode) {\r\n    node.value = getNode();\r\n    nodeConfig.value = node.value.data;\r\n    attrData.value = nodeConfig.value.attrData || {};\r\n    node.value.on(\"change:data\", ({ current }) => {\r\n      nodeConfig.value = current;\r\n      attrData.value = nodeConfig.value.attrData || {};\r\n    });\r\n  }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"img\", {\n      class: \"basic-node__icon\",\n      src: nodeConfig.value.icon,\n      alt: \"\"\n    }, null, 8, _hoisted_2),\n    _createElementVNode(\"div\", _hoisted_3, _toDisplayString(attrData.value.descision || nodeConfig.value.description), 1)\n  ]))\n}\n}\n\n})","import script from \"./BasicDescisionNode.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BasicDescisionNode.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BasicDescisionNode.vue?vue&type=style&index=0&id=d7ea66ee&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d7ea66ee\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e4eb4f70\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"basic-node\" }\nconst _hoisted_2 = { class: \"node-name\" }\n\nimport { inject, ref, onMounted } from \"vue\";\r\nimport { Node } from \"@antv/x6\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BasicLogicNode',\n  setup(__props) {\n\r\nconst getNode: (() => Node) | undefined = inject(\"getNode\");\r\nconst node = ref<Node>();\r\nconst nodeConfig = ref<any>({ attrData: [] });\r\nonMounted(() => {\r\n  if (getNode) {\r\n    node.value = getNode();\r\n    nodeConfig.value = node.value.data;\r\n    node.value.on(\"change:data\", ({ current }) => {\r\n      nodeConfig.value = current;\r\n    });\r\n  }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(nodeConfig.value.description), 1)\n  ]))\n}\n}\n\n})","import script from \"./BasicLogicNode.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BasicLogicNode.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BasicLogicNode.vue?vue&type=style&index=0&id=e4eb4f70&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e4eb4f70\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2b3100ca\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"block\" }, null, -1))\nconst _hoisted_3 = { class: \"content\" }\n\nimport { inject, ref, onMounted } from \"vue\";\r\nimport { Node } from \"@antv/x6\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'GatewayNode',\n  setup(__props) {\n\r\nconst getNode: (() => Node) | undefined = inject(\"getNode\");\r\nconst node = ref<Node>();\r\n\r\nconst sign = ref<string>();\r\n\r\nonMounted(() => {\r\n  if (getNode) {\r\n    node.value = getNode();\r\n    sign.value = node.value.data.id;\r\n  }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Close = _resolveComponent(\"Close\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_Plus = _resolveComponent(\"Plus\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      (sign.value === 'Exclusive')\n        ? (_openBlock(), _createBlock(_component_el_icon, { key: 0 }, {\n            default: _withCtx(() => [\n              _createVNode(_component_Close)\n            ]),\n            _: 1\n          }))\n        : _createCommentVNode(\"\", true),\n      (sign.value === 'Parallel')\n        ? (_openBlock(), _createBlock(_component_el_icon, { key: 1 }, {\n            default: _withCtx(() => [\n              _createVNode(_component_Plus)\n            ]),\n            _: 1\n          }))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./GatewayNode.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GatewayNode.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./GatewayNode.vue?vue&type=style&index=0&id=2b3100ca&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2b3100ca\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-59eba4b4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = { class: \"block\" }\n\nimport { inject, ref, onMounted } from \"vue\";\r\nimport { Node } from \"@antv/x6\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TaskNode',\n  setup(__props) {\n\r\nconst getNode: (() => Node) | undefined = inject(\"getNode\");\r\nconst node = ref<Node>();\r\n\r\nconst icon = ref<string>();\r\nconst iconMap: any = {\r\n  User: \"UserFilled\",\r\n};\r\n\r\nonMounted(() => {\r\n  if (getNode) {\r\n    node.value = getNode();\r\n    icon.value = iconMap[node.value.data.id];\r\n  }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_el_icon, null, {\n        default: _withCtx(() => [\n          (_openBlock(), _createBlock(_resolveDynamicComponent(icon.value)))\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","import script from \"./TaskNode.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TaskNode.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TaskNode.vue?vue&type=style&index=0&id=59eba4b4&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-59eba4b4\"]])\n\nexport default __exports__","// 依赖\r\nimport { Graph, Node } from \"@antv/x6\";\r\nimport { register } from \"@antv/x6-vue-shape\";\r\n// 模板\r\nimport BasicNode from \"./BasicNode.vue\";\r\n// import BasicRelationNode from \"./BasicRelationNode.vue\";\r\nimport BasicOrNode from \"./BasicOrNode.vue\";\r\nimport BasicDescisionNode from \"./BasicDescisionNode.vue\";\r\nimport BasicLogicNode from \"./BasicLogicNode.vue\";\r\nimport GatewayNode from \"./GatewayNode.vue\";\r\nimport TaskNode from \"./TaskNode.vue\";\r\n\r\n// import BasicDescisionGroup from \"./BasicDescisionGroup.vue\";\r\nimport { getPortConfig } from \"../../port/index\";\r\nimport { CONDITION_IN_PORT, CONDITION_OUT_PORT } from \"../../port/constants\";\r\n// 静态名称\r\nimport {\r\n  BASIC_NODE,\r\n  BASIC_OR_NODE,\r\n  BASIC_DESCISION_NODE,\r\n  BASIC_DESCISION_GROUP,\r\n  BASIC_LOGIC_NODE,\r\n  GATEWAY_NODE,\r\n  TASK_NODE,\r\n} from \"@/modules/material/constants\";\r\n\r\n/**\r\n * 注册基础决策组件/行为组件\r\n * @param { Node.Properties } options 配置项\r\n */\r\nexport const registerBasicNode = (options: Node.Properties) => {\r\n  register({\r\n    shape: options.name,\r\n    width: 200,\r\n    height: 50,\r\n    component: BasicNode,\r\n    ...options,\r\n  });\r\n};\r\n\r\n/**\r\n * 注册基础逻辑节点\r\n */\r\nexport const registerBasicLogicNode = (options: Node.Properties) => {\r\n  register({\r\n    shape: options.name,\r\n    width: 80,\r\n    height: 80,\r\n    component: BasicLogicNode,\r\n    ...options,\r\n  });\r\n};\r\n\r\n// 注册基础并行节点\r\nexport const registerBasicOrNode = (options: Node.Properties) => {\r\n  register({\r\n    shape: options.name,\r\n    width: 100,\r\n    height: 100,\r\n    component: BasicOrNode,\r\n    ...options,\r\n  });\r\n};\r\n// 注册决策组决策节点\r\nexport const registerBasicDescisionNode = (options?: Node.Properties) => {\r\n  register({\r\n    shape: BASIC_DESCISION_NODE,\r\n    width: 200,\r\n    height: 50,\r\n    component: BasicDescisionNode,\r\n    ...options,\r\n  });\r\n};\r\n/**\r\n * 注册决策组节点\r\n */\r\nlet isRegisterDescisionGroup = false;\r\nexport const registerBasicDescisionGroup = () => {\r\n  if (isRegisterDescisionGroup) return;\r\n  isRegisterDescisionGroup = true;\r\n  Graph.registerNode(BASIC_DESCISION_GROUP, {\r\n    inherit: \"polygon\", // 继承于 rect 节点\r\n    width: 100,\r\n    height: 100,\r\n    label: \"决策组\",\r\n    attrs: {\r\n      body: {\r\n        strokeWidth: 1,\r\n        stroke: \"#5F95FF\",\r\n        fill: \"#FFF\",\r\n        refPoints: \"0,10 10,0 20,10 10,20\",\r\n      },\r\n      text: {\r\n        fontSize: 12,\r\n        fill: \"#262626\",\r\n      },\r\n    },\r\n    ports: getPortConfig({\r\n      portTemplates: [CONDITION_IN_PORT, CONDITION_OUT_PORT],\r\n    }),\r\n  });\r\n};\r\n\r\n/**\r\n * 注册网关节点\r\n */\r\nexport const registerGatewayNode = (options: Node.Properties) => {\r\n  register({\r\n    shape: GATEWAY_NODE,\r\n    width: 60,\r\n    height: 60,\r\n    component: GatewayNode,\r\n    ...options,\r\n  });\r\n  // Graph.registerNode(\r\n  //   \"gateway\",\r\n  //   {\r\n  //     inherit: \"polygon\",\r\n  //     width: 60,\r\n  //     height: 60,\r\n  //     attrs: {\r\n  //       body: {\r\n  //         refPoints: \"0,10 10,0 20,10 10,20\",\r\n  //         strokeWidth: 2,\r\n  //         stroke: \"#5F95FF\",\r\n  //         fill: \"#FFF\",\r\n  //       },\r\n  //       label: {\r\n  //         text: \"+\",\r\n  //         fontSize: 38,\r\n  //         fill: \"#5F95FF\",\r\n  //       },\r\n  //     },\r\n  //   },\r\n  //   true\r\n  // );\r\n};\r\n/**\r\n *\r\n */\r\nexport const registerTaskNode = (options: Node.Properties) => {\r\n  register({\r\n    shape: TASK_NODE,\r\n    width: 200,\r\n    height: 100,\r\n    component: TaskNode,\r\n    ...options,\r\n  });\r\n};\r\n\r\nexport default {\r\n  [BASIC_NODE]: registerBasicNode,\r\n  [BASIC_LOGIC_NODE]: registerBasicLogicNode, // 基础逻辑节点\r\n  [BASIC_OR_NODE]: registerBasicOrNode,\r\n  [BASIC_DESCISION_NODE]: registerBasicDescisionNode,\r\n  [BASIC_DESCISION_GROUP]: registerBasicDescisionGroup,\r\n  [GATEWAY_NODE]: registerGatewayNode,\r\n  [TASK_NODE]: registerTaskNode,\r\n};\r\n","// 公共物料注册方法映射\r\nimport { Node } from \"@antv/x6\";\r\nimport commonRegisterMap from \"./common/register\";\r\n\r\n// 节点名称和注册方法关联关系\r\nexport const registerMap = {\r\n  ...commonRegisterMap,\r\n};\r\n\r\n// 批量注册物料\r\nconst registerMaterial = (\r\n  nodeName: Array<{\r\n    template: keyof typeof registerMap;\r\n    options: Node.Properties;\r\n  }>\r\n) => {\r\n  nodeName.forEach((config) => {\r\n    registerMap[config.template](config.options);\r\n  });\r\n};\r\nexport default registerMaterial;\r\n","import { ComponentConfig } from \"@/assets/config/types/component\";\r\nimport registerMaterial from \"@/modules/material/index\";\r\nimport { getPortConfig } from \"@/modules/port/index\";\r\nimport { Node } from \"@antv/x6\";\r\n\r\n// 注册组件方法\r\nexport default function registerComponent(\r\n  componentConfigs: Array<ComponentConfig>\r\n) {\r\n  componentConfigs.forEach((config) => {\r\n    const options: Node.Properties = {};\r\n    // 链接桩属性\r\n    options.ports = getPortConfig({\r\n      portTemplates: config.port?.templates || [],\r\n    });\r\n    options.name = config.name;\r\n    const shapeConfig = config.shape;\r\n    registerMaterial([{ template: shapeConfig.template, options }]); // 注册当前节点\r\n  });\r\n}\r\n","// 物料节点类型\r\nexport const BASIC_NODE = \"basic-node\"; // 基础节点\r\nexport const BASIC_LOGIC_NODE = \"basic-logic-node\"; // 基础逻辑节点\r\nexport const BASIC_OR_NODE = \"basic_or_node\"; // 基础并行节点\r\nexport const BASIC_DESCISION_NODE = \"basic_descision_node\"; // 基础决策组决策节点\r\nexport const BASIC_DESCISION_GROUP = \"basic_descision_group\"; // 基础决策组节点\r\n\r\nexport const GATEWAY_NODE = \"gateway_node\"; // 网关节点\r\nexport const TASK_NODE = \"task_node\"; // 任务节点\r\n","// 静态数据\r\nexport const PORT_OUT_PUT = \"output\"; // 输出节点类型\r\nexport const PORT_IN_PUT = \"input\"; // 输入节点类型\r\nexport const PORT_CONDITION = \"condition\"; // 条件节点\r\nexport const OUT_PUT_ARR = [PORT_OUT_PUT, PORT_CONDITION]; // 输出节点类型\r\nexport const IN_PUT_ARR = [PORT_IN_PUT]; // 输入节点类型\r\n\r\nexport const CONDITION_PORT = \"conditionPort\"; // 条件节点\r\nexport const CONDITION_OUT_PORT = \"conditionOutPort\"; // 条件输出节点\r\nexport const CONDITION_IN_PORT = \"conditionInPort\"; // 条件输入节点\r\n\r\nexport const ACTION_PORT = \"actionPort\"; // 动作节点\r\nexport const ACTION_OUT_PORT = \"actionOutPort\"; // 动作输出节点\r\nexport const ACTION_IN_PORT = \"actionInPort\"; // 动作输入节点\r\n\r\nexport const BASIC_OR_PORT = \"basicOrPort\"; // 并行节点\r\nexport const BASIC_OR_IN_PORT = \"basicOrInPort\"; // 并行输入节点\r\nexport const BASIC_OR_OUT_PORT = \"basicOrOutPort\"; // 并行输出节点\r\nexport const BASIC_OR_CONDITION_PORT = \"basicOrConditionPort\"; // 并行条件节点\r\n","export default {\r\n  circle: {\r\n    r: 4,\r\n    magnet: true,\r\n    stroke: \"#C2C8D5\",\r\n    strokeWidth: 1,\r\n    fill: \"#fff\",\r\n  },\r\n};\r\n","import attrs from \"./attrs\";\r\nimport { v4 } from \"uuid\";\r\nimport {\r\n  CONDITION_OUT_PORT,\r\n  PORT_OUT_PUT,\r\n  CONDITION_PORT,\r\n} from \"@/modules/port/constants\";\r\n\r\nexport default {\r\n  groups: {\r\n    [CONDITION_OUT_PORT]: {\r\n      position: \"right\",\r\n      attrs,\r\n    },\r\n  },\r\n  items: [\r\n    {\r\n      group: CONDITION_OUT_PORT,\r\n      id: `${CONDITION_PORT}-${PORT_OUT_PUT}-${v4()}`,\r\n    },\r\n  ],\r\n};\r\n","import attrs from \"./attrs\";\r\nimport { v4 } from \"uuid\";\r\nimport {\r\n  CONDITION_IN_PORT,\r\n  PORT_IN_PUT,\r\n  CONDITION_PORT,\r\n} from \"@/modules/port/constants\";\r\n\r\nexport default {\r\n  groups: {\r\n    [CONDITION_IN_PORT]: {\r\n      position: \"left\",\r\n      attrs,\r\n    },\r\n  },\r\n  items: [\r\n    {\r\n      group: CONDITION_IN_PORT,\r\n      id: `${CONDITION_PORT}-${PORT_IN_PUT}-${v4()}`,\r\n    },\r\n  ],\r\n};\r\n","import attrs from \"./attrs\";\r\nimport { v4 } from \"uuid\";\r\nimport {\r\n  ACTION_OUT_PORT,\r\n  PORT_IN_PUT,\r\n  ACTION_PORT,\r\n} from \"@/modules/port/constants\";\r\n\r\nexport default {\r\n  groups: {\r\n    [ACTION_OUT_PORT]: {\r\n      position: \"right\",\r\n      attrs,\r\n    },\r\n  },\r\n  items: [\r\n    { group: ACTION_OUT_PORT, id: `${ACTION_PORT}-${PORT_IN_PUT}-${v4()}` },\r\n  ],\r\n};\r\n","import attrs from \"./attrs\";\r\nimport { v4 } from \"uuid\";\r\nimport {\r\n  ACTION_IN_PORT,\r\n  PORT_IN_PUT,\r\n  ACTION_PORT,\r\n} from \"@/modules/port/constants\";\r\n\r\nexport default {\r\n  groups: {\r\n    [ACTION_IN_PORT]: {\r\n      position: \"left\",\r\n      attrs,\r\n    },\r\n  },\r\n  items: [\r\n    { group: ACTION_IN_PORT, id: `${ACTION_PORT}-${PORT_IN_PUT}-${v4()}` },\r\n  ],\r\n};\r\n","import attrs from \"./attrs\";\r\nimport { v4 } from \"uuid\";\r\nimport {\r\n  BASIC_OR_PORT,\r\n  BASIC_OR_IN_PORT,\r\n  BASIC_OR_OUT_PORT,\r\n  BASIC_OR_CONDITION_PORT,\r\n  PORT_OUT_PUT,\r\n  PORT_IN_PUT,\r\n  PORT_CONDITION,\r\n} from \"@/modules/port/constants\";\r\n\r\nexport default {\r\n  groups: {\r\n    [BASIC_OR_IN_PORT]: {\r\n      position: \"left\",\r\n      attrs,\r\n    },\r\n    [BASIC_OR_OUT_PORT]: {\r\n      position: \"right\",\r\n      attrs,\r\n    },\r\n    [BASIC_OR_CONDITION_PORT]: {\r\n      position: \"bottom\",\r\n      attrs,\r\n    },\r\n  },\r\n  items: [\r\n    { group: BASIC_OR_IN_PORT, id: `${BASIC_OR_PORT}-${PORT_IN_PUT}-${v4()}` },\r\n    {\r\n      group: BASIC_OR_OUT_PORT,\r\n      id: `${BASIC_OR_PORT}-${PORT_OUT_PUT}-${v4()}`,\r\n    },\r\n    {\r\n      group: BASIC_OR_CONDITION_PORT,\r\n      id: `${BASIC_OR_PORT}-${PORT_CONDITION}-${v4()}`,\r\n    },\r\n  ],\r\n};\r\n","import {\r\n  CONDITION_IN_PORT, // 条件输入节点\r\n  CONDITION_OUT_PORT, // 条件输出节点\r\n  ACTION_OUT_PORT,\r\n  ACTION_IN_PORT,\r\n  BASIC_OR_PORT, // 并行节点\r\n} from \"@/modules/port/constants\";\r\n\r\nimport conditionOutPort from \"./conditionOutPort\"; // 条件输出节点\r\nimport conditionInPort from \"./conditionInPort\"; // 条件输入节点\r\nimport actionOutPort from \"./actionOutPort\"; // 动作输出节点\r\nimport actionInPort from \"./actionInPort\"; // 动作输入节点\r\nimport basicOrPort from \"./basicOrPort\";\r\n\r\nexport default {\r\n  [CONDITION_OUT_PORT]: conditionOutPort, // 条件输出节点\r\n  [CONDITION_IN_PORT]: conditionInPort, // 条件输入节点\r\n  [BASIC_OR_PORT]: basicOrPort, // 并行节点\r\n  [ACTION_OUT_PORT]: actionOutPort,\r\n  [ACTION_IN_PORT]: actionInPort,\r\n};\r\n","// 所有节点的映射关系\r\nimport portsMap from \"./template\";\r\nimport { portsKey } from \"@/assets/config/types/ports\";\r\nimport { PortManager } from \"@antv/x6/lib/model/port\";\r\n\r\n// 根据节点获取链接桩配置信息\r\nexport const getPortConfig = ({\r\n  portTemplates, // 链接桩模板\r\n}: // portConfig,\r\n{\r\n  portTemplates?: Array<portsKey>;\r\n  // portConfig: object;\r\n}) => {\r\n  const portConfig: Partial<PortManager.Metadata> | PortManager.PortMetadata[] =\r\n    { groups: {}, items: [] };\r\n  // 存在连接桩模板，遍历获取对应的配置项\r\n  if (portTemplates) {\r\n    portTemplates.forEach((template) => {\r\n      portConfig.items = Array.prototype.concat(\r\n        portConfig.items,\r\n        portsMap[template].items\r\n      );\r\n      portConfig.groups = Object.assign(\r\n        {},\r\n        portConfig.groups,\r\n        portsMap[template].groups || {}\r\n      );\r\n    });\r\n  }\r\n\r\n  return portConfig;\r\n};\r\n","<template>\r\n  <div>\r\n    <el-tooltip class=\"item\" effect=\"dark\" content=\"放大\" placement=\"bottom\">\r\n      <el-icon @click=\"zoomFn(0.2)\"><ZoomIn /></el-icon>\r\n    </el-tooltip>\r\n    <el-tooltip class=\"item\" effect=\"dark\" content=\"缩小\" placement=\"bottom\">\r\n      <el-icon @click=\"zoomFn(-0.2)\"><ZoomOut /></el-icon>\r\n    </el-tooltip>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Graph } from \"@antv/x6\";\r\n\r\nexport default {\r\n  props: {\r\n    graph: Graph,\r\n  },\r\n  methods: {\r\n    zoomFn(num) {\r\n      this.graph && this.graph.zoom(num);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import { render } from \"./toolZoom.vue?vue&type=template&id=1c90f742\"\nimport script from \"./toolZoom.vue?vue&type=script&lang=js\"\nexport * from \"./toolZoom.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <el-tooltip class=\"item\" effect=\"dark\" content=\"适应屏幕\" placement=\"bottom\">\r\n    <el-icon @click=\"centerFn\"><FullScreen /></el-icon>\r\n  </el-tooltip>\r\n</template>\r\n\r\n<script>\r\nimport { Graph } from \"@antv/x6\";\r\n\r\nexport default {\r\n  props: {\r\n    graph: Graph,\r\n  },\r\n  methods: {\r\n    centerFn() {\r\n      if (this.graph) {\r\n        const num = 1 - this.graph.zoom();\r\n        num > 1 ? this.graph.zoom(num * -1) : this.graph.zoom(num);\r\n        this.graph.centerContent();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import { render } from \"./toolFullScreen.vue?vue&type=template&id=2b966c0a\"\nimport script from \"./toolFullScreen.vue?vue&type=script&lang=js\"\nexport * from \"./toolFullScreen.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { Graph } from \"@antv/x6\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'toolSave',\n  props: {\n    graph: null\n  },\n  emits: [\"saveData\"],\n  setup(__props: any, { emit }) {\n\nconst props = __props as {\r\n  graph?: Graph;\r\n};\n\r\n\r\n\r\n\r\nconst saveFn = () => {\r\n  if (props.graph) {\r\n    emit(\"saveData\", props.graph.toJSON({ diff: true }));\r\n  }\r\n  // localStorage.setItem(\r\n  //   \"x6Json\",\r\n  //   JSON.stringify(props.graph.toJSON({ diff: true }))\r\n  // );\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_UploadFilled = _resolveComponent(\"UploadFilled\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\")!\n\n  return (_openBlock(), _createBlock(_component_el_tooltip, {\n    class: \"item\",\n    effect: \"dark\",\n    content: \"保存\",\n    placement: \"bottom\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_el_icon, { onClick: saveFn }, {\n        default: _withCtx(() => [\n          _createVNode(_component_UploadFilled)\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./toolSave.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./toolSave.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <el-tooltip class=\"item\" effect=\"dark\" content=\"是否禁用\" placement=\"bottom\">\r\n    <el-icon v-if=\"!isLock\" @click=\"lockFn\"><Lock /></el-icon>\r\n    <el-icon v-else @click=\"lockFn\"><Unlock /></el-icon>\r\n  </el-tooltip>\r\n</template>\r\n\r\n<script>\r\nimport { Graph } from \"@antv/x6\";\r\n\r\nexport default {\r\n  props: {\r\n    graph: Graph,\r\n  },\r\n  data() {\r\n    return {\r\n      isLock: false,\r\n    };\r\n  },\r\n  methods: {\r\n    lockFn: function () {\r\n      this.isLock = !this.isLock;\r\n      if (this.isLock && this.graph) {\r\n        this.graph.enablePanning();\r\n        this.graph.enableKeyboard();\r\n      } else if (this.graph) {\r\n        this.graph.disablePanning();\r\n        this.graph.disableKeyboard();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import { render } from \"./toolDisabled.vue?vue&type=template&id=e61a5316\"\nimport script from \"./toolDisabled.vue?vue&type=script&lang=js\"\nexport * from \"./toolDisabled.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import zoom from \"./toolZoom.vue\";\r\nimport fullScreen from \"./toolFullScreen.vue\";\r\nimport save from \"./toolSave.vue\";\r\nimport disabled from \"./toolDisabled.vue\";\r\n// 静态数据\r\nimport {\r\n  TOOL_ZOOM,\r\n  TOOL_FULLSCREEN,\r\n  TOOL_SAVE,\r\n  TOOL_DISABLED,\r\n} from \"@/assets/config/constants\";\r\n\r\nexport default {\r\n  [TOOL_ZOOM]: zoom,\r\n  [TOOL_FULLSCREEN]: fullScreen,\r\n  [TOOL_SAVE]: save,\r\n  [TOOL_DISABLED]: disabled,\r\n};\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, mergeProps as _mergeProps, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-42c48e2a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"graph-tools__block\" }\n\nimport toolsComponents from \".\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    tools: null\n  },\n  setup(__props: any) {\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.tools, (item) => {\n      return (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(toolsComponents)[item]), _mergeProps({ class: \"graph-tools__item\" }, _ctx.$attrs, { key: item }), null, 16))\n    }), 128))\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=42c48e2a&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-42c48e2a\"]])\n\nexport default __exports__","// 初始化画布模型\r\nimport { ref, onMounted } from \"vue\";\r\nimport { Graph } from \"@antv/x6\";\r\nimport { Dnd } from \"@antv/x6-plugin-dnd\";\r\n// 公共方法\r\nimport { createDnd } from \"@/assets/js/material\";\r\nimport { initKeyboard } from \"@/assets/js/graph\";\r\n// 画布模板\r\nimport { SCENE_GRAPH } from \"@/modules/graph/template/constants\";\r\n// 画布模型注册方法\r\nimport { registerGraph } from \"@/modules/graph/index\";\r\n\r\nexport default function useInitGraph() {\r\n  const graph = ref<Graph>();\r\n  const dnd = ref<Dnd>();\r\n  onMounted(() => {\r\n    graph.value = registerGraph({\r\n      templateName: SCENE_GRAPH,\r\n      container: document.getElementById(\"container\") as HTMLElement,\r\n    });\r\n    // 创建dnd实例\r\n    dnd.value = createDnd(graph.value);\r\n    // 在当前画布上初始化键盘快捷键\r\n    initKeyboard(graph.value, [\r\n      \"copy\",\r\n      \"paste\",\r\n      \"cut\",\r\n      \"undo\",\r\n      \"redo\",\r\n      \"delete\",\r\n    ]);\r\n  });\r\n  return {\r\n    graph,\r\n    dnd,\r\n  };\r\n}\r\n","<template>\r\n  <div></div>\r\n  <div class=\"class-fold\">\r\n    <div class=\"fold-title\" @click=\"foldShow = !foldShow\">\r\n      {{ name }}\r\n      <div class=\"icon-fold\" :class=\"{ 'fold-show': !foldShow }\">\r\n        <i class=\"el-icon-arrow-up\"></i>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"foldShow\" class=\"fold-content\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ClassFold\",\r\n  props: {\r\n    name: {\r\n      type: String,\r\n      required: true,\r\n      default: \"\",\r\n    },\r\n    fold: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      foldShow: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.foldShow = this.fold;\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.class-fold {\r\n  width: 100%;\r\n  .fold-title {\r\n    position: relative;\r\n    font-size: 12px;\r\n    color: $default-color;\r\n    padding: 0 48px 0 12px;\r\n    line-height: 36px;\r\n    height: 36px;\r\n    cursor: pointer;\r\n    @include text-ellipsis();\r\n    .icon-fold {\r\n      display: inline-block;\r\n      font-size: 16px;\r\n      height: 36px;\r\n      line-height: 36px;\r\n      position: absolute;\r\n      right: 12px;\r\n      top: 0;\r\n      transition: all 0.3s;\r\n      &.fold-show {\r\n        transform: rotate(180deg);\r\n      }\r\n    }\r\n  }\r\n  .fold-content {\r\n    padding: 5px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./class-fold.vue?vue&type=template&id=420c16b9&scoped=true\"\nimport script from \"./class-fold.vue?vue&type=script&lang=js\"\nexport * from \"./class-fold.vue?vue&type=script&lang=js\"\n\nimport \"./class-fold.vue?vue&type=style&index=0&id=420c16b9&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-420c16b9\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0a1cba7a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"menu-item\" }\nconst _hoisted_2 = { class: \"element-list\" }\nconst _hoisted_3 = [\"onMousedown\"]\nconst _hoisted_4 = [\"src\"]\n\nimport ClassFold from \"@/components/class-fold.vue\";\r\nimport {\r\n  ComponentDataI,\r\n  ComponentConfig,\r\n} from \"@/assets/config/types/component\";\r\n\r\nimport { createNode } from \"@/assets/js/material\";\r\nimport { Dnd } from \"@antv/x6-plugin-dnd\";\r\nimport { inject, ref } from \"vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MenuItem',\n  props: {\n    menuList: null,\n    dnd: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\r\n  menuList: Array<ComponentDataI>;\r\n  dnd: Dnd;\r\n};\n\r\n\r\n\r\nconst graph = inject(\"graph\", ref(undefined));\r\n// 拖拽生成节点\r\nconst addNode = (e: MouseEvent, item: ComponentConfig) => {\r\n  if (graph.value && props.dnd) {\r\n    createNode({\r\n      graph: graph.value,\r\n      dnd: props.dnd,\r\n      event: e,\r\n      options: {\r\n        shape: item.name, // 节点信息\r\n      },\r\n      data: { ...item },\r\n    });\r\n  }\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.menuList, (item, index) => {\n      return (_openBlock(), _createBlock(ClassFold, {\n        key: item.classCode + index,\n        name: item.className,\n        fold: true\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_2, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.children, (eleitem) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: eleitem.id,\n                class: \"element-item\",\n                draggable: \"true\",\n                onMousedown: ($event: any) => (addNode($event, eleitem))\n              }, [\n                _createElementVNode(\"img\", {\n                  src: eleitem.icon\n                }, null, 8, _hoisted_4),\n                _createElementVNode(\"div\", null, _toDisplayString(eleitem.description), 1)\n              ], 40, _hoisted_3))\n            }), 128))\n          ])\n        ]),\n        _: 2\n      }, 1032, [\"name\"]))\n    }), 128))\n  ]))\n}\n}\n\n})","import script from \"./MenuItem.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MenuItem.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MenuItem.vue?vue&type=style&index=0&id=0a1cba7a&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0a1cba7a\"]])\n\nexport default __exports__","import { iotRequest } from \"@/apis/api\";\r\n\r\n// 获取设备条件类型\r\nexport const fnGetAllProdtype = () => {\r\n  return iotRequest(\r\n    \"post\",\r\n    \"/developerportal/developer/prodtype/getAllProdtypeList\",\r\n    {}\r\n  );\r\n};\r\n// 获取定时条件\r\nexport const fnGetAlltimer = () => {\r\n  return iotRequest(\r\n    \"get\",\r\n    \"/developerportal/developer/component/cmptPropList/TIMER\",\r\n    {}\r\n  );\r\n};\r\n// 获取天气条件\r\nexport const fnGetAllweather = () => {\r\n  return iotRequest(\r\n    \"get\",\r\n    \"/developerportal/developer/component/cmptPropList/WEATHER\",\r\n    {}\r\n  );\r\n};\r\n// 地理围栏条件\r\nexport const fnGetAllgeofence = () => {\r\n  return iotRequest(\r\n    \"get\",\r\n    \"/developerportal/developer/component/cmptPropList/GEOFENCE\",\r\n    {}\r\n  );\r\n};\r\n// 延时动作\r\nexport const fnGetAllDelay = () => {\r\n  return iotRequest(\r\n    \"get\",\r\n    \"/developerportal/developer/component/cmptPropList/DELAY\",\r\n    {}\r\n  );\r\n};\r\n","import { RouteLocationNormalizedLoaded } from \"vue-router\";\r\nimport { Graph } from \"@antv/x6\";\r\nimport { getPortConfig } from \"@/modules/port/index\";\r\nimport { CONDITION_OUT_PORT } from \"@/modules/port/constants\";\r\n\r\n// demo数据测试方法\r\nexport function testData(graph: Graph, route: RouteLocationNormalizedLoaded) {\r\n  // 详情页面数据回显\r\n  const id = route.query.id;\r\n  const title = route.query.name;\r\n  const routeName = route.name;\r\n  // 编辑决策点\r\n  if (routeName === \"createDescisionNode\") {\r\n    const descisionNodeData = JSON.parse(\r\n      localStorage.getItem(\"descisionNode\") || \"{}\"\r\n    )[id as string];\r\n    if (descisionNodeData) {\r\n      graph.fromJSON(descisionNodeData);\r\n    }\r\n  }\r\n  // 编辑决策组\r\n  if (routeName === \"createDescisionGroup\") {\r\n    const descisionGroupData = JSON.parse(\r\n      localStorage.getItem(\"descisionGroup\") || \"{}\"\r\n    )[id as string];\r\n\r\n    if (descisionGroupData) {\r\n      graph.fromJSON(descisionGroupData);\r\n    }\r\n  }\r\n\r\n  if (routeName === \"rulesDetail\" && id) {\r\n    const json: any = JSON.parse(localStorage.getItem(\"graphData\") || \"{}\");\r\n    graph.fromJSON(json[id as string]);\r\n  }\r\n\r\n  // 创建页面数据初始化\r\n  if (routeName === \"createFlow\") {\r\n    // 创建/编辑场景页面\r\n    const json: any = JSON.parse(localStorage.getItem(\"flow\") || \"{}\");\r\n    if (!json[id as string]) {\r\n      // 当前没有节点，需要添加起始节点\r\n      graph.addNode({\r\n        shape: \"rect\", // 节点信息\r\n        x: 100,\r\n        y: 40,\r\n        width: 100,\r\n        height: 40,\r\n        attrs: {\r\n          text: { text: title as string },\r\n        },\r\n        ports: getPortConfig({ portTemplates: [CONDITION_OUT_PORT] }),\r\n      });\r\n    } else {\r\n      // 数据回显\r\n      graph.fromJSON(json[id as string]);\r\n    }\r\n  }\r\n}\r\n","/**\r\n * 处理物料数据获取，注册物料模型\r\n */\r\n// 依赖方法\r\nimport { ref, watch } from \"vue\";\r\n// types\r\nimport {\r\n  ComponentConfig,\r\n  ComponentDataI,\r\n} from \"@/assets/config/types/component\";\r\n// api\r\nimport {\r\n  fnGetAlltimer,\r\n  fnGetAllweather,\r\n  fnGetAllgeofence,\r\n  fnGetAllDelay,\r\n} from \"@/apis/scene\";\r\n// 静态数据\r\nimport { BASIC_NODE } from \"@/modules/material/constants\";\r\nimport {\r\n  TIME_ATTR,\r\n  WEATHER_ATTR,\r\n  FENCE_ATTR,\r\n  DELAY_ATTR_ACTION,\r\n} from \"@/modules/attribute/constants\";\r\n// 配置项\r\nimport {\r\n  conditionData,\r\n  logicData,\r\n  actionData,\r\n  descisionGroup,\r\n} from \"@/components/config\";\r\nimport registerComponent from \"@/modules/index\";\r\nimport {\r\n  CONDITION_OUT_PORT,\r\n  CONDITION_IN_PORT,\r\n} from \"@/modules/port/constants\";\r\n// 路由信息\r\nimport { useRoute } from \"vue-router\";\r\nimport { testData } from \"./testData\";\r\nimport { Graph } from \"@antv/x6\";\r\n\r\nexport default function useInitMaterial(graph: Graph | undefined) {\r\n  const route = useRoute();\r\n  // 配置项\r\n  const conditionList = ref<Array<ComponentDataI>>(conditionData); // 决策点\r\n  const logicList = ref<Array<ComponentDataI>>(logicData); // 逻辑节点\r\n  const actionList = ref<Array<ComponentDataI>>(actionData); // 行为列表\r\n  const descisionGroupList = ref<Array<ComponentDataI>>(descisionGroup); // 决策组\r\n  const componentList = ref<Array<ComponentConfig>>([]);\r\n\r\n  // 获取自定义组件\r\n  const localConfig = JSON.parse(localStorage.getItem(\"config\") || \"[]\");\r\n  if (localConfig.length) {\r\n    conditionList.value.push({\r\n      className: \"自定义组件\",\r\n      classCode: \"self\",\r\n      children: localConfig,\r\n    });\r\n  }\r\n\r\n  const renderList = ref<Array<ComponentDataI>>([]);\r\n\r\n  // 获取物料配置,建立数据和模型关联关系\r\n  Promise.all([\r\n    fnGetAlltimer(), // 时间条件\r\n    fnGetAllweather(), // 天气条件\r\n    fnGetAllgeofence(), // 地理围栏条件\r\n    fnGetAllDelay(), // 动作\r\n  ]).then(([timeRes, weatherRes, geoRes, delayRes]) => {\r\n    // 定时条件\r\n    if (timeRes && timeRes.data) {\r\n      conditionList.value[1].children = timeRes.data.map(\r\n        (item: ComponentConfig) => {\r\n          return {\r\n            ...item,\r\n            shape: {\r\n              template: BASIC_NODE,\r\n            },\r\n            // port: {\r\n            //   templates: [CONDITION_OUT_PORT, CONDITION_IN_PORT],\r\n            // },\r\n            attr: {\r\n              template: TIME_ATTR,\r\n            },\r\n          };\r\n        }\r\n      );\r\n    }\r\n    // 天气条件\r\n    if (weatherRes && weatherRes.data) {\r\n      conditionList.value[2].children = weatherRes.data.map(\r\n        (item: ComponentConfig) => {\r\n          return {\r\n            ...item,\r\n            shape: {\r\n              template: BASIC_NODE,\r\n            },\r\n            // port: {\r\n            //   templates: [CONDITION_OUT_PORT, CONDITION_IN_PORT],\r\n            // },\r\n            attr: {\r\n              template: WEATHER_ATTR,\r\n            },\r\n          };\r\n        }\r\n      );\r\n    }\r\n    // 围栏信息\r\n    if (geoRes && geoRes.data) {\r\n      conditionList.value[3].children = geoRes.data.map(\r\n        (item: ComponentConfig) => {\r\n          return {\r\n            ...item,\r\n            shape: {\r\n              template: BASIC_NODE,\r\n            },\r\n            // port: {\r\n            //   templates: [CONDITION_OUT_PORT, CONDITION_IN_PORT],\r\n            // },\r\n            attr: {\r\n              template: FENCE_ATTR,\r\n            },\r\n          };\r\n        }\r\n      );\r\n    }\r\n    // 延时动作\r\n    if (delayRes && delayRes.data) {\r\n      actionList.value[2].children = delayRes.data.map(\r\n        (item: ComponentConfig) => {\r\n          return {\r\n            ...item,\r\n            shape: {\r\n              template: BASIC_NODE,\r\n            },\r\n            port: {\r\n              templates: [CONDITION_OUT_PORT, CONDITION_IN_PORT],\r\n            },\r\n            attr: {\r\n              template: DELAY_ATTR_ACTION,\r\n            },\r\n          };\r\n        }\r\n      );\r\n    }\r\n\r\n    [\r\n      ...conditionList.value,\r\n      ...logicList.value,\r\n      ...actionList.value,\r\n      ...descisionGroupList.value,\r\n    ].forEach((item) => {\r\n      componentList.value.push(...item.children);\r\n    });\r\n    registerComponent(componentList.value);\r\n\r\n    watch(\r\n      graph as Graph,\r\n      function (value) {\r\n        if (value) {\r\n          // 测试demo数据处理\r\n          testData(value, route);\r\n        }\r\n      },\r\n      { immediate: true }\r\n    );\r\n  });\r\n\r\n  // 当前是创建决策\r\n  if (route.name === \"createDescisionNode\") {\r\n    renderList.value = [...conditionList.value]; // 展示决策点组件\r\n    // 当前是创建流程\r\n  } else if (route.name === \"createFlow\") {\r\n    renderList.value = [...actionList.value, ...descisionGroupList.value]; // 展示行为组件和决策组组件\r\n    // 当前是创建决策组\r\n  } else if (route.name === \"createDescisionGroup\") {\r\n    renderList.value = logicList.value;\r\n  }\r\n  return {\r\n    renderList,\r\n  };\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, mergeProps as _mergeProps, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-95806a10\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"material-content\" }\n\nimport { ref, inject } from \"vue\";\r\nimport MenuItem from \"./MenuItem.vue\";\r\nimport useInitMaterial from \"@/views/MainPage/composition/useInitMaterial\";\r\nimport { Graph } from \"@antv/x6\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\n// 依赖\r\nconst graph: Graph | undefined = inject(\"graph\");\r\n\r\n// 配置项\r\nconst materialObj = useInitMaterial(graph);\r\nconst renderList = materialObj.renderList;\r\nconst activeNames = ref([\"condition\", \"action\", \"logic\"]);\r\nconst changeCollapse = function () {\r\n  console.log(\"world\");\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_collapse_item = _resolveComponent(\"el-collapse-item\")!\n  const _component_el_collapse = _resolveComponent(\"el-collapse\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_el_collapse, {\n      modelValue: activeNames.value,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((activeNames).value = $event)),\n      onChange: changeCollapse\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_collapse_item, {\n          title: \"决策组件\",\n          name: \"condition\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(MenuItem, _mergeProps(_ctx.$attrs, { \"menu-list\": _unref(renderList) }), null, 16, [\"menu-list\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"])\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=95806a10&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-95806a10\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveDynamicComponent as _resolveDynamicComponent, normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, openBlock as _openBlock, createBlock as _createBlock, mergeProps as _mergeProps, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-af3eae30\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"attribute-block\" }\nconst _hoisted_2 = { class: \"attribute-title\" }\nconst _hoisted_3 = [\"src\"]\n\nimport { computed } from \"vue\";\r\nimport { Node } from \"@antv/x6\";\r\nimport { getAttrTemplate } from \"@/modules/attribute/index\";\r\n\r\n// const emit = defineEmits([\"delNode\"]);\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    node: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\r\n  node: Node | undefined;\r\n};\n\r\n\r\n// 获取渲染属性模板\r\nconst renderAttr = computed(() => {\r\n  if (nodeData.value.attr) {\r\n    return getAttrTemplate(nodeData.value.attr);\r\n  }\r\n  return null;\r\n});\r\n\r\nconst nodeData = computed(() => {\r\n  return (props.node && props.node.data) || {};\r\n});\r\n\r\n//   // 删除节点\r\n// const delNode = () => {\r\n//   emit(\"delNode\");\r\n// };\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"img\", {\n        src: _unref(nodeData).icon,\n        alt: \"\"\n      }, null, 8, _hoisted_3),\n      _createElementVNode(\"h4\", null, _toDisplayString(_unref(nodeData).description), 1)\n    ]),\n    (_unref(renderAttr))\n      ? (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(renderAttr)), _normalizeProps(_mergeProps({ key: 0 }, _ctx.$attrs)), null, 16))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=af3eae30&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-af3eae30\"]])\n\nexport default __exports__","import { RouteLocationNormalizedLoaded } from \"vue-router\";\r\nimport { ElMessage } from \"element-plus\";\r\n// import adapterData from \"../../../assets/js/adapter\";\r\nimport { Cell } from \"@antv/x6\";\r\n\r\nexport default function testSaveData(\r\n  data: { cells: Cell.Properties[] },\r\n  route: RouteLocationNormalizedLoaded\r\n  // graph: Graph\r\n) {\r\n  const routeName = route.name;\r\n  const id = route.query.id;\r\n  let saveBool = false;\r\n  // 当前是创建决策节点\r\n  if (routeName === \"createDescisionNode\") {\r\n    const descisionNodeData = JSON.parse(\r\n      localStorage.getItem(\"descisionNode\") || \"{}\"\r\n    );\r\n    descisionNodeData[id as string] = data;\r\n    localStorage.setItem(\"descisionNode\", JSON.stringify(descisionNodeData));\r\n    saveBool = true;\r\n  }\r\n\r\n  // 当前是创建决策组\r\n  if (routeName === \"createDescisionGroup\") {\r\n    const descisionGroupData = JSON.parse(\r\n      localStorage.getItem(\"descisionGroup\") || \"{}\"\r\n    );\r\n    descisionGroupData[id as string] = data;\r\n    console.log(\"当前决策组内容是\", data);\r\n    // const resultData = adapterData(graph, data);\r\n    localStorage.setItem(\"descisionGroup\", JSON.stringify(descisionGroupData));\r\n    saveBool = true;\r\n  }\r\n\r\n  // 当前是创建决策组\r\n  if (routeName === \"createFlow\") {\r\n    const flowData = JSON.parse(localStorage.getItem(\"flow\") || \"{}\");\r\n    flowData[id as string] = data;\r\n    localStorage.setItem(\"flow\", JSON.stringify(flowData));\r\n    saveBool = true;\r\n  }\r\n\r\n  if (saveBool) {\r\n    ElMessage({\r\n      message: \"保存成功\",\r\n      type: \"success\",\r\n    });\r\n  }\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, vShow as _vShow, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ae655140\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"home\" }\nconst _hoisted_2 = { class: \"menu-bar\" }\nconst _hoisted_3 = { class: \"canvas-card\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { id: \"container\" }, null, -1))\nconst _hoisted_5 = { class: \"attrs-bar\" }\n\nimport { onMounted, ref, provide } from \"vue\";\r\nimport type { Node, Cell, Graph } from \"@antv/x6\";\r\nimport { graphToolsT } from \"@/assets/config/types/graphTools\";\r\nimport useInitGraph from \"./composition/useInitGraph\";\r\n// 自定义物料渲染\r\nimport Material from \"./material/index.vue\";\r\n// 工具栏\r\nimport GraphTools from \"@/components/graphTools/index.vue\";\r\nimport {\r\n  TOOL_ZOOM,\r\n  TOOL_FULLSCREEN,\r\n  TOOL_SAVE,\r\n  TOOL_DISABLED,\r\n} from \"@/assets/config/constants\";\r\n// 属性栏\r\nimport attributeBlock from \"./attribute/index.vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport testSaveData from \"./utils/testSaveData\";\r\nimport { BASIC_DESCISION_GROUP } from \"@/modules/material/constants\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\n// 依赖\r\nconst route = useRoute();\r\n\r\n// 画布实例\r\n// 初始化画布\r\nconst graphInstance = useInitGraph();\r\nconst graph = graphInstance.graph;\r\nconst dnd = graphInstance.dnd;\r\nprovide(\"graph\", graph); // 向子组件注入画布实例\r\n\r\n// 当前选中节点\r\nlet curSelectNode = ref<Node | undefined>();\r\nlet BasicNode = ref<Element | undefined>();\r\n// 通过子组件删除当前选中节点\r\nconst delNode = () => {\r\n  graph.value && graph.value.removeNode(curSelectNode.value as Node);\r\n  curSelectNode.value = undefined;\r\n};\r\n// 子组件数据同步给父组件\r\nconst syncData = (data: any) => {\r\n  if (curSelectNode.value) {\r\n    // 决策组\r\n    if (curSelectNode.value.shape === BASIC_DESCISION_GROUP) {\r\n      curSelectNode.value.attr(\"text/text\", data.descision);\r\n    } else {\r\n      const curSelectNodeData = curSelectNode.value.getData();\r\n      curSelectNode.value.setData({\r\n        ...curSelectNodeData,\r\n        attrData: data,\r\n      });\r\n    }\r\n  }\r\n};\r\n// 保存数据\r\nconst saveData = (data: { cells: Cell.Properties[] }) => {\r\n  console.log(\"保存的数据是\", data);\r\n  testSaveData(data, route, graph.value as Graph);\r\n};\r\n\r\n// 工具栏配置项\r\nconst tools: Array<graphToolsT> = [\r\n  TOOL_ZOOM,\r\n  TOOL_FULLSCREEN,\r\n  TOOL_SAVE,\r\n  TOOL_DISABLED,\r\n];\r\n\r\n// 控制连接桩显示/隐藏\r\nconst showPorts = (ports: NodeListOf<SVGElement>, show: boolean) => {\r\n  for (let i = 0, len = ports.length; i < len; i = i + 1) {\r\n    ports[i].style.visibility = show ? \"visible\" : \"hidden\";\r\n  }\r\n};\r\nonMounted(() => {\r\n  if (graph.value && dnd.value) {\r\n    // 添加node点击事件\r\n    graph.value.on(\"node:click\", ({ view, node }) => {\r\n      if (BasicNode.value) {\r\n        BasicNode.value.classList.remove(\"active\");\r\n      }\r\n      BasicNode.value =\r\n        view.container.querySelector(\".basic-node\") || undefined;\r\n      if (BasicNode.value) {\r\n        BasicNode.value.classList.add(\"active\");\r\n      }\r\n      // 判断是否有选中过节点\r\n      if (curSelectNode.value) {\r\n        // 判断两次选中节点是否相同\r\n        if (curSelectNode.value !== node) {\r\n          curSelectNode.value = node;\r\n        } else {\r\n          curSelectNode.value = undefined;\r\n        }\r\n      } else {\r\n        curSelectNode.value = node;\r\n      }\r\n    });\r\n    // 添加画布空白点击事件\r\n    graph.value.on(\"blank:click\", () => {\r\n      curSelectNode.value = undefined;\r\n      if (BasicNode.value) {\r\n        BasicNode.value.classList.remove(\"active\");\r\n      }\r\n    });\r\n    // 鼠标移上显示连接桩\r\n    graph.value.on(\"node:mouseenter\", () => {\r\n      const container = document.getElementById(\"container\") as Element;\r\n      const ports = container.querySelectorAll(\r\n        \".x6-port-body\"\r\n      ) as NodeListOf<SVGElement>;\r\n      showPorts(ports, true);\r\n    });\r\n    graph.value.on(\"node:mouseleave\", () => {\r\n      const container = document.getElementById(\"container\") as Element;\r\n      const ports = container.querySelectorAll(\r\n        \".x6-port-body\"\r\n      ) as NodeListOf<SVGElement>;\r\n      showPorts(ports, false);\r\n    });\r\n\r\n    // 添加连接线点击事件\r\n  }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(Material, { dnd: _unref(dnd) }, null, 8, [\"dnd\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"header\", null, [\n        _createVNode(GraphTools, {\n          tools: tools,\n          graph: _unref(graph),\n          onSaveData: saveData\n        }, null, 8, [\"graph\"])\n      ]),\n      _hoisted_4\n    ]),\n    _withDirectives(_createElementVNode(\"div\", _hoisted_5, [\n      _withDirectives((_openBlock(), _createBlock(attributeBlock, {\n        key: _unref(curSelectNode) && _unref(curSelectNode).id,\n        node: _unref(curSelectNode),\n        onSyncData: syncData,\n        onDelNode: delNode\n      }, null, 8, [\"node\"])), [\n        [_vShow, _unref(curSelectNode)]\n      ])\n    ], 512), [\n      [_vShow, _unref(curSelectNode)]\n    ])\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=ae655140&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\scenes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ae655140\"]])\n\nexport default __exports__","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"assets/js/\" + {\"239\":\"flow\",\"624\":\"LogicFlow\"}[chunkId] + \".\" + {\"239\":\"46286c3c\",\"624\":\"9481e8b5\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"assets/css/\" + {\"239\":\"flow\",\"624\":\"LogicFlow\"}[chunkId] + \".\" + {\"239\":\"7891bde2\",\"624\":\"d4de6f9a\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"scenes:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t};\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/scenes/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tlinkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"239\":1,\"624\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkscenes\"] = self[\"webpackChunkscenes\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9275); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["env","envapi","baseapi","dev","api","web","test","prod","apikaifa","iotRequest","method","path","params","headers","toLowerCase","iotAxios","catch","err","status","TOOL_ZOOM","TOOL_FULLSCREEN","TOOL_SAVE","TOOL_DISABLED","initKeyCopy","graph","bindKey","cells","getSelectedCells","length","copy","initKeyPaste","isClipboardEmpty","paste","offset","cleanSelection","select","initKeyCut","cut","initKeyUndo","canUndo","undo","initKeyRedo","canRedo","redo","initKeyDelete","removeCells","initGraph","options","use","enabled","multiple","rubberband","movable","showNodeSelectionBox","initKeyboard","keyArr","forEach","item","createDnd","dnd","target","createNode","event","data","node","setData","start","conditionData","className","classCode","children","description","name","icon","shape","template","port","templates","attr","logicData","id","descisionGroup","actionData","gatewayData","taskData","script","__exports__","render","_withScopeId","n","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","__name","setup","__props","router","route","handleOpen","key","keyPath","console","log","handleClose","changeRouter","routerName","push","_ctx","_cache","_component_el_icon","_component_el_menu_item","_component_document","_component_el_menu","_component_el_col","_component_el_row","_component_router_view","default","span","onOpen","onClose","onSelect","index","_","Location","meta","hideMenu","style","formSize","ref","ruleFormRef","ruleForm","reactive","region","count","date1","date2","delivery","type","resource","desc","rules","required","message","trigger","submitForm","formEl","validate","valid","fields","localConfig","JSON","parse","localStorage","getItem","setItem","stringify","resetForm","resetFields","_component_el_input","_component_el_form_item","_component_el_option","_component_el_select","_component_el_divider","_component_el_switch","_component_el_checkbox","_component_el_checkbox_group","_component_el_button","_component_el_form","ref_key","model","size","value","label","prop","modelValue","$event","src","alt","placeholder","onClick","activeName","handleClick","tab","_component_el_tab_pane","_component_el_tabs","onTabClick","configComponent","portComponent","useInitGraph","onMounted","templateName","container","document","getElementById","props","renderList","compositionList","addNode","e","activeNames","changeCollapse","_component_el_collapse_item","_component_el_collapse","onChange","title","temp","onMousedown","renderAttr","computed","nodeData","$attrs","testSaveData","routeName","query","saveBool","descisionNodeData","descisionGroupData","flowData","TeleportContainer","graphInstance","curSelectNode","BasicNode","delNode","removeNode","undefined","syncData","descision","curSelectNodeData","getData","attrData","saveData","tools","showPorts","ports","show","i","len","visibility","on","view","classList","remove","querySelector","add","querySelectorAll","onSaveData","onSyncData","onDelNode","tableData","createDescisionNode","prompt","goToEditDescisionNode","_component_el_table_column","_component_el_table","width","fixed","scope","link","row","createDescisionGroup","goToEditDescisionGroup","component","descisionNode","scene","history","routes","state","getters","mutations","actions","modules","app","createApp","App","locale","store","mount","Object","entries","DESCISION_ATTR","DESCISION_GROUP_ATTR","EQUIPMENT_ATTR","TIME_ATTR","WEATHER_ATTR","FENCE_ATTR","EQUIPMENT_ATTR_ACTION","MESSAGE_ATTR_ACTION","DELAY_ATTR_ACTION","useSyncAttrData","emit","watch","deep","emits","changeDescision","val","find","descisionNodeList","descisionId","min","max","descisionGroupList","componentId","filterable","deviceProductTypeList","prodtypeName","deviceCommand","handleDeviceCommandList","deviceCommandList","deviceSkillObject","propName","operationSign","handleDeviceParamSelect","operationSignList","itms","param","handleSkillSelect","variantsList","itm","stdValue","maxlength","propValType","require","disabled","noMessage","noAlarm","commandParamSelect","handleChangeCommad","inputValue","inputPlaceHolder","handleChangeInput","unit","isRequired","handleUuterSupport","inputFocus","fragmentListData","singData","stdDesc","variantsParamList","isDeviceSkill","source","this","$route","validator","rule","callback","getVariantsValue","editData","handler","old","arr","filter","prodtypeCode","handleDeviceCommand","immediate","mounted","handleDeviceProductType","$emit","methods","$forceUpdate","url","then","res","retCode","prodtypeId","map","$nextTick","$refs","diffForm","clearValidate","$set","valType","datas","variants","minValue","maxValue","step","toString","stdDescription","prodtypeFunctionSubDtoList","objName","logicalSign","isJSON_test","items","Number","exchangeType","exchangeVariants","str","obj","$vertifyMethods","isDouble","parseFloat","reg","resetFormData","handleChangeSelectParamSet","args","handleChangeParamSet","hours","setHour","minutes","setMinutes","repeatType","handleRepeatSet","repeatTypeMap","repeatTypeArr","changeBox","customSetList","initHMS","num","flag","setHMS","Array","checked","getTimer","split","week1","fistTemp","deviceParam","handleChangeCommandParam","equalList","deviceInputParam","dataPlaceHolder","handleBlur","rows","Error","selectedWeatherCondition","newVal","isLegal","getDeivceCommand","propClass","isSkill","isArray","handleSkillChangeCommad","paramSelectSet","paramInputSet","operation","deviceSkillObjectRules","deviceSkillObjectId","deviceSkillObjectDesc","sceneDeviceCondition","sceneInfo","FragmentList","triggerType","control","terminalTime","handleChangeTerminalTime","terminalStartHour","terminalStartMinutes","terminalEndHour","terminalEndMinutes","intervalTime","handleChangeTntervalTime","intervalHours","setIntervalHour","intervalMinutes","setIntervalMinutes","terminalType","terminalTypeList","configCode","toastType","toastTypeList","messagePriority","messagePriorityList","messageTitle","messageContent","getTerminalType","getToastType","handleSetIntervalHour","handleSetIntervalMinutes","pushMessage","msgStrategy","maxCount","startime","notWorkTimeStart","endTime","notWorkTimeEnd","handleDealTime","timeInterval","pushContent","msgTitle","msgContent","priority","handleDealShowTypes","showTypes","configParentCode","time","hour","parseInt","delayStartHour","delayStartMinutes","delayStartSecond","setSeconds","isShow","delayData","getDelayData","handleDealHMS","delayControl","attrMap","getAttrTemplate","CHECK_SAME_PORT","CHECK_PORT_TYPE","CHECK_OR_PORT","CHECK_CONDITION_PORT","checkSamePort","sourcePort","targetPort","checkPortType","sourcePortType","targetPortType","checkInPort","targetCell","getIncomingEdges","checkOutPort","checkConditionPort","getOutgoingEdges","checkOrPort","sourcePortName","targetPortName","graphRulesMap","createGraphRules","rulesArr","rulesLength","validateRes","validateConnection","snap","radius","allowBlank","allowMulti","allowLoop","allowNode","allowEdge","allowPort","highlight","connector","connectionPoint","anchor","padding","createEdge","attrs","line","zIndex","BASIC_EDGE","basicGraphConfig","autoResize","grid","visible","color","thickness","background","panning","modifiers","eventTypes","mousewheel","factor","maxScale","minScale","highlighting","magnetAvailable","fill","stroke","strokeWidth","connecting","edgeAnchor","edgeMovable","vertexDeletable","validateMagnet","targetMarker","height","sceneGraphConfig","common","graphMap","registerGraph","config","assign","SCENE_GRAPH","getNode","inject","nodeConfig","current","sign","_component_Close","_component_Plus","iconMap","User","registerBasicNode","registerBasicLogicNode","BasicLogicNode","registerBasicOrNode","BasicOrNode","registerBasicDescisionNode","BasicDescisionNode","isRegisterDescisionGroup","registerBasicDescisionGroup","inherit","body","refPoints","text","fontSize","portTemplates","registerGatewayNode","GatewayNode","registerTaskNode","TaskNode","registerMap","registerMaterial","nodeName","registerComponent","componentConfigs","shapeConfig","BASIC_NODE","BASIC_LOGIC_NODE","BASIC_OR_NODE","BASIC_DESCISION_NODE","BASIC_DESCISION_GROUP","GATEWAY_NODE","TASK_NODE","PORT_OUT_PUT","PORT_IN_PUT","PORT_CONDITION","OUT_PUT_ARR","IN_PUT_ARR","CONDITION_PORT","CONDITION_OUT_PORT","CONDITION_IN_PORT","ACTION_PORT","ACTION_OUT_PORT","ACTION_IN_PORT","BASIC_OR_PORT","BASIC_OR_IN_PORT","BASIC_OR_OUT_PORT","BASIC_OR_CONDITION_PORT","circle","r","magnet","groups","position","group","v4","conditionOutPort","conditionInPort","basicOrPort","actionOutPort","actionInPort","getPortConfig","portConfig","prototype","concat","effect","content","placement","zoomFn","zoom","centerFn","centerContent","saveFn","toJSON","diff","_component_UploadFilled","_component_el_tooltip","isLock","lockFn","enablePanning","enableKeyboard","disablePanning","disableKeyboard","foldShow","String","fold","Boolean","created","menuList","eleitem","draggable","fnGetAlltimer","fnGetAllweather","fnGetAllgeofence","fnGetAllDelay","testData","fromJSON","json","x","y","useInitMaterial","conditionList","logicList","actionList","componentList","Promise","all","timeRes","weatherRes","geoRes","delayRes","materialObj","MenuItem","provide","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","notFulfilled","Infinity","fulfilled","j","keys","every","splice","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","f","chunkId","reduce","promises","u","miniCssF","g","globalThis","Function","window","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","setTimeout","bind","head","appendChild","Symbol","toStringTag","nmd","paths","p","createStylesheet","fullhref","oldTag","resolve","reject","linkTag","rel","onLinkComplete","errorType","realHref","href","code","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","error","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}